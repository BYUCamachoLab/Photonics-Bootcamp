<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>w02_pdk_mzi_layout.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>w02 pdk mzi layout</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-3OIHLLq_.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/preload-helper-g1IWzEZ-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-XTZdWHwa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/compiler-runtime-QczY1yfQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEventListener-4mpeqPxW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-dom-BZDtXk6t.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jsx-runtime-DUsrKwmN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Combination-D2HqSOvH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clsx-FpJB9huX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cn-Cs2e4A8T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/menu-items-B57SjdWM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hotkeys-Dh4gy4JD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/button-D8mnDDLX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Dj-O1Spr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createLucideIcon-BJ2I6csQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/check-CWbw3kKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/select-CgZgQ5hV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/multi-map-D3NvLiI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chevron-right-B_qBg_RU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dropdown-menu-Ciqx4yT-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-DqNvr2Rw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_getTag-BWqNuuwU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseIsEqual-C8v2yRqO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jotai-D74Ef_p1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/invariant-Amh6wt4N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isArrayLikeObject-BkJc8lDE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/merge-5YNOh9ZD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/zod-BBqism5D.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utils-x9KlwLm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/requests-THIDPq-F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/once-BxRirs3K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toDate-Y5T6FHPx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSlice-BoaxdS7L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_hasUnicode-CNlKPr15.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useLifecycle-8fgb5Nue.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capitalize-L9-XHPtm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ai-model-dropdown-CO52rzQt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/badge-Cm0WUI-_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/use-toast-DKTyV2AR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/constants-BmIIVBf_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Deferred-9HYzcD3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/config-CbG7e0K6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/uuid-B8w6pjWV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/DeferredRequestRegistry-DfLQSvoS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/connection-B11rCPnY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNonce-D8CLFIrY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capabilities-Bdlrhekp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createReducer-VgoBNe3M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-C3a_7WFa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-0z0sEYV-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzfTz_Dx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DmruaXMM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DU0YrNRK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-_bGPtAsk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DsSBESho.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-B2TjmP7E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzDb7E9f.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stex-C4ZxI0N3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cjs-Ba5CQnxe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_arrayReduce-DdxhySYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/type-kFt-n-jZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseProperty-D0ckTA0L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toNumber-GB_lFVaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/now-CAWn5i9V.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/debounce-Bgq-wc7M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toInteger-Cl1doThW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/main-CC_mbgxK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-DoKM12vd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/kbd-EdFdwHEs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/renderShortcut-CLenKJO6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEvent-l9BzRqpK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeleteCell-BDBSmjLV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lazy-Cbg8zRvU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-8c1ixjJ_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/precisionRound-CQhbsDNz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-BECdiY5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vega-loader.browser-DZ31-605.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-CSAGVmjx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ErrorBoundary-6EjkHrSV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-dialog-D9SwG8oA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dialog-BPIq0Dmw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDebounce-C9S6xmGh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/numbers-BigybruE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/SSRProvider-DlZbKHsu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/context-CO64Gasq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNumberFormatter-B5HAJDUq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/usePress-DHxqjtDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/input-CVoLDDk-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ImperativeModal-ameyIrhc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cell-link-BiAu_8pk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-D5BMn3Et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/links-Iv0WhyKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/state-i7G4J1VS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/MarimoErrorOutput-Bh7Bgl2Z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-BS3uwoaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-DhmkXAPp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-icon-Lyk2_Z8G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spinner-DpaQpaiI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D1pae9A2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/focus-CyxSol0W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/popover-DZBXSGEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useRunCells-DT1En-Te.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mode-DKDAYLK9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/purify.es-hXMlfS4W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/RenderHTML-Dlz0Ew2i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-CesNYRF-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tabs-BjAbB8w_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-missing-import-DV1FOw9w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAsyncData-_-DLduEH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useIframeCapabilities-r0LQMxAQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/LazyAnyLanguageCodeMirror-C7KtNlRp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/error-banner-C9tkg1MX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/formats-C3exma5i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useTheme-DpA-8Qyy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/en-US-Lc4gASCJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isValid-Cd_L_2Pm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/maps-D4abje2p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shim-D-ElLTBO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-CCvBQ7qL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/extends-C2lJEiP_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/emotion-is-prop-valid.esm-c4A1huxA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDateFormatter-BMdQ9MI_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/katex-BmfUoCWW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/marked.esm-idL59iHw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-T7OEMACY-CdGEwedE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/range-Bbli-TEL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-kHJ0xpFt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DxdWGPFi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/name-cell-input-C6ZYU6mN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useHotkey-B0ylhc2m.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CqHWOZu2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BcLYYUSi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BVXr6b5T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BrEX5EQl.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CalRK9ms.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Cc4T7UUX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D3MC5WiF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DgaCIZAa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-rqHtY98i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-tj-jaP-y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-w7c0BKrD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CCZcRJI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CrDb6akR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/apl-BQt6lLuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asciiarmor-BjX7bs0j.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asn1-xn1MtyoW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/brainfuck-BjO-UY1i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clike-DW9tQWfF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clojure-BSW96HRx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cmake-C7UlMfz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cobol-CyWIev3Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/coffeescript-DTvziYTK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/commonlisp-yMdkdGMi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/crystal-BGnoSp3z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/css-D7fWzevp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cypher-Cr1dl0Qf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/d-C2bS5bA6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/diff-B2mHQyn6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dtd-Cy-lUE7p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dylan-mm60grwk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ecl-Cqi05Wy1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eiffel-FkvfLQq7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/elm-Da5txHw0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/erlang-CdnCEH5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/simple-mode-B185hCuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/factor-CamlR8EJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/forth-UcMX0m31.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/fortran-DZ_vNVsP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gas-CM88o6Zj.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gherkin-BhrpTeN9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/groovy-BFju68Wx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haskell-CrWHY4et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haxe-1eKW-tbO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/idl-Do4AwvU2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/javascript-CTXZKRYd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/julia-BRynwHI4.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/livescript-ZmIBNA-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lua-mUfZ-MRC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mathematica-Dil5dTHO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mbox-Dnkn9wSr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mirc-auEWieOB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mllike-xVJsauJ8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/modelica-B8kajVDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mscgen-Bsnta1jn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mumps-CMw16b5q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/nsis-DwPdi8sw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ntriples-O5lQxirn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/octave-CMfAar-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/oz-CLRI9Qww.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pascal-D2M_3HBx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/perl-B8lV7aKt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pig-Bima2bfE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/powershell-v_t41ydu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/properties-ChrStSby.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/protobuf-Bin6kmlf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pug-UWVdYLYW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/puppet-DYrtWvYn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/python-BuKrulde.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/q-CrXUTiVN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/r-Bk2Tiso2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/rpm-CmmZphz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ruby-ElyOTVeQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sas-jE3ZlG0K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/scheme-CZF1tRbv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shell-LqT3ZqMa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sieve-y15yT7Pp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/smalltalk-pk5PvsMs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sparql-DTZ_gfPQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stylus-CrGj0eNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/swift-tt3PlBbI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tcl-1P4b0GMJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textile-BHDIuMYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toml-C8qoqk_i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/troff-DMiF5Zmz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-cfg-qLZtNU-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-BAUp3RZn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/turtle-BizIwmKv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vb-Bn_uCxNL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vbscript-BTKW8Atx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/velocity-CcB05fpi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/verilog-BWdtOJH8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vhdl-CzFOaOHx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/webidl-DDEKCqSy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/xquery-BcF6ZhQP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/yacas-BARQAiXa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/z80-DO_Ep0iT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-DnNh7vdQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/objectWithoutPropertiesLoose-DDabolgJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-Crqxhl3F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-Df8Wb7xS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-D8ETq-cc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/icons-BgmgMjOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/blob-LiDbeYko.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-cell-with-ai-85tnyxYo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chart-no-axes-column-BrQ3B3xc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-function-D5EEjILG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spec-DpllSlJD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useInstallPackage-BaAhpZlP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/column-preview-DGBk0umL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAddCell-DYfGo4T8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toggle-PGHtwx2G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/api-CoLss8_O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globals-oV9pRUSB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/share-DjbnD3WE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/memoize-DN0TMY36.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/get-CyLJYAfP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSet-CKSmZC_I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utilities.esm-DvrcU9Ky.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/floating-outline-DmCT2Mvg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eye-off-BUwXWtH0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/plus-CiGrWbgb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/readonly-python-code-CkaJ4Tks.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-video-camera-BGBfFNDn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-text-O5IflCIn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-CqXxt3_J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-BMriRmf-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/label-4Nancvon.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textarea-BnZHy5Jt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/circle-x-Cc9X6U_B.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-ccw-aU2rUkrI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-2-Du5ITnDv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/form-600t_Civ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/field-Dov6YyOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/switch-Ct8mUApv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useBoolean-Dmwks1uh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeepCompareMemoize-C8RdAYFq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-D0WVpW93.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/prop-types-WJwGTMoZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/es-DAmFxw3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/VisuallyHidden-RqykLBKh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseFlatten-rM2FaX4x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hasIn-CE-pxQP-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_basePickBy-LbasZ8ix.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pick-FbHfDtcJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/send-LAFRRDPT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/code-xml-DdSOsi73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-Dmmu2U4a.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globe-vMZtva7z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-cw-BOc7UXm9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/settings-DznrHqbd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-DhlBDqyx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/triangle-alert-Bf1kg4xT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DL3W3q-2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/bundle.esm-C-9IAWQU.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-wU8qigWB.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DUep6sC9.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-CJU5NUvF.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "w02_pdk_mzi_layout.py",
            "mode": "read",
            "version": "0.18.4",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "compact"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo", "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "from _notebook_template import inject_css\n\ninject_css(mo)", "code_hash": "6cb978e63f2955e2bd66085ab06248fe", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "_"}, {"code": "from _notebook_template import make_doc_helpers\n\ndoc_badges, doc_callout_html, doc_callout_list = make_doc_helpers(mo)", "code_hash": "05080628ac7431f1b8289de5a4735a5a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "from _notebook_template import make_section_tabs\n\nsection_tabs, view_state, set_view = make_section_tabs(\n    mo,\n    options=(\"All\", \"Overview\", \"Targets\", \"KLayout + PDK\", \"Layout skeleton\", \"Submission\"),\n    value=\"All\",\n)\nsection_tabs", "code_hash": "5f37d563ce58c8b88120f88b8204345a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "_"}, {"code": "view = view_state()\nshow_overview = view in [\"All\", \"Overview\"]\nshow_targets = view in [\"All\", \"Targets\"]\nshow_klayout = view in [\"All\", \"KLayout + PDK\"]\nshow_skeleton = view in [\"All\", \"Layout skeleton\"]\nshow_submission = view in [\"All\", \"Submission\"]", "code_hash": "b294cb4a875fb0003cc74cc4b37fbc90", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "_"}, {"code": "doc_badges(\n    [\n        f\"Notebook view: \u003Cstrong\u003E{view}\u003C/strong\u003E\",\n    ]\n)", "code_hash": "9091f5bf6f4ffe6d2e2aa6ff2e9cc932", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "_"}, {"code": "mo.stop(not show_overview)\nfrom _style import header\n\nheader(\n    mo,\n    title=\"PDK MZI layout (KLayout + SiEPIC)\",\n    subtitle=(\n        \"Build a first MZI layout using the SiEPIC-EBeam PDK workflow in KLayout. \"\n        \"Use modelling targets (\u0394L \u2194 FSR) to guide geometry choices, then save your work in the openEBL repo.\"\n    ),\n    badges=[\"Week 2\", \"Lab companion\", \"PDK\", \"KLayout\", \"openEBL workflow\"],\n    toc=[\n        (\"Overview\", \"overview\"),\n        (\"Targets\", \"targets\"),\n        (\"KLayout + PDK\", \"klayout\"),\n        (\"Layout skeleton\", \"skeleton\"),\n        (\"Submission\", \"submission\"),\n    ],\n    build=\"2025-12-16\",\n)", "code_hash": "47e7f23f2be795e37f9eaf7194918752", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "mo.stop(not show_overview)\nmo.md(r\"\"\"\n\u003Ca id=\"overview\"\u003E\u003C/a\u003E\n## Overview\n\nThis is the **PDK + compact-model + layout** companion for Week 2. The modelling companion is:\n`marimo_course/lessons/w02_mzi_modelling.py`, where you derived and explored the ideal MZI transfer function.\n\nIn this notebook, you\u2019ll connect three ideas that show up in every photonics workflow:\n\n- **Compact models:** fast, circuit-level models of components (couplers, waveguides, phase shifters) that let you\n  simulate a whole photonic circuit without solving Maxwell\u2019s equations everywhere.\n- **PDK (process design kit):** a foundry/technology \u201cpackage\u201d that defines the **design rules**, **layers**, and\n  **parameterized building blocks** (plus their compact models) so your design is manufacturable and checkable.\n- **Reproducibility across views:** build the *same* MZI you modelled last lesson, first as a **circuit** from compact\n  models and then as a **layout** in KLayout using PDK cells.\n\nIn lab, you will:\n\n1. Decide on a **target** (FSR \u2192 \u0394L) near **1550 nm**.\n2. Build an MZI from **compact models** (component \u2192 circuit) and sanity-check it against the Week 2 model.\n3. Assemble the same MZI from **PDK building blocks** in KLayout (splitter, waveguides, combiner, I/O).\n4. Add the **conventions** required for downstream checks (ports/pins, DevRec, labels/floorplan as required).\n5. Save your design in the **openEBL** submission repo and keep CI green.\n\"\"\")\n\ndoc_callout_list(\n    \"info\",\n    tag=\"Learning goals\",\n    title=\"What you should be able to do after this notebook\",\n    items=[\n        \"Explain what a compact model is and why we use them for circuit-level photonics design.\",\n        \"Describe what a PDK provides (layers, rules, cells, models) and why it matters for manufacturable layouts.\",\n        \"Create an MZI from compact-model building blocks and connect \u0394L \u2194 FSR back to the modelling notebook.\",\n        \"Implement the same MZI in KLayout using PDK-accurate cells so it passes downstream checks.\",\n    ],\n)\n\ndoc_callout_list(\n    \"warning\",\n    tag=\"Where is the graded work?\",\n    title=\"Lab companion vs homework\",\n    items=[\n        \"This notebook is a lab companion (workflow + checklists + reference).\",\n        \"Graded work should live in a homework notebook under `marimo_course/assignments/`.\",\n    ],\n)", "code_hash": "8e984217cb39dacc3e59e8b03ff89280", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "_"}, {"code": "mo.stop(not show_overview)\nklayout_open = mo.ui.checkbox(label=\"KLayout open with SiEPIC-EBeam PDK\", value=False)\nplaced_blocks = mo.ui.checkbox(label=\"Placed I/O + splitter/combiner cells\", value=False)\nrouted = mo.ui.checkbox(label=\"Routed an MZI skeleton with \u0394L\", value=False)\nannotated = mo.ui.checkbox(label=\"Added pins/DevRec/labels as required\", value=False)\nsaved = mo.ui.checkbox(label=\"Saved in openEBL repo + CI checked\", value=False)\nmo.vstack([klayout_open, placed_blocks, routed, annotated, saved])", "code_hash": "5d43686d772a1645cc94a91c8db907c1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "mo.stop(not show_overview)\ngo_targets = mo.ui.button(\n    value=0,\n    kind=\"success\",\n    label=\"Go to Targets\",\n    on_click=lambda v: (set_view(\"Targets\"), (v or 0) + 1)[-1],\n)\ngo_klayout = mo.ui.button(\n    value=0,\n    kind=\"neutral\",\n    label=\"Go to KLayout + PDK\",\n    on_click=lambda v: (set_view(\"KLayout + PDK\"), (v or 0) + 1)[-1],\n)\ngo_skeleton = mo.ui.button(\n    value=0,\n    kind=\"neutral\",\n    label=\"Go to Layout skeleton\",\n    on_click=lambda v: (set_view(\"Layout skeleton\"), (v or 0) + 1)[-1],\n)\ngo_submission = mo.ui.button(\n    value=0,\n    kind=\"neutral\",\n    label=\"Go to Submission\",\n    on_click=lambda v: (set_view(\"Submission\"), (v or 0) + 1)[-1],\n)\nmo.hstack([go_targets, go_klayout, go_skeleton, go_submission], justify=\"start\", gap=1)", "code_hash": "8130d8b696bb25ea25ab49294d95e7e6", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "mo.stop(not show_targets)\nmo.md(r\"\"\"\n\u003Ca id=\"targets\"\u003E\u003C/a\u003E\n## Targets: pick \u0394L from an FSR target (1550 nm default)\n\nUse the Week 2 modelling notebook to build intuition and sanity-check values:\n`marimo_course/lessons/w02_mzi_modelling.py`.\n\nRule-of-thumb near \u03bb0:\n\n$$\n\\mathrm{FSR} \\approx \\frac{\\lambda_0^2}{n_g\\,\\Delta L}.\n$$\n\"\"\")\n\ndoc_callout_html(\n    \"info\",\n    tag=\"Tip\",\n    title=\"What matters for FSR\",\n    html=(\n        \"- \u0394L sets fringe spacing (FSR) approximately as `1/\u0394L`.\\n\"\n        \"- Base length doesn\u2019t change FSR in the ideal model.\\n\"\n        \"- Use **1550 nm** by default; treat **1310 nm** as an extension.\"\n    ),\n)", "code_hash": "490b482e7ea1319eec0afc659edd56c3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "_"}, {"code": "mo.stop(not show_targets)\nwl0_nm = mo.ui.number(value=1550.0, label=\"\u03bb0 (nm)\")\nng = mo.ui.number(value=4.19, label=\"ng (group index)\")\ndeltaL_um = mo.ui.number(value=50.0, label=\"Planned \u0394L (\u00b5m)\")\nmo.hstack([wl0_nm, ng, deltaL_um])", "code_hash": "ef2262bfa95644798bc6e0a8c4aeacf3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "_"}, {"code": "mo.stop(not show_targets)\nwl0_um = float(wl0_nm.value) / 1e3\nng_val = float(ng.value)\ndelta_L_um = float(deltaL_um.value)\nfsr_nm = (\n    None\n    if (delta_L_um \u003C= 0 or ng_val \u003C= 0)\n    else (wl0_um * wl0_um) / (ng_val * delta_L_um) * 1e3\n)\nmo.md(\n    \"FSR estimate: (enter positive \u0394L and ng)\"\n    if fsr_nm is None\n    else f\"FSR estimate: **{fsr_nm:.2f} nm**\"\n)", "code_hash": "6bd6f3bc304912a37383b542b8874a93", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "_"}, {"code": "mo.stop(not show_targets)\nimport base64 as b64\n\ndelta_L_um_vis = float(deltaL_um.value)\nextra = max(0.0, min(80.0, delta_L_um_vis))  # purely visual; does not affect calculations\ndy = 26\nx0, x1, x2, x3 = 20, 110, 310, 400\ny_mid = 65\ny_top = y_mid - dy\ny_bot = y_mid + dy\n\n# The upper arm is drawn a bit longer (extra) to visually suggest \u0394L.\nx2_top = x2 + extra\n\nsvg = f\"\"\"\n\u003Csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"520\" height=\"140\" viewBox=\"0 0 520 140\"\u003E\n  \u003Cstyle\u003E\n    .wg {{ fill: none; stroke: #111; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; }}\n    .box {{ fill: #f6f6f6; stroke: #999; stroke-width: 1.5; }}\n    .txt {{ font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; font-size: 12px; fill: #111; }}\n    .sub {{ font-size: 11px; fill: #444; }}\n  \u003C/style\u003E\n\n  \u003C!-- input / output --\u003E\n  \u003Cpath class=\"wg\" d=\"M {x0} {y_mid} L {x1} {y_mid}\" /\u003E\n  \u003Cpath class=\"wg\" d=\"M {x3} {y_mid} L 500 {y_mid}\" /\u003E\n\n  \u003C!-- coupler boxes --\u003E\n  \u003Crect class=\"box\" x=\"{x1}\" y=\"{y_mid-18}\" width=\"70\" height=\"36\" rx=\"6\"/\u003E\n  \u003Crect class=\"box\" x=\"{x3-70}\" y=\"{y_mid-18}\" width=\"70\" height=\"36\" rx=\"6\"/\u003E\n  \u003Ctext class=\"txt\" x=\"{x1+10}\" y=\"{y_mid-2}\"\u003ESplitter\u003C/text\u003E\n  \u003Ctext class=\"txt\" x=\"{x3-60}\" y=\"{y_mid-2}\"\u003ECombiner\u003C/text\u003E\n\n  \u003C!-- arms --\u003E\n  \u003Cpath class=\"wg\" d=\"M {x1+70} {y_top} L {x2_top} {y_top} L {x3-70} {y_top}\" /\u003E\n  \u003Cpath class=\"wg\" d=\"M {x1+70} {y_bot} L {x2} {y_bot} L {x3-70} {y_bot}\" /\u003E\n  \u003Cpath class=\"wg\" d=\"M {x1+70} {y_mid} L {x1+70} {y_top}\" /\u003E\n  \u003Cpath class=\"wg\" d=\"M {x1+70} {y_mid} L {x1+70} {y_bot}\" /\u003E\n  \u003Cpath class=\"wg\" d=\"M {x3-70} {y_mid} L {x3-70} {y_top}\" /\u003E\n  \u003Cpath class=\"wg\" d=\"M {x3-70} {y_mid} L {x3-70} {y_bot}\" /\u003E\n\n  \u003C!-- labels --\u003E\n  \u003Ctext class=\"txt\" x=\"20\" y=\"20\"\u003ECircuit schematic (conceptual)\u003C/text\u003E\n  \u003Ctext class=\"txt sub\" x=\"20\" y=\"38\"\u003EUpper arm longer by \u0394L \u2248 {delta_L_um_vis:.1f} \u00b5m (visual only)\u003C/text\u003E\n\u003C/svg\u003E\n\"\"\".strip()\n\nsvg_b64 = b64.b64encode(svg.encode(\"utf-8\")).decode(\"ascii\")\nmo.md(\n    \"\u003Cdiv style='max-width:100%; overflow:auto;'\u003E\"\n    f\"\u003Cimg src='data:image/svg+xml;base64,{svg_b64}' style='max-width:100%; height:auto;'/\u003E\"\n    \"\u003C/div\u003E\"\n)", "code_hash": "3c2a20e3f68ad8ac2ed6717525cabd81", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "_"}, {"code": "mo.stop(not show_klayout)\nmo.md(r\"\"\"\n\u003Ca id=\"klayout\"\u003E\u003C/a\u003E\n## KLayout + SiEPIC-EBeam PDK setup\n\nThis section is intentionally procedural: the goal is to reduce \u201cwhere do I click?\u201d friction in lab.\n\"\"\")\n\ndoc_callout_list(\n    \"info\",\n    tag=\"Checklist\",\n    title=\"Setup and sanity checks\",\n    ordered=True,\n    items=[\n        \"Install KLayout and the SiEPIC-EBeam PDK (confirm the technology loads).\",\n        \"Confirm the correct process/run assumptions for this semester (default: **1550 nm** structures).\",\n        \"Open an example layout from the PDK and verify layers look sensible.\",\n        \"Create a new layout inside the run repo using the required filename conventions.\",\n    ],\n)", "code_hash": "ecac4a9c7a530e4f2262bec8f43f4e5d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "_"}, {"code": "mo.stop(not show_skeleton)\nmo.md(r\"\"\"\n\u003Ca id=\"skeleton\"\u003E\u003C/a\u003E\n## Layout skeleton (MZI) \u2014 build first, refine later\n\nBuild a simple MZI skeleton using PDK cells (splitter/combiner + waveguides + I/O).\nKeep it **simple and clean**: symmetry, straight segments where possible, and a clear way to implement \u0394L.\n\nOptional: generate a quick \u201cgeometry-only\u201d MZI skeleton using gdsfactory to visualize the idea,\nthen recreate it with PDK-accurate cells in KLayout.\n\"\"\")\n\ndoc_callout_list(\n    \"warning\",\n    tag=\"Important\",\n    title=\"PDK vs generic geometry\",\n    items=[\n        \"For openEBL submissions, your final design must follow the PDK cell conventions expected by the run repo.\",\n        \"A gdsfactory skeleton is useful for intuition, but it is not a substitute for a PDK-accurate KLayout design.\",\n    ],\n)", "code_hash": "288f008912af1f40e16bb7bdd999ca24", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "_"}, {"code": "mo.stop(not show_skeleton)\nfrom _notebook_template import optional_import\n\ngf_mod, gf_error = optional_import(\"gdsfactory\")\navailable = gf_mod is not None\n\ndoc = (\n    \"Optional gdsfactory helper: **available**\"\n    if available\n    else f\"Optional gdsfactory helper: **not available** (`{gf_error}`)\"\n)\nmo.md(doc)", "code_hash": "f226947e33936ad6543fa0e8f25fd539", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "_"}, {"code": "mo.stop(not show_skeleton)\nmo.stop(not available)\n\ngds_out = mo.ui.text(value=\"marimo_course/build/week2_mzi_skeleton.gds\", label=\"GDS output path\")\ndelta_length = mo.ui.number(value=50.0, label=\"\u0394L (\u00b5m)\")\nlength_x = mo.ui.number(value=60.0, label=\"length_x (\u00b5m)\")\nlength_y = mo.ui.number(value=10.0, label=\"length_y (\u00b5m)\")\nwrite = mo.ui.button(value=0, label=\"Write GDS\", kind=\"success\", on_click=lambda v: (v or 0) + 1)\nmo.vstack([mo.hstack([gds_out, write]), mo.hstack([delta_length, length_x, length_y])])", "code_hash": "a426b55c75d811da9dc39c7e8dedc92b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "_"}, {"code": "mo.stop(not show_skeleton)\nmo.stop(not available)\n\nfrom pathlib import Path\n\ndef write_mzi_skeleton(*, out: Path, delta_length_um: float, length_x_um: float, length_y_um: float) -\u003E Path:\n    gf = gf_mod\n    mzi = gf.components.mzi(\n        delta_length=float(delta_length_um),\n        length_x=float(length_x_um),\n        length_y=float(length_y_um),\n    )\n    out.parent.mkdir(parents=True, exist_ok=True)\n    written = mzi.write_gds(gdspath=out)\n    return Path(written)", "code_hash": "7e858b0279523d4cda540a9d4155f132", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TqIu", "name": "_"}, {"code": "mo.stop(not show_skeleton)\nmo.stop(not available)\n\nblocks = []\nif int(write.value or 0) \u003C= 0:\n    blocks.append(\n        mo.md(\"Click **Write GDS** to export a skeleton you can inspect in KLayout.\")\n    )\nelse:\n    out = Path(str(gds_out.value)).expanduser()\n    try:\n        written = write_mzi_skeleton(\n            out=out,\n            delta_length_um=float(delta_length.value),\n            length_x_um=float(length_x.value),\n            length_y_um=float(length_y.value),\n        )\n        blocks.append(mo.md(f\"Wrote: `{written}`\"))\n        blocks.append(mo.md(f\"Open in KLayout: `klayout {written}`\"))\n    except Exception as e:  # pragma: no cover\n        blocks.append(mo.md(f\"(GDS write failed: `{type(e).__name__}: {e}`)\"))\n\nmo.vstack(blocks)", "code_hash": "e64105d0a54358fde3afdd2008c3255b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "_"}, {"code": "mo.stop(not show_submission)\nmo.md(r\"\"\"\n\u003Ca id=\"submission\"\u003E\u003C/a\u003E\n## Save + submission workflow (openEBL)\n\nThe details depend on the specific openEBL run repository used this semester, but the structure is consistent:\nsave designs in the right folder, run checks, fix failures, and submit via PR.\n\"\"\")\n\ndoc_callout_list(\n    \"info\",\n    tag=\"Checklist\",\n    title=\"Before you push\",\n    ordered=True,\n    items=[\n        \"Confirm your layout file is inside the run repo (e.g., `openEBL-2026-02/submissions/...`).\",\n        \"Verify naming conventions and top-level cell structure match the run instructions.\",\n        \"Run local verification in KLayout if available (press V / run scripts).\",\n        \"Push to your fork and check GitHub Actions results; download artifacts when something fails.\",\n    ],\n)", "code_hash": "bdec5fbd7daeeb9c61ca0b15caff881f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "DnEU", "name": "_"}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "session": {"cells": [{"code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "6cb978e63f2955e2bd66085ab06248fe", "console": [], "id": "MJUe", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cstyle\u003E\n  :root {\n    --doc-max: 920px;\n    --doc-muted: color-mix(in srgb, currentColor 65%, transparent);\n    --doc-border: color-mix(in srgb, currentColor 18%, transparent);\n    --doc-accent: #2563eb;\n    --doc-bg: color-mix(in srgb, currentColor 3%, transparent);\n  }\n\n  /* \"Docs-like\" typography + width */\n  .markdown.prose,\n  .markdown.prose \u003E :is(h1,h2,h3,h4,h5,h6,p,ul,ol,pre,blockquote,table,hr,div) {\n    max-width: var(--doc-max);\n  }\n  .markdown.prose { padding-right: 1rem; }\n  .markdown.prose :is(h1,h2,h3) { letter-spacing: -0.01em; }\n  .markdown.prose a { color: var(--doc-accent); text-decoration: none; }\n  .markdown.prose a:hover { text-decoration: underline; }\n  .markdown.prose code {\n    background: var(--doc-bg);\n    padding: 0.12rem 0.28rem;\n    border-radius: 0.3rem;\n  }\n  .markdown.prose pre code { background: transparent; padding: 0; }\n  .markdown.prose pre {\n    border: 1px solid var(--doc-border);\n    border-radius: 0.7rem;\n    padding: 0.9rem 1rem;\n    overflow: auto;\n  }\n\n  .doc-hero {\n    max-width: var(--doc-max);\n    border: 1px solid var(--doc-border);\n    border-radius: 1rem;\n    padding: 1.2rem 1.2rem 0.9rem 1.2rem;\n    background: linear-gradient(\n      180deg,\n      color-mix(in srgb, var(--doc-accent) 10%, transparent),\n      transparent\n    );\n  }\n  .doc-hero h1 { margin: 0.2rem 0 0.4rem 0; }\n  .doc-hero p { margin: 0.2rem 0 0.8rem 0; color: var(--doc-muted); }\n  .doc-badges { display: flex; gap: 0.5rem; flex-wrap: wrap; margin: 0.2rem 0; }\n  .doc-badge {\n    border: 1px solid var(--doc-border);\n    border-radius: 999px;\n    padding: 0.15rem 0.55rem;\n    font-size: 0.85rem;\n    background: color-mix(in srgb, currentColor 2%, transparent);\n  }\n  .doc-toc {\n    max-width: var(--doc-max);\n    border: 1px solid var(--doc-border);\n    border-radius: 0.9rem;\n    padding: 0.8rem 1rem;\n    background: color-mix(in srgb, currentColor 1%, transparent);\n  }\n  .doc-toc ul { margin: 0.4rem 0 0 1.2rem; }\n\n  /* Standard callouts */\n  .callout {\n    max-width: var(--doc-max);\n    border: 1px solid var(--doc-border);\n    border-radius: 0.9rem;\n    padding: 0.85rem 1rem;\n    margin: 0.9rem 0;\n    background: color-mix(in srgb, currentColor 1%, transparent);\n  }\n  .callout-title {\n    display: flex;\n    align-items: center;\n    gap: 0.55rem;\n    font-weight: 700;\n    margin-bottom: 0.35rem;\n  }\n  .callout-title .tag {\n    font-size: 0.8rem;\n    border: 1px solid var(--doc-border);\n    border-radius: 999px;\n    padding: 0.1rem 0.5rem;\n    color: var(--doc-muted);\n    font-weight: 600;\n  }\n  .callout.info { border-left: 5px solid #2563eb; }\n  .callout.warning { border-left: 5px solid #b45309; }\n  .callout.exercise { border-left: 5px solid #059669; }\n\n  /* Slightly more compact widgets (sliders/buttons/inputs) */\n  label, input, select, textarea, button {\n    font-size: 0.92rem;\n  }\n\n  @media (max-width: 980px) {\n    .markdown.prose { padding-right: 1rem; }\n  }\n\u003C/style\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "05080628ac7431f1b8289de5a4735a5a", "console": [], "id": "vblA", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "5f37d563ce58c8b88120f88b8204345a", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='bkHC-6' random-id='dcd9855f-3f80-ee65-79be-0beac333fcc6'\u003E\u003Cmarimo-tabs data-initial-value='\u0026quot;0\u0026quot;' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Notebook sections\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-tabs='[\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;All\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Overview\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Targets\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;KLayout + PDK\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Layout skeleton\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Submission\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;]'\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='bkHC-0' random-id='0e5de868-65b5-37cf-c1cb-7c5cc1d6216c'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='bkHC-1' random-id='27662371-b2fe-46c5-f38f-f92481f5e20d'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='bkHC-2' random-id='cb08b3d9-7818-d0fc-117f-82589599adcd'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='bkHC-3' random-id='b8b22069-f54a-da59-d452-791862d1835d'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='bkHC-4' random-id='17c7bbc3-9c26-b838-342d-f97e586ad415'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='bkHC-5' random-id='38b5e987-f5ba-b3d2-01e2-09385ee2f404'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003C/marimo-tabs\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "b294cb4a875fb0003cc74cc4b37fbc90", "console": [], "id": "lEQa", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "9091f5bf6f4ffe6d2e2aa6ff2e9cc932", "console": [], "id": "PKri", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cdiv class=\"doc-badges\"\u003E\u003Cspan class=\"doc-badge\"\u003ENotebook view: \u003Cstrong\u003EAll\u003C/strong\u003E\u003C/span\u003E\u003C/div\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "47e7f23f2be795e37f9eaf7194918752", "console": [], "id": "Xref", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cdiv class=\"doc-hero\"\u003E\n      \u003Cdiv class=\"doc-badges\"\u003E\n        \u003Cspan class=\"doc-badge\"\u003EWeek 2\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003ELab companion\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003EPDK\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003EKLayout\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003EopenEBL workflow\u003C/span\u003E\n      \u003C/div\u003E\n      \u003Ch1\u003EPDK MZI layout (KLayout + SiEPIC)\u003C/h1\u003E\n      \u003Cspan class=\"paragraph\"\u003EBuild a first MZI layout using the SiEPIC-EBeam PDK workflow in KLayout. Use modelling targets (\u0394L \u2194 FSR) to guide geometry choices, then save your work in the openEBL repo.\u003C/span\u003E\n      \u003Cspan class=\"paragraph\"\u003E\u003Csmall\u003E\u003Cem\u003ENotebook build: 2025-12-16\u003C/em\u003E\u003C/small\u003E\u003C/span\u003E\n    \u003C/div\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cdiv class=\"doc-toc\"\u003E\n      \u003Cstrong\u003EOn this page\u003C/strong\u003E\n      \u003Cul\u003E\n        \u003Cli\u003E\u003Ca href=\"#overview\"\u003EOverview\u003C/a\u003E\u003C/li\u003E\u003C/span\u003E\n\u003Cli\u003E\u003Ca href=\"#targets\"\u003ETargets\u003C/a\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Ca href=\"#klayout\"\u003EKLayout + PDK\u003C/a\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Ca href=\"#skeleton\"\u003ELayout skeleton\u003C/a\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Ca href=\"#submission\"\u003ESubmission\u003C/a\u003E\u003C/li\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003C/ul\u003E\n    \u003C/div\u003E\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "8e984217cb39dacc3e59e8b03ff89280", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Where is the graded work?:\u0026lt;/strong\u0026gt; Lab companion vs homework\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;- This notebook is a lab companion (workflow + checklists + reference).\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Graded work should live in a homework notebook under \u0026lt;code\u0026gt;marimo_course/assignments/\u0026lt;/code\u0026gt;.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ul\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;warn\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "5d43686d772a1645cc94a91c8db907c1", "console": [], "id": "BYtC", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='BYtC-0' random-id='4d13d249-94a2-c2cf-66ba-ad3ee39e2383'\u003E\u003Cmarimo-checkbox data-initial-value='false' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;KLayout open with SiEPIC-EBeam PDK\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-disabled='false'\u003E\u003C/marimo-checkbox\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='BYtC-1' random-id='9046e127-0fe1-7844-aeeb-a1bcd00fb2ec'\u003E\u003Cmarimo-checkbox data-initial-value='false' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Placed I/O + splitter/combiner cells\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-disabled='false'\u003E\u003C/marimo-checkbox\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='BYtC-2' random-id='cb779634-513e-b7fb-ef10-50b8989c8b81'\u003E\u003Cmarimo-checkbox data-initial-value='false' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Routed an MZI skeleton with \u0394L\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-disabled='false'\u003E\u003C/marimo-checkbox\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='BYtC-3' random-id='7f92bc6d-0a15-fa1f-109f-1397f5d20725'\u003E\u003Cmarimo-checkbox data-initial-value='false' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Added pins/DevRec/labels as required\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-disabled='false'\u003E\u003C/marimo-checkbox\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='BYtC-4' random-id='3e65f373-4244-b9c1-fbd2-4424eef93220'\u003E\u003Cmarimo-checkbox data-initial-value='false' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Saved in openEBL repo + CI checked\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-disabled='false'\u003E\u003C/marimo-checkbox\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "8130d8b696bb25ea25ab49294d95e7e6", "console": [], "id": "RGSE", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: row;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 1rem'\u003E\u003Cmarimo-ui-element object-id='RGSE-0' random-id='e4b3b6f3-9981-2731-7f95-3ba18d3bab90'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Go to Targets\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;success\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='RGSE-1' random-id='a1fb62b9-cbba-bd20-44eb-9b45fa8952db'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Go to KLayout + PDK\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='RGSE-2' random-id='e54cece7-fd7e-ce6c-ed25-143d6768f022'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Go to Layout skeleton\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='RGSE-3' random-id='73348a7f-e0d3-bc77-9ecd-b7e3a7e19776'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Go to Submission\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "490b482e7ea1319eec0afc659edd56c3", "console": [], "id": "Kclp", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Tip:\u0026lt;/strong\u0026gt; What matters for FSR\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;- \u0394L sets fringe spacing (FSR) approximately as \u0026lt;code\u0026gt;1/\u0394L\u0026lt;/code\u0026gt;.\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Base length doesn\u2019t change FSR in the ideal model.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Use \u0026lt;strong\u0026gt;1550 nm\u0026lt;/strong\u0026gt; by default; treat \u0026lt;strong\u0026gt;1310 nm\u0026lt;/strong\u0026gt; as an extension.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ul\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "ef2262bfa95644798bc6e0a8c4aeacf3", "console": [], "id": "emfo", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='emfo-0' random-id='98e348ca-b882-c0f9-249e-5528fe561149'\u003E\u003Cmarimo-number data-initial-value='1550.0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u03bb0 (nm)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-debounce='false' data-full-width='false' data-disabled='false'\u003E\u003C/marimo-number\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='emfo-1' random-id='0a2b5f66-735a-9734-aeb4-3b06589b61b3'\u003E\u003Cmarimo-number data-initial-value='4.19' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;ng (group index)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-debounce='false' data-full-width='false' data-disabled='false'\u003E\u003C/marimo-number\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='emfo-2' random-id='d1de6adc-5e07-a269-8f1f-9ff438b6784c'\u003E\u003Cmarimo-number data-initial-value='50.0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Planned \u0394L (\u00b5m)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-debounce='false' data-full-width='false' data-disabled='false'\u003E\u003C/marimo-number\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "6bd6f3bc304912a37383b542b8874a93", "console": [], "id": "Hstk", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EFSR estimate: \u003Cstrong\u003E11.47 nm\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "3c2a20e3f68ad8ac2ed6717525cabd81", "console": [], "id": "nWHF", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cdiv style='max-width:100%; overflow:auto;'\u003E\u003Cimg src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MjAiIGhlaWdodD0iMTQwIiB2aWV3Qm94PSIwIDAgNTIwIDE0MCI+CiAgPHN0eWxlPgogICAgLndnIHsgZmlsbDogbm9uZTsgc3Ryb2tlOiAjMTExOyBzdHJva2Utd2lkdGg6IDM7IHN0cm9rZS1saW5lY2FwOiByb3VuZDsgc3Ryb2tlLWxpbmVqb2luOiByb3VuZDsgfQogICAgLmJveCB7IGZpbGw6ICNmNmY2ZjY7IHN0cm9rZTogIzk5OTsgc3Ryb2tlLXdpZHRoOiAxLjU7IH0KICAgIC50eHQgeyBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBIZWx2ZXRpY2EsIEFyaWFsOyBmb250LXNpemU6IDEycHg7IGZpbGw6ICMxMTE7IH0KICAgIC5zdWIgeyBmb250LXNpemU6IDExcHg7IGZpbGw6ICM0NDQ7IH0KICA8L3N0eWxlPgoKICA8IS0tIGlucHV0IC8gb3V0cHV0IC0tPgogIDxwYXRoIGNsYXNzPSJ3ZyIgZD0iTSAyMCA2NSBMIDExMCA2NSIgLz4KICA8cGF0aCBjbGFzcz0id2ciIGQ9Ik0gNDAwIDY1IEwgNTAwIDY1IiAvPgoKICA8IS0tIGNvdXBsZXIgYm94ZXMgLS0+CiAgPHJlY3QgY2xhc3M9ImJveCIgeD0iMTEwIiB5PSI0NyIgd2lkdGg9IjcwIiBoZWlnaHQ9IjM2IiByeD0iNiIvPgogIDxyZWN0IGNsYXNzPSJib3giIHg9IjMzMCIgeT0iNDciIHdpZHRoPSI3MCIgaGVpZ2h0PSIzNiIgcng9IjYiLz4KICA8dGV4dCBjbGFzcz0idHh0IiB4PSIxMjAiIHk9IjYzIj5TcGxpdHRlcjwvdGV4dD4KICA8dGV4dCBjbGFzcz0idHh0IiB4PSIzNDAiIHk9IjYzIj5Db21iaW5lcjwvdGV4dD4KCiAgPCEtLSBhcm1zIC0tPgogIDxwYXRoIGNsYXNzPSJ3ZyIgZD0iTSAxODAgMzkgTCAzNjAuMCAzOSBMIDMzMCAzOSIgLz4KICA8cGF0aCBjbGFzcz0id2ciIGQ9Ik0gMTgwIDkxIEwgMzEwIDkxIEwgMzMwIDkxIiAvPgogIDxwYXRoIGNsYXNzPSJ3ZyIgZD0iTSAxODAgNjUgTCAxODAgMzkiIC8+CiAgPHBhdGggY2xhc3M9IndnIiBkPSJNIDE4MCA2NSBMIDE4MCA5MSIgLz4KICA8cGF0aCBjbGFzcz0id2ciIGQ9Ik0gMzMwIDY1IEwgMzMwIDM5IiAvPgogIDxwYXRoIGNsYXNzPSJ3ZyIgZD0iTSAzMzAgNjUgTCAzMzAgOTEiIC8+CgogIDwhLS0gbGFiZWxzIC0tPgogIDx0ZXh0IGNsYXNzPSJ0eHQiIHg9IjIwIiB5PSIyMCI+Q2lyY3VpdCBzY2hlbWF0aWMgKGNvbmNlcHR1YWwpPC90ZXh0PgogIDx0ZXh0IGNsYXNzPSJ0eHQgc3ViIiB4PSIyMCIgeT0iMzgiPlVwcGVyIGFybSBsb25nZXIgYnkgzpRMIOKJiCA1MC4wIMK1bSAodmlzdWFsIG9ubHkpPC90ZXh0Pgo8L3N2Zz4=' style='max-width:100%; height:auto;'/\u003E\u003C/div\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "ecac4a9c7a530e4f2262bec8f43f4e5d", "console": [], "id": "iLit", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Checklist:\u0026lt;/strong\u0026gt; Setup and sanity checks\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;1. Install KLayout and the SiEPIC-EBeam PDK (confirm the technology loads).\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ol\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Confirm the correct process/run assumptions for this semester (default: \u0026lt;strong\u0026gt;1550 nm\u0026lt;/strong\u0026gt; structures).\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Open an example layout from the PDK and verify layers look sensible.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Create a new layout inside the run repo using the required filename conventions.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ol\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "288f008912af1f40e16bb7bdd999ca24", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Important:\u0026lt;/strong\u0026gt; PDK vs generic geometry\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;- For openEBL submissions, your final design must follow the PDK cell conventions expected by the run repo.\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;A gdsfactory skeleton is useful for intuition, but it is not a substitute for a PDK-accurate KLayout design.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ul\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;warn\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "f226947e33936ad6543fa0e8f25fd539", "console": [], "id": "ROlb", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EOptional gdsfactory helper: \u003Cstrong\u003Enot available\u003C/strong\u003E (\u003Ccode\u003EModuleNotFoundError: No module named 'gdsfactory'\u003C/code\u003E)\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "a426b55c75d811da9dc39c7e8dedc92b", "console": [], "id": "qnkX", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "7e858b0279523d4cda540a9d4155f132", "console": [], "id": "TqIu", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "e64105d0a54358fde3afdd2008c3255b", "console": [], "id": "Vxnm", "outputs": [{"ename": "ancestor-stopped", "evalue": "This cell wasn't run because an ancestor was stopped with `mo.stop`: ", "traceback": [], "type": "error"}]}, {"code_hash": "bdec5fbd7daeeb9c61ca0b15caff881f", "console": [], "id": "DnEU", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Checklist:\u0026lt;/strong\u0026gt; Before you push\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;1. Confirm your layout file is inside the run repo (e.g., \u0026lt;code\u0026gt;openEBL-2026-02/submissions/...\u0026lt;/code\u0026gt;).\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ol\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Verify naming conventions and top-level cell structure match the run instructions.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Run local verification in KLayout if available (press V / run scripts).\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Push to your fork and check GitHub Actions results; download artifacts when something fails.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ol\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.18.4%22%0Aapp%20%3D%20marimo.App()%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20inject_css%0A%0A%20%20%20%20inject_css(mo)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20make_doc_helpers%0A%0A%20%20%20%20doc_badges%2C%20doc_callout_html%2C%20doc_callout_list%20%3D%20make_doc_helpers(mo)%0A%20%20%20%20return%20doc_badges%2C%20doc_callout_html%2C%20doc_callout_list%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20make_section_tabs%0A%0A%20%20%20%20section_tabs%2C%20view_state%2C%20set_view%20%3D%20make_section_tabs(%0A%20%20%20%20%20%20%20%20mo%2C%0A%20%20%20%20%20%20%20%20options%3D(%22All%22%2C%20%22Overview%22%2C%20%22Targets%22%2C%20%22KLayout%20%2B%20PDK%22%2C%20%22Layout%20skeleton%22%2C%20%22Submission%22)%2C%0A%20%20%20%20%20%20%20%20value%3D%22All%22%2C%0A%20%20%20%20)%0A%20%20%20%20section_tabs%0A%20%20%20%20return%20set_view%2C%20view_state%0A%0A%0A%40app.cell%0Adef%20_(view_state)%3A%0A%20%20%20%20view%20%3D%20view_state()%0A%20%20%20%20show_overview%20%3D%20view%20in%20%5B%22All%22%2C%20%22Overview%22%5D%0A%20%20%20%20show_targets%20%3D%20view%20in%20%5B%22All%22%2C%20%22Targets%22%5D%0A%20%20%20%20show_klayout%20%3D%20view%20in%20%5B%22All%22%2C%20%22KLayout%20%2B%20PDK%22%5D%0A%20%20%20%20show_skeleton%20%3D%20view%20in%20%5B%22All%22%2C%20%22Layout%20skeleton%22%5D%0A%20%20%20%20show_submission%20%3D%20view%20in%20%5B%22All%22%2C%20%22Submission%22%5D%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20show_klayout%2C%0A%20%20%20%20%20%20%20%20show_overview%2C%0A%20%20%20%20%20%20%20%20show_skeleton%2C%0A%20%20%20%20%20%20%20%20show_submission%2C%0A%20%20%20%20%20%20%20%20show_targets%2C%0A%20%20%20%20%20%20%20%20view%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(doc_badges%2C%20view)%3A%0A%20%20%20%20doc_badges(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Notebook%20view%3A%20%3Cstrong%3E%7Bview%7D%3C%2Fstrong%3E%22%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20from%20_style%20import%20header%0A%0A%20%20%20%20header(%0A%20%20%20%20%20%20%20%20mo%2C%0A%20%20%20%20%20%20%20%20title%3D%22PDK%20MZI%20layout%20(KLayout%20%2B%20SiEPIC)%22%2C%0A%20%20%20%20%20%20%20%20subtitle%3D(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Build%20a%20first%20MZI%20layout%20using%20the%20SiEPIC-EBeam%20PDK%20workflow%20in%20KLayout.%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Use%20modelling%20targets%20(%CE%94L%20%E2%86%94%20FSR)%20to%20guide%20geometry%20choices%2C%20then%20save%20your%20work%20in%20the%20openEBL%20repo.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20badges%3D%5B%22Week%202%22%2C%20%22Lab%20companion%22%2C%20%22PDK%22%2C%20%22KLayout%22%2C%20%22openEBL%20workflow%22%5D%2C%0A%20%20%20%20%20%20%20%20toc%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Overview%22%2C%20%22overview%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Targets%22%2C%20%22targets%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22KLayout%20%2B%20PDK%22%2C%20%22klayout%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Layout%20skeleton%22%2C%20%22skeleton%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Submission%22%2C%20%22submission%22)%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20build%3D%222025-12-16%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_list%2C%20mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22overview%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20Overview%0A%0A%20%20%20%20This%20is%20the%20**PDK%20%2B%20compact-model%20%2B%20layout**%20companion%20for%20Week%202.%20The%20modelling%20companion%20is%3A%0A%20%20%20%20%60marimo_course%2Flessons%2Fw02_mzi_modelling.py%60%2C%20where%20you%20derived%20and%20explored%20the%20ideal%20MZI%20transfer%20function.%0A%0A%20%20%20%20In%20this%20notebook%2C%20you%E2%80%99ll%20connect%20three%20ideas%20that%20show%20up%20in%20every%20photonics%20workflow%3A%0A%0A%20%20%20%20-%20**Compact%20models%3A**%20fast%2C%20circuit-level%20models%20of%20components%20(couplers%2C%20waveguides%2C%20phase%20shifters)%20that%20let%20you%0A%20%20%20%20%20%20simulate%20a%20whole%20photonic%20circuit%20without%20solving%20Maxwell%E2%80%99s%20equations%20everywhere.%0A%20%20%20%20-%20**PDK%20(process%20design%20kit)%3A**%20a%20foundry%2Ftechnology%20%E2%80%9Cpackage%E2%80%9D%20that%20defines%20the%20**design%20rules**%2C%20**layers**%2C%20and%0A%20%20%20%20%20%20**parameterized%20building%20blocks**%20(plus%20their%20compact%20models)%20so%20your%20design%20is%20manufacturable%20and%20checkable.%0A%20%20%20%20-%20**Reproducibility%20across%20views%3A**%20build%20the%20*same*%20MZI%20you%20modelled%20last%20lesson%2C%20first%20as%20a%20**circuit**%20from%20compact%0A%20%20%20%20%20%20models%20and%20then%20as%20a%20**layout**%20in%20KLayout%20using%20PDK%20cells.%0A%0A%20%20%20%20In%20lab%2C%20you%20will%3A%0A%0A%20%20%20%201.%20Decide%20on%20a%20**target**%20(FSR%20%E2%86%92%20%CE%94L)%20near%20**1550%20nm**.%0A%20%20%20%202.%20Build%20an%20MZI%20from%20**compact%20models**%20(component%20%E2%86%92%20circuit)%20and%20sanity-check%20it%20against%20the%20Week%202%20model.%0A%20%20%20%203.%20Assemble%20the%20same%20MZI%20from%20**PDK%20building%20blocks**%20in%20KLayout%20(splitter%2C%20waveguides%2C%20combiner%2C%20I%2FO).%0A%20%20%20%204.%20Add%20the%20**conventions**%20required%20for%20downstream%20checks%20(ports%2Fpins%2C%20DevRec%2C%20labels%2Ffloorplan%20as%20required).%0A%20%20%20%205.%20Save%20your%20design%20in%20the%20**openEBL**%20submission%20repo%20and%20keep%20CI%20green.%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Learning%20goals%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22What%20you%20should%20be%20able%20to%20do%20after%20this%20notebook%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Explain%20what%20a%20compact%20model%20is%20and%20why%20we%20use%20them%20for%20circuit-level%20photonics%20design.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Describe%20what%20a%20PDK%20provides%20(layers%2C%20rules%2C%20cells%2C%20models)%20and%20why%20it%20matters%20for%20manufacturable%20layouts.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Create%20an%20MZI%20from%20compact-model%20building%20blocks%20and%20connect%20%CE%94L%20%E2%86%94%20FSR%20back%20to%20the%20modelling%20notebook.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Implement%20the%20same%20MZI%20in%20KLayout%20using%20PDK-accurate%20cells%20so%20it%20passes%20downstream%20checks.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22warning%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Where%20is%20the%20graded%20work%3F%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Lab%20companion%20vs%20homework%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22This%20notebook%20is%20a%20lab%20companion%20(workflow%20%2B%20checklists%20%2B%20reference).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Graded%20work%20should%20live%20in%20a%20homework%20notebook%20under%20%60marimo_course%2Fassignments%2F%60.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20klayout_open%20%3D%20mo.ui.checkbox(label%3D%22KLayout%20open%20with%20SiEPIC-EBeam%20PDK%22%2C%20value%3DFalse)%0A%20%20%20%20placed_blocks%20%3D%20mo.ui.checkbox(label%3D%22Placed%20I%2FO%20%2B%20splitter%2Fcombiner%20cells%22%2C%20value%3DFalse)%0A%20%20%20%20routed%20%3D%20mo.ui.checkbox(label%3D%22Routed%20an%20MZI%20skeleton%20with%20%CE%94L%22%2C%20value%3DFalse)%0A%20%20%20%20annotated%20%3D%20mo.ui.checkbox(label%3D%22Added%20pins%2FDevRec%2Flabels%20as%20required%22%2C%20value%3DFalse)%0A%20%20%20%20saved%20%3D%20mo.ui.checkbox(label%3D%22Saved%20in%20openEBL%20repo%20%2B%20CI%20checked%22%2C%20value%3DFalse)%0A%20%20%20%20mo.vstack(%5Bklayout_open%2C%20placed_blocks%2C%20routed%2C%20annotated%2C%20saved%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20set_view%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20go_targets%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Go%20to%20Targets%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(set_view(%22Targets%22)%2C%20(v%20or%200)%20%2B%201)%5B-1%5D%2C%0A%20%20%20%20)%0A%20%20%20%20go_klayout%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20kind%3D%22neutral%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Go%20to%20KLayout%20%2B%20PDK%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(set_view(%22KLayout%20%2B%20PDK%22)%2C%20(v%20or%200)%20%2B%201)%5B-1%5D%2C%0A%20%20%20%20)%0A%20%20%20%20go_skeleton%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20kind%3D%22neutral%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Go%20to%20Layout%20skeleton%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(set_view(%22Layout%20skeleton%22)%2C%20(v%20or%200)%20%2B%201)%5B-1%5D%2C%0A%20%20%20%20)%0A%20%20%20%20go_submission%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20kind%3D%22neutral%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Go%20to%20Submission%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(set_view(%22Submission%22)%2C%20(v%20or%200)%20%2B%201)%5B-1%5D%2C%0A%20%20%20%20)%0A%20%20%20%20mo.hstack(%5Bgo_targets%2C%20go_klayout%2C%20go_skeleton%2C%20go_submission%5D%2C%20justify%3D%22start%22%2C%20gap%3D1)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20mo%2C%20show_targets)%3A%0A%20%20%20%20mo.stop(not%20show_targets)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22targets%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20Targets%3A%20pick%20%CE%94L%20from%20an%20FSR%20target%20(1550%20nm%20default)%0A%0A%20%20%20%20Use%20the%20Week%202%20modelling%20notebook%20to%20build%20intuition%20and%20sanity-check%20values%3A%0A%20%20%20%20%60marimo_course%2Flessons%2Fw02_mzi_modelling.py%60.%0A%0A%20%20%20%20Rule-of-thumb%20near%20%CE%BB0%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cmathrm%7BFSR%7D%20%5Capprox%20%5Cfrac%7B%5Clambda_0%5E2%7D%7Bn_g%5C%2C%5CDelta%20L%7D.%0A%20%20%20%20%24%24%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Tip%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22What%20matters%20for%20FSR%22%2C%0A%20%20%20%20%20%20%20%20html%3D(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22-%20%CE%94L%20sets%20fringe%20spacing%20(FSR)%20approximately%20as%20%601%2F%CE%94L%60.%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22-%20Base%20length%20doesn%E2%80%99t%20change%20FSR%20in%20the%20ideal%20model.%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22-%20Use%20**1550%20nm**%20by%20default%3B%20treat%20**1310%20nm**%20as%20an%20extension.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_targets)%3A%0A%20%20%20%20mo.stop(not%20show_targets)%0A%20%20%20%20wl0_nm%20%3D%20mo.ui.number(value%3D1550.0%2C%20label%3D%22%CE%BB0%20(nm)%22)%0A%20%20%20%20ng%20%3D%20mo.ui.number(value%3D4.19%2C%20label%3D%22ng%20(group%20index)%22)%0A%20%20%20%20deltaL_um%20%3D%20mo.ui.number(value%3D50.0%2C%20label%3D%22Planned%20%CE%94L%20(%C2%B5m)%22)%0A%20%20%20%20mo.hstack(%5Bwl0_nm%2C%20ng%2C%20deltaL_um%5D)%0A%20%20%20%20return%20deltaL_um%2C%20ng%2C%20wl0_nm%0A%0A%0A%40app.cell%0Adef%20_(deltaL_um%2C%20mo%2C%20ng%2C%20show_targets%2C%20wl0_nm)%3A%0A%20%20%20%20mo.stop(not%20show_targets)%0A%20%20%20%20wl0_um%20%3D%20float(wl0_nm.value)%20%2F%201e3%0A%20%20%20%20ng_val%20%3D%20float(ng.value)%0A%20%20%20%20delta_L_um%20%3D%20float(deltaL_um.value)%0A%20%20%20%20fsr_nm%20%3D%20(%0A%20%20%20%20%20%20%20%20None%0A%20%20%20%20%20%20%20%20if%20(delta_L_um%20%3C%3D%200%20or%20ng_val%20%3C%3D%200)%0A%20%20%20%20%20%20%20%20else%20(wl0_um%20*%20wl0_um)%20%2F%20(ng_val%20*%20delta_L_um)%20*%201e3%0A%20%20%20%20)%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22FSR%20estimate%3A%20(enter%20positive%20%CE%94L%20and%20ng)%22%0A%20%20%20%20%20%20%20%20if%20fsr_nm%20is%20None%0A%20%20%20%20%20%20%20%20else%20f%22FSR%20estimate%3A%20**%7Bfsr_nm%3A.2f%7D%20nm**%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(deltaL_um%2C%20mo%2C%20show_targets)%3A%0A%20%20%20%20mo.stop(not%20show_targets)%0A%20%20%20%20import%20base64%20as%20b64%0A%0A%20%20%20%20delta_L_um_vis%20%3D%20float(deltaL_um.value)%0A%20%20%20%20extra%20%3D%20max(0.0%2C%20min(80.0%2C%20delta_L_um_vis))%20%20%23%20purely%20visual%3B%20does%20not%20affect%20calculations%0A%20%20%20%20dy%20%3D%2026%0A%20%20%20%20x0%2C%20x1%2C%20x2%2C%20x3%20%3D%2020%2C%20110%2C%20310%2C%20400%0A%20%20%20%20y_mid%20%3D%2065%0A%20%20%20%20y_top%20%3D%20y_mid%20-%20dy%0A%20%20%20%20y_bot%20%3D%20y_mid%20%2B%20dy%0A%0A%20%20%20%20%23%20The%20upper%20arm%20is%20drawn%20a%20bit%20longer%20(extra)%20to%20visually%20suggest%20%CE%94L.%0A%20%20%20%20x2_top%20%3D%20x2%20%2B%20extra%0A%0A%20%20%20%20svg%20%3D%20f%22%22%22%0A%20%20%20%20%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22520%22%20height%3D%22140%22%20viewBox%3D%220%200%20520%20140%22%3E%0A%20%20%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20.wg%20%7B%7B%20fill%3A%20none%3B%20stroke%3A%20%23111%3B%20stroke-width%3A%203%3B%20stroke-linecap%3A%20round%3B%20stroke-linejoin%3A%20round%3B%20%7D%7D%0A%20%20%20%20%20%20%20%20.box%20%7B%7B%20fill%3A%20%23f6f6f6%3B%20stroke%3A%20%23999%3B%20stroke-width%3A%201.5%3B%20%7D%7D%0A%20%20%20%20%20%20%20%20.txt%20%7B%7B%20font-family%3A%20ui-sans-serif%2C%20system-ui%2C%20-apple-system%2C%20Segoe%20UI%2C%20Roboto%2C%20Helvetica%2C%20Arial%3B%20font-size%3A%2012px%3B%20fill%3A%20%23111%3B%20%7D%7D%0A%20%20%20%20%20%20%20%20.sub%20%7B%7B%20font-size%3A%2011px%3B%20fill%3A%20%23444%3B%20%7D%7D%0A%20%20%20%20%20%20%3C%2Fstyle%3E%0A%0A%20%20%20%20%20%20%3C!--%20input%20%2F%20output%20--%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx0%7D%20%7By_mid%7D%20L%20%7Bx1%7D%20%7By_mid%7D%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx3%7D%20%7By_mid%7D%20L%20500%20%7By_mid%7D%22%20%2F%3E%0A%0A%20%20%20%20%20%20%3C!--%20coupler%20boxes%20--%3E%0A%20%20%20%20%20%20%3Crect%20class%3D%22box%22%20x%3D%22%7Bx1%7D%22%20y%3D%22%7By_mid-18%7D%22%20width%3D%2270%22%20height%3D%2236%22%20rx%3D%226%22%2F%3E%0A%20%20%20%20%20%20%3Crect%20class%3D%22box%22%20x%3D%22%7Bx3-70%7D%22%20y%3D%22%7By_mid-18%7D%22%20width%3D%2270%22%20height%3D%2236%22%20rx%3D%226%22%2F%3E%0A%20%20%20%20%20%20%3Ctext%20class%3D%22txt%22%20x%3D%22%7Bx1%2B10%7D%22%20y%3D%22%7By_mid-2%7D%22%3ESplitter%3C%2Ftext%3E%0A%20%20%20%20%20%20%3Ctext%20class%3D%22txt%22%20x%3D%22%7Bx3-60%7D%22%20y%3D%22%7By_mid-2%7D%22%3ECombiner%3C%2Ftext%3E%0A%0A%20%20%20%20%20%20%3C!--%20arms%20--%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx1%2B70%7D%20%7By_top%7D%20L%20%7Bx2_top%7D%20%7By_top%7D%20L%20%7Bx3-70%7D%20%7By_top%7D%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx1%2B70%7D%20%7By_bot%7D%20L%20%7Bx2%7D%20%7By_bot%7D%20L%20%7Bx3-70%7D%20%7By_bot%7D%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx1%2B70%7D%20%7By_mid%7D%20L%20%7Bx1%2B70%7D%20%7By_top%7D%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx1%2B70%7D%20%7By_mid%7D%20L%20%7Bx1%2B70%7D%20%7By_bot%7D%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx3-70%7D%20%7By_mid%7D%20L%20%7Bx3-70%7D%20%7By_top%7D%22%20%2F%3E%0A%20%20%20%20%20%20%3Cpath%20class%3D%22wg%22%20d%3D%22M%20%7Bx3-70%7D%20%7By_mid%7D%20L%20%7Bx3-70%7D%20%7By_bot%7D%22%20%2F%3E%0A%0A%20%20%20%20%20%20%3C!--%20labels%20--%3E%0A%20%20%20%20%20%20%3Ctext%20class%3D%22txt%22%20x%3D%2220%22%20y%3D%2220%22%3ECircuit%20schematic%20(conceptual)%3C%2Ftext%3E%0A%20%20%20%20%20%20%3Ctext%20class%3D%22txt%20sub%22%20x%3D%2220%22%20y%3D%2238%22%3EUpper%20arm%20longer%20by%20%CE%94L%20%E2%89%88%20%7Bdelta_L_um_vis%3A.1f%7D%20%C2%B5m%20(visual%20only)%3C%2Ftext%3E%0A%20%20%20%20%3C%2Fsvg%3E%0A%20%20%20%20%22%22%22.strip()%0A%0A%20%20%20%20svg_b64%20%3D%20b64.b64encode(svg.encode(%22utf-8%22)).decode(%22ascii%22)%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%3Cdiv%20style%3D'max-width%3A100%25%3B%20overflow%3Aauto%3B'%3E%22%0A%20%20%20%20%20%20%20%20f%22%3Cimg%20src%3D'data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%7Bsvg_b64%7D'%20style%3D'max-width%3A100%25%3B%20height%3Aauto%3B'%2F%3E%22%0A%20%20%20%20%20%20%20%20%22%3C%2Fdiv%3E%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_list%2C%20mo%2C%20show_klayout)%3A%0A%20%20%20%20mo.stop(not%20show_klayout)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22klayout%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20KLayout%20%2B%20SiEPIC-EBeam%20PDK%20setup%0A%0A%20%20%20%20This%20section%20is%20intentionally%20procedural%3A%20the%20goal%20is%20to%20reduce%20%E2%80%9Cwhere%20do%20I%20click%3F%E2%80%9D%20friction%20in%20lab.%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Checklist%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Setup%20and%20sanity%20checks%22%2C%0A%20%20%20%20%20%20%20%20ordered%3DTrue%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Install%20KLayout%20and%20the%20SiEPIC-EBeam%20PDK%20(confirm%20the%20technology%20loads).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Confirm%20the%20correct%20process%2Frun%20assumptions%20for%20this%20semester%20(default%3A%20**1550%20nm**%20structures).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Open%20an%20example%20layout%20from%20the%20PDK%20and%20verify%20layers%20look%20sensible.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Create%20a%20new%20layout%20inside%20the%20run%20repo%20using%20the%20required%20filename%20conventions.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_list%2C%20mo%2C%20show_skeleton)%3A%0A%20%20%20%20mo.stop(not%20show_skeleton)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22skeleton%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20Layout%20skeleton%20(MZI)%20%E2%80%94%20build%20first%2C%20refine%20later%0A%0A%20%20%20%20Build%20a%20simple%20MZI%20skeleton%20using%20PDK%20cells%20(splitter%2Fcombiner%20%2B%20waveguides%20%2B%20I%2FO).%0A%20%20%20%20Keep%20it%20**simple%20and%20clean**%3A%20symmetry%2C%20straight%20segments%20where%20possible%2C%20and%20a%20clear%20way%20to%20implement%20%CE%94L.%0A%0A%20%20%20%20Optional%3A%20generate%20a%20quick%20%E2%80%9Cgeometry-only%E2%80%9D%20MZI%20skeleton%20using%20gdsfactory%20to%20visualize%20the%20idea%2C%0A%20%20%20%20then%20recreate%20it%20with%20PDK-accurate%20cells%20in%20KLayout.%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22warning%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Important%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22PDK%20vs%20generic%20geometry%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22For%20openEBL%20submissions%2C%20your%20final%20design%20must%20follow%20the%20PDK%20cell%20conventions%20expected%20by%20the%20run%20repo.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22A%20gdsfactory%20skeleton%20is%20useful%20for%20intuition%2C%20but%20it%20is%20not%20a%20substitute%20for%20a%20PDK-accurate%20KLayout%20design.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_skeleton)%3A%0A%20%20%20%20mo.stop(not%20show_skeleton)%0A%20%20%20%20from%20_notebook_template%20import%20optional_import%0A%0A%20%20%20%20gf_mod%2C%20gf_error%20%3D%20optional_import(%22gdsfactory%22)%0A%20%20%20%20available%20%3D%20gf_mod%20is%20not%20None%0A%0A%20%20%20%20doc%20%3D%20(%0A%20%20%20%20%20%20%20%20%22Optional%20gdsfactory%20helper%3A%20**available**%22%0A%20%20%20%20%20%20%20%20if%20available%0A%20%20%20%20%20%20%20%20else%20f%22Optional%20gdsfactory%20helper%3A%20**not%20available**%20(%60%7Bgf_error%7D%60)%22%0A%20%20%20%20)%0A%20%20%20%20mo.md(doc)%0A%20%20%20%20return%20available%2C%20gf_mod%0A%0A%0A%40app.cell%0Adef%20_(available%2C%20mo%2C%20show_skeleton)%3A%0A%20%20%20%20mo.stop(not%20show_skeleton)%0A%20%20%20%20mo.stop(not%20available)%0A%0A%20%20%20%20gds_out%20%3D%20mo.ui.text(value%3D%22marimo_course%2Fbuild%2Fweek2_mzi_skeleton.gds%22%2C%20label%3D%22GDS%20output%20path%22)%0A%20%20%20%20delta_length%20%3D%20mo.ui.number(value%3D50.0%2C%20label%3D%22%CE%94L%20(%C2%B5m)%22)%0A%20%20%20%20length_x%20%3D%20mo.ui.number(value%3D60.0%2C%20label%3D%22length_x%20(%C2%B5m)%22)%0A%20%20%20%20length_y%20%3D%20mo.ui.number(value%3D10.0%2C%20label%3D%22length_y%20(%C2%B5m)%22)%0A%20%20%20%20write%20%3D%20mo.ui.button(value%3D0%2C%20label%3D%22Write%20GDS%22%2C%20kind%3D%22success%22%2C%20on_click%3Dlambda%20v%3A%20(v%20or%200)%20%2B%201)%0A%20%20%20%20mo.vstack(%5Bmo.hstack(%5Bgds_out%2C%20write%5D)%2C%20mo.hstack(%5Bdelta_length%2C%20length_x%2C%20length_y%5D)%5D)%0A%20%20%20%20return%20delta_length%2C%20gds_out%2C%20length_x%2C%20length_y%2C%20write%0A%0A%0A%40app.cell%0Adef%20_(available%2C%20gf_mod%2C%20mo%2C%20show_skeleton)%3A%0A%20%20%20%20mo.stop(not%20show_skeleton)%0A%20%20%20%20mo.stop(not%20available)%0A%0A%20%20%20%20from%20pathlib%20import%20Path%0A%0A%20%20%20%20def%20write_mzi_skeleton(*%2C%20out%3A%20Path%2C%20delta_length_um%3A%20float%2C%20length_x_um%3A%20float%2C%20length_y_um%3A%20float)%20-%3E%20Path%3A%0A%20%20%20%20%20%20%20%20gf%20%3D%20gf_mod%0A%20%20%20%20%20%20%20%20mzi%20%3D%20gf.components.mzi(%0A%20%20%20%20%20%20%20%20%20%20%20%20delta_length%3Dfloat(delta_length_um)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20length_x%3Dfloat(length_x_um)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20length_y%3Dfloat(length_y_um)%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20out.parent.mkdir(parents%3DTrue%2C%20exist_ok%3DTrue)%0A%20%20%20%20%20%20%20%20written%20%3D%20mzi.write_gds(gdspath%3Dout)%0A%20%20%20%20%20%20%20%20return%20Path(written)%0A%20%20%20%20return%20Path%2C%20write_mzi_skeleton%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20Path%2C%0A%20%20%20%20available%2C%0A%20%20%20%20delta_length%2C%0A%20%20%20%20gds_out%2C%0A%20%20%20%20length_x%2C%0A%20%20%20%20length_y%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20show_skeleton%2C%0A%20%20%20%20write%2C%0A%20%20%20%20write_mzi_skeleton%2C%0A)%3A%0A%20%20%20%20mo.stop(not%20show_skeleton)%0A%20%20%20%20mo.stop(not%20available)%0A%0A%20%20%20%20blocks%20%3D%20%5B%5D%0A%20%20%20%20if%20int(write.value%20or%200)%20%3C%3D%200%3A%0A%20%20%20%20%20%20%20%20blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22Click%20**Write%20GDS**%20to%20export%20a%20skeleton%20you%20can%20inspect%20in%20KLayout.%22)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20out%20%3D%20Path(str(gds_out.value)).expanduser()%0A%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20written%20%3D%20write_mzi_skeleton(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20out%3Dout%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta_length_um%3Dfloat(delta_length.value)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20length_x_um%3Dfloat(length_x.value)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20length_y_um%3Dfloat(length_y.value)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks.append(mo.md(f%22Wrote%3A%20%60%7Bwritten%7D%60%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks.append(mo.md(f%22Open%20in%20KLayout%3A%20%60klayout%20%7Bwritten%7D%60%22))%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks.append(mo.md(f%22(GDS%20write%20failed%3A%20%60%7Btype(e).__name__%7D%3A%20%7Be%7D%60)%22))%0A%0A%20%20%20%20mo.vstack(blocks)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_list%2C%20mo%2C%20show_submission)%3A%0A%20%20%20%20mo.stop(not%20show_submission)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22submission%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20Save%20%2B%20submission%20workflow%20(openEBL)%0A%0A%20%20%20%20The%20details%20depend%20on%20the%20specific%20openEBL%20run%20repository%20used%20this%20semester%2C%20but%20the%20structure%20is%20consistent%3A%0A%20%20%20%20save%20designs%20in%20the%20right%20folder%2C%20run%20checks%2C%20fix%20failures%2C%20and%20submit%20via%20PR.%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Checklist%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Before%20you%20push%22%2C%0A%20%20%20%20%20%20%20%20ordered%3DTrue%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Confirm%20your%20layout%20file%20is%20inside%20the%20run%20repo%20(e.g.%2C%20%60openEBL-2026-02%2Fsubmissions%2F...%60).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Verify%20naming%20conventions%20and%20top-level%20cell%20structure%20match%20the%20run%20instructions.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Run%20local%20verification%20in%20KLayout%20if%20available%20(press%20V%20%2F%20run%20scripts).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Push%20to%20your%20fork%20and%20check%20GitHub%20Actions%20results%3B%20download%20artifacts%20when%20something%20fails.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">7506f3c9283ad9a8b4c38db5ff2b42d3</marimo-code-hash>
</body>
</html>
