<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        const scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          // Guard against race condition where iframe isn't ready
          if (!obj.contentWindow?.document?.documentElement) {
            return;
          }
          const element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          const newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((_entries) => {
          setHeight();
        });
        // Only observe if iframe content is ready
        if (obj.contentWindow?.document?.body) {
          resizeObserver.observe(obj.contentWindow.document.body);
        }
      }
    </script>
    <marimo-filename hidden>w02_mzi_modelling.py</marimo-filename>
    <!-- TODO(Trevor): Legacy, required by VS Code plugin. Remove when plugin is updated (see marimo/server/_templates/template.py) -->
    <marimo-version data-version="{{ version }}" hidden></marimo-version>
    <marimo-user-config data-config="{{ user_config }}" hidden></marimo-user-config>
    <marimo-server-token data-token="{{ server_token }}" hidden></marimo-server-token>
    <!-- /TODO -->
    <title>w02 mzi modelling</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-3OIHLLq_.js"></script>
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/preload-helper-g1IWzEZ-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-LvLJmgfZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-XTZdWHwa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/compiler-runtime-QczY1yfQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEventListener-4mpeqPxW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/react-dom-BZDtXk6t.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jsx-runtime-DUsrKwmN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Combination-D2HqSOvH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clsx-FpJB9huX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cn-Cs2e4A8T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/menu-items-B57SjdWM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hotkeys-Dh4gy4JD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/button-D8mnDDLX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Dj-O1Spr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createLucideIcon-BJ2I6csQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/check-CWbw3kKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/select-CgZgQ5hV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/multi-map-D3NvLiI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chevron-right-B_qBg_RU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dropdown-menu-Ciqx4yT-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-DqNvr2Rw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_Uint8Array-BGESiCQL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_getTag-BWqNuuwU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseIsEqual-C8v2yRqO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/jotai-D74Ef_p1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/invariant-Amh6wt4N.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isArrayLikeObject-BkJc8lDE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/merge-5YNOh9ZD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/zod-BBqism5D.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utils-x9KlwLm7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/requests-THIDPq-F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/once-BxRirs3K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toDate-Y5T6FHPx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isSymbol-BGkTcW3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toString-DlRqgfqz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSlice-BoaxdS7L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_hasUnicode-CNlKPr15.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useLifecycle-8fgb5Nue.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capitalize-L9-XHPtm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ai-model-dropdown-CO52rzQt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/badge-Cm0WUI-_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/use-toast-DKTyV2AR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/constants-BmIIVBf_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Deferred-9HYzcD3r.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/config-CbG7e0K6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/uuid-B8w6pjWV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/DeferredRequestRegistry-DfLQSvoS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/connection-B11rCPnY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNonce-D8CLFIrY.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/capabilities-Bdlrhekp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/createReducer-VgoBNe3M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-C3a_7WFa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-0z0sEYV-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzfTz_Dx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DmruaXMM.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DU0YrNRK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-_bGPtAsk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DsSBESho.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-B2TjmP7E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BzDb7E9f.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stex-C4ZxI0N3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cjs-Ba5CQnxe.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_arrayReduce-DdxhySYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/type-kFt-n-jZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseProperty-D0ckTA0L.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toNumber-GB_lFVaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/now-CAWn5i9V.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/debounce-Bgq-wc7M.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toInteger-Cl1doThW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/main-CC_mbgxK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-DoKM12vd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/kbd-EdFdwHEs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/renderShortcut-CLenKJO6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useEvent-l9BzRqpK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeleteCell-BDBSmjLV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lazy-Cbg8zRvU.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-8c1ixjJ_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/precisionRound-CQhbsDNz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/defaultLocale-BECdiY5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vega-loader.browser-DZ31-605.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tooltip-CSAGVmjx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ErrorBoundary-6EjkHrSV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-dialog-D9SwG8oA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dialog-BPIq0Dmw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDebounce-C9S6xmGh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/numbers-BigybruE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/SSRProvider-DlZbKHsu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/context-CO64Gasq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useNumberFormatter-B5HAJDUq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/usePress-DHxqjtDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/input-CVoLDDk-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ImperativeModal-ameyIrhc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cell-link-BiAu_8pk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/alert-D5BMn3Et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/links-Iv0WhyKW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/state-i7G4J1VS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/MarimoErrorOutput-Bh7Bgl2Z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-BS3uwoaq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-DhmkXAPp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/copy-icon-Lyk2_Z8G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spinner-DpaQpaiI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D1pae9A2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/focus-CyxSol0W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/popover-DZBXSGEz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useRunCells-DT1En-Te.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mode-DKDAYLK9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/purify.es-hXMlfS4W.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/RenderHTML-Dlz0Ew2i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-CesNYRF-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tabs-BjAbB8w_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-missing-import-DV1FOw9w.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAsyncData-_-DLduEH.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useIframeCapabilities-r0LQMxAQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/LazyAnyLanguageCodeMirror-C7KtNlRp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/error-banner-C9tkg1MX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/formats-C3exma5i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useTheme-DpA-8Qyy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/en-US-Lc4gASCJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/isValid-Cd_L_2Pm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/maps-D4abje2p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shim-D-ElLTBO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-CCvBQ7qL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/extends-C2lJEiP_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/emotion-is-prop-valid.esm-c4A1huxA.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDateFormatter-BMdQ9MI_.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/katex-BmfUoCWW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/marked.esm-idL59iHw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chunk-T7OEMACY-CdGEwedE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/range-Bbli-TEL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/table-kHJ0xpFt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DxdWGPFi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/name-cell-input-C6ZYU6mN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useHotkey-B0ylhc2m.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CqHWOZu2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BcLYYUSi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BVXr6b5T.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-BrEX5EQl.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CalRK9ms.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-Cc4T7UUX.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-D3MC5WiF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DgaCIZAa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-rqHtY98i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-tj-jaP-y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-w7c0BKrD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CCZcRJI9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-CrDb6akR.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/apl-BQt6lLuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asciiarmor-BjX7bs0j.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/asn1-xn1MtyoW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/brainfuck-BjO-UY1i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clike-DW9tQWfF.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/clojure-BSW96HRx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cmake-C7UlMfz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cobol-CyWIev3Y.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/coffeescript-DTvziYTK.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/commonlisp-yMdkdGMi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/crystal-BGnoSp3z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/css-D7fWzevp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cypher-Cr1dl0Qf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/d-C2bS5bA6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/diff-B2mHQyn6.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dtd-Cy-lUE7p.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dylan-mm60grwk.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ecl-Cqi05Wy1.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eiffel-FkvfLQq7.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/elm-Da5txHw0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/erlang-CdnCEH5x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/simple-mode-B185hCuE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/factor-CamlR8EJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/forth-UcMX0m31.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/fortran-DZ_vNVsP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gas-CM88o6Zj.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/gherkin-BhrpTeN9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/groovy-BFju68Wx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haskell-CrWHY4et.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/haxe-1eKW-tbO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/idl-Do4AwvU2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/javascript-CTXZKRYd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/julia-BRynwHI4.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/livescript-ZmIBNA-I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/lua-mUfZ-MRC.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mathematica-Dil5dTHO.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mbox-Dnkn9wSr.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mirc-auEWieOB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mllike-xVJsauJ8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/modelica-B8kajVDm.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mscgen-Bsnta1jn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/mumps-CMw16b5q.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/nsis-DwPdi8sw.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ntriples-O5lQxirn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/octave-CMfAar-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/oz-CLRI9Qww.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pascal-D2M_3HBx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/perl-B8lV7aKt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pig-Bima2bfE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/powershell-v_t41ydu.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/properties-ChrStSby.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/protobuf-Bin6kmlf.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pug-UWVdYLYW.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/puppet-DYrtWvYn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/python-BuKrulde.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/q-CrXUTiVN.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/r-Bk2Tiso2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/rpm-CmmZphz3.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ruby-ElyOTVeQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sas-jE3ZlG0K.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/scheme-CZF1tRbv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/shell-LqT3ZqMa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sieve-y15yT7Pp.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/smalltalk-pk5PvsMs.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/sparql-DTZ_gfPQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/stylus-CrGj0eNT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/swift-tt3PlBbI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/tcl-1P4b0GMJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textile-BHDIuMYh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toml-C8qoqk_i.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/troff-DMiF5Zmz.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-cfg-qLZtNU-E.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ttcn-BAUp3RZn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/turtle-BizIwmKv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vb-Bn_uCxNL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vbscript-BTKW8Atx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/velocity-CcB05fpi.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/verilog-BWdtOJH8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/vhdl-CzFOaOHx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/webidl-DDEKCqSy.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/xquery-BcF6ZhQP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/yacas-BARQAiXa.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/z80-DO_Ep0iT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-DnNh7vdQ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/objectWithoutPropertiesLoose-DDabolgJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/esm-Crqxhl3F.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-Df8Wb7xS.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-D8ETq-cc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/icons-BgmgMjOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/blob-LiDbeYko.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/add-cell-with-ai-85tnyxYo.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/chart-no-axes-column-BrQ3B3xc.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-function-D5EEjILG.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/spec-DpllSlJD.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useInstallPackage-BaAhpZlP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/column-preview-DGBk0umL.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useAddCell-DYfGo4T8.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/toggle-PGHtwx2G.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/api-CoLss8_O.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globals-oV9pRUSB.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/share-DjbnD3WE.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/memoize-DN0TMY36.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/get-CyLJYAfP.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseSet-CKSmZC_I.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/utilities.esm-DvrcU9Ky.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/floating-outline-DmCT2Mvg.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/eye-off-BUwXWtH0.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/plus-CiGrWbgb.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/readonly-python-code-CkaJ4Tks.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-video-camera-BGBfFNDn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-text-O5IflCIn.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/file-CqXxt3_J.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-BMriRmf-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/label-4Nancvon.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/textarea-BnZHy5Jt.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/circle-x-Cc9X6U_B.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-ccw-aU2rUkrI.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/trash-2-Du5ITnDv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/form-600t_Civ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/field-Dov6YyOV.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/switch-Ct8mUApv.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useBoolean-Dmwks1uh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/useDeepCompareMemoize-C8RdAYFq.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/types-D0WVpW93.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/prop-types-WJwGTMoZ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/es-DAmFxw3U.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/VisuallyHidden-RqykLBKh.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_baseFlatten-rM2FaX4x.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/hasIn-CE-pxQP-.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/_basePickBy-LbasZ8ix.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/pick-FbHfDtcJ.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/send-LAFRRDPT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/code-xml-DdSOsi73.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/download-Dmmu2U4a.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/globe-vMZtva7z.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/refresh-cw-BOc7UXm9.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/settings-DznrHqbd.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/square-DhlBDqyx.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/triangle-alert-Bf1kg4xT.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/dist-DL3W3q-2.js">
    <link rel="modulepreload" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/bundle.esm-C-9IAWQU.js">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/cells-wU8qigWB.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/Output-DUep6sC9.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/ConsoleOutput-BFFTcC5Y.css">
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.18.4/dist/assets/index-CJU5NUvF.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <!-- This is a portal for the data editor to render in -->
    <div id="portal" data-testid="glide-portal" style="position: fixed; left: 0; top: 0; z-index: 9999"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "w02_mzi_modelling.py",
            "mode": "read",
            "version": "0.18.4",
            "serverToken": "static",
            "config": {"ai": {"models": {"custom_models": [], "displayed_models": []}}, "completion": {"activate_on_typing": true, "copilot": false}, "diagnostics": {"sql_linter": true}, "display": {"cell_output": "below", "code_editor_font_size": 14, "dataframes": "rich", "default_table_max_columns": 50, "default_table_page_size": 10, "default_width": "medium", "reference_highlighting": false, "theme": "light"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": false}}, "mcp": {"mcpServers": {}, "presets": []}, "package_management": {"manager": "pip"}, "runtime": {"auto_instantiate": false, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "compact"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "from _notebook_template import inject_css\n\ninject_css(mo)", "code_hash": "6cb978e63f2955e2bd66085ab06248fe", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "from _notebook_template import make_doc_helpers\n\ndoc_badges, doc_callout_html, doc_callout_list = make_doc_helpers(mo)", "code_hash": "05080628ac7431f1b8289de5a4735a5a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "_"}, {"code": "from _notebook_template import make_section_tabs\n\nsection_tabs, view_state, set_view = make_section_tabs(mo)\nsection_tabs", "code_hash": "fecf90c824ffefd0557673d5a635ebca", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "vblA", "name": "_"}, {"code": "view = view_state()\nshow_overview = view in [\"All\", \"Overview\"]\nshow_theory = view in [\"All\", \"Theory\"]\nshow_interactive = view in [\"All\", \"Interactive\"]\nshow_layout_section = view in [\"All\", \"Layout\"]", "code_hash": "ec41606cbe222fd3e192d8e458458300", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "bkHC", "name": "_"}, {"code": "doc_badges(\n    [\n        f\"Notebook view: \u003Cstrong\u003E{view}\u003C/strong\u003E\",\n        (\n            \"Flags: \"\n            f\"overview={show_overview}, \"\n            f\"theory={show_theory}, \"\n            f\"interactive={show_interactive}, \"\n            f\"layout={show_layout_section}\"\n        ),\n    ]\n)", "code_hash": "aaba88bc2d3839377c287e036cc4b2d7", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lEQa", "name": "_"}, {"code": "mo.stop(not show_overview)\nfrom _style import header\n\nheader(\n    mo,\n    title=\"MZI modelling\",\n    subtitle=(\n        \"Build intuition for a Mach\u2013Zehnder interferometer (MZI), derive its transfer function, \"\n        \"and connect one key layout parameter (\u0394L) to a measurable signature (FSR). \"\n        \"We\u2019ll also preview how this maps to layout, but layout work happens in the next lesson.\"\n    ),\n    badges=[\n        \"Week 2\",\n        \"Lab companion\",\n        \"Interference\",\n        \"Transfer functions\",\n        \"1550 nm (default)\",\n        \"Simphony (optional)\",\n        \"Layout bridge\",\n    ],\n    toc=[\n        (\"Overview\", \"overview\"),\n        (\"Glossary\", \"glossary\"),\n        (\"Theory\", \"theory\"),\n        (\"Interactive\", \"interactive\"),\n        (\"Layout\", \"layout\"),\n    ],\n    build=\"2025-12-14\",\n)", "code_hash": "7eb9f6f18f00378b7cdb5428268a1180", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "PKri", "name": "_"}, {"code": "from _notebook_template import make_health_refresh_button\n\nhealth_refresh = make_health_refresh_button(mo)", "code_hash": "2a7e04e38b0c0d174f347633e1a3149a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "from _notebook_template import safe_editing_panel\n\nsafe_editing_panel(\n    mo,\n    doc_callout_html,\n    health_refresh,\n    restore_command=\"git -C Photonics-Bootcamp restore marimo_course/lessons/w02_mzi_modelling.py\",\n    external_check_command=\"python3 marimo_course/lessons/check_notebook_health.py marimo_course/lessons/w02_mzi_modelling.py\",\n)", "code_hash": "29d23a9880d766aba7128fdd65beb945", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "_"}, {"code": "mo.stop(not show_overview)\ndoc_callout_list(\n    \"info\",\n    tag=\"Roadmap\",\n    title=\"How this notebook fits together\",\n    ordered=True,\n    items=[\n        \"\u003Cstrong\u003EAnalytic model:\u003C/strong\u003E derive a simple MZI transfer function from interference.\",\n        \"\u003Cstrong\u003ECircuit model (Simphony + SAX):\u003C/strong\u003E build the same MZI from component (compact) models and compare.\",\n        \"\u003Cstrong\u003ELayout (gdsfactory):\u003C/strong\u003E transition from \u201cresponse vs wavelength\u201d to \u201cgeometry you can export as GDS\u201d.\",\n    ],\n)\n\ndoc_callout_list(\n    \"warning\",\n    tag=\"Quickstart\",\n    title=\"Running and troubleshooting\",\n    items=[\n        \"If you don\u2019t see plots, make sure you\u2019re in \u003Cstrong\u003EApp view\u003C/strong\u003E (not just the code editor), then restart/re-run the app.\",\n        \"If \u003Cstrong\u003ESimphony\u003C/strong\u003E isn\u2019t available, the analytic model still works; use \u003Cem\u003EView \u2192 Analytic only\u003C/em\u003E.\",\n        \"Units: the plot shows wavelength in \u003Cstrong\u003Enm\u003C/strong\u003E; internal calculations use \u003Cstrong\u003E\u00b5m\u003C/strong\u003E.\",\n    ],\n)\n\ndoc_callout_list(\n    \"info\",\n    tag=\"Expected outputs\",\n    title=\"What \u201cworking\u201d looks like (in lab)\",\n    items=[\n        \"An interactive transmission plot that changes when you move \u003Cstrong\u003E\u0394L\u003C/strong\u003E.\",\n        \"FSR decreases when \u0394L increases (approximately inverse proportional).\",\n        \"Optional overlay with a Simphony/SAX curve if the compact-model libraries are available.\",\n        \"A gdsfactory MZI layout preview (SVG) and a button to export a \u003Cstrong\u003EGDS\u003C/strong\u003E.\",\n    ],\n)", "code_hash": "e244582004c5d73cadfdf7193f7f4ff4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "mo.stop(not show_overview)\ngo_interactive = mo.ui.button(\n    value=0,\n    kind=\"success\",\n    label=\"Go to Interactive section\",\n    on_click=lambda v: (set_view(\"Interactive\"), (v or 0) + 1)[-1],\n)\ngo_layout = mo.ui.button(\n    value=0,\n    kind=\"neutral\",\n    label=\"Go to Layout section\",\n    on_click=lambda v: (set_view(\"Layout\"), (v or 0) + 1)[-1],\n)\nmo.hstack([go_interactive, go_layout])", "code_hash": "d8cdf09d0a9a053b9375f623e9a0ae88", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "from _notebook_template import notebook_self_check_view\n\n_self_check_view = notebook_self_check_view(\n    doc_badges=doc_badges,\n    doc_callout_html=doc_callout_html,\n    notebook_path=__file__,\n    refresh_token=health_refresh.value,\n)\n_self_check_view", "code_hash": "2968585e38dea19d8732f60e7d8dfb65", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "_"}, {"code": "mo.stop(not show_overview)\nmo.md(r\"\"\"\n\u003Ca id=\"overview\"\u003E\u003C/a\u003E\n## What is an MZI (and why do we start here)?\n\nA **Mach\u2013Zehnder interferometer (MZI)** is a small optical circuit that turns a **phase difference**\nbetween two paths into a **measurable power difference**.\n\nAt a high level:\n1. A **splitter** divides the input light into two waveguides (two *arms*).\n2. The arms accumulate a **relative phase difference** (often because one arm is longer by \u0394L).\n3. A **combiner** recombines the two fields, and they **interfere** at the outputs.\n\n**Why MZIs are useful**\n- **Sensing:** small phase shifts (temperature, strain, cladding index) become intensity changes.\n- **Modulation/switching:** if you can tune phase (thermal/electrical), an MZI becomes an optical modulator/switch.\n- **A reusable building block:** many larger photonic circuits are built from couplers + phase shifters + MZIs.\n\n**Why we choose MZIs as the first layout**\n- They use standard PDK primitives you\u2019ll need all semester (splitters/combiners, waveguides, routing).\n- There\u2019s a clean, testable signature: the arm length difference **\u0394L sets the fringe spacing (FSR)**.\n- They expose key layout skills early: ports, symmetry, routing discipline, and tolerance to fabrication errors.\n\"\"\")\ndoc_callout_html(\n    \"info\",\n    tag=\"Learning goals\",\n    title=\"What you should be able to do after this notebook\",\n    html=\"\"\"\n    \u003Cul\u003E\n      \u003Cli\u003EExplain how interference converts a phase difference into a power difference.\u003C/li\u003E\n      \u003Cli\u003ECompute the ideal transfer function for a 50/50 MZI.\u003C/li\u003E\n      \u003Cli\u003ERelate a layout parameter (\u0394L) to a measurable spectral feature (FSR).\u003C/li\u003E\n    \u003C/ul\u003E\n    \u003Cp\u003E\n      This is a \u003Cstrong\u003Elab companion\u003C/strong\u003E notebook. For graded work and \u201cturn-in\u201d items, use\n      \u003Ccode\u003Emarimo_course/assignments/hw02_mzi_modelling.py\u003C/code\u003E.\n    \u003C/p\u003E\n    \"\"\",\n)", "code_hash": "e751d10f9298e13ded59f5754fab918a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "_"}, {"code": "mo.stop(not show_overview)\nmo.md(r\"\"\"\n\u003Ca id=\"glossary\"\u003E\u003C/a\u003E\n## Key terms (quick glossary)\n\n- **\u0394L**: physical path-length difference between the two arms (\u00b5m).\n- **\u03bb**: wavelength (\u00b5m here).\n- **n_eff**: (phase) effective index used in the toy phase term.\n- **n_g**: group index (sets fringe spacing / FSR).\n- **FSR**: free spectral range, the wavelength spacing between fringes.\n\"\"\")", "code_hash": "218a6589cb74aeaf4392f1c34997a6a0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "_"}, {"code": "mo.stop(not show_overview)\nmo.md(r\"\"\"\n## What is gdsfactory (and why are we using it)?\n\n**gdsfactory** is a Python library for building **parametric photonic layouts**.\nInstead of drawing every waveguide and bend by hand, you describe a circuit using reusable components\nand parameters, and gdsfactory generates a **GDS** layout for you.\n\nA useful mental model:\n- A **Component** is a layout cell (like a reusable block).\n- Components have named **ports** (optical/electrical connection points).\n- You can **compose** components, route between ports, and then **export GDS**.\n\n**How we\u2019ll use gdsfactory in Week 2**\n- Build a simple MZI layout from standard building blocks (splitter/combiner + waveguides).\n- Tie a *layout parameter* (\u0394L) to a *measurable prediction* (FSR) from the analytic model.\n- Export a GDS file you can inspect in KLayout and eventually adapt to PDK-accurate cells for openEBL.\n\nIn this notebook, gdsfactory is used for a small \u201cconcrete layout\u201d example near the end.\nThe more detailed layout workflow lives in `marimo_course/lessons/w02_pdk_mzi_layout.py`.\n\"\"\")", "code_hash": "785403f578c04b047cc0d6247f44a510", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "_"}, {"code": "mo.stop(not show_theory)\nfrom textwrap import dedent as _dedent\n\ntheory_md = mo.md(_dedent(r\"\"\"\n\u003Ca id=\"theory\"\u003E\u003C/a\u003E\n## Analytic MZI model\n\nIn this notebook we'll consider a symmetric 50/50 MZI with:\n\n- Two identical 50/50 couplers.\n- One arm longer than the other by a physical length difference \u0394L (in \u00b5m).\n- A constant phase index parameter `n_eff` (toy model; we\u2019ll refine this later).\n\nA simple schematic is:\n\n```text\n                     upper arm (longer path by \u0394L)\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\nInput \u2500\u2500 \u25b6\u2502 50/50  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                               \u2502\n              \u2502                                    \u2502\n              \u2502                                    \u2502\n         short arm                                 \u2502\n              \u2502                                    \u2502\n              \u2502                                    \u2502\n Output 1 \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510                               \u2502\n    \u25c0 \u2500\u2500\u2500\u2500\u2502  50/50 \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n              \u2502 Output 2\n              \u25bc\n```\n\nThe phase difference between the two arms is:\n\n$$\n\\Delta \\phi(\\lambda) = \\frac{2 \\pi n_{\\mathrm{eff}} \\, \\Delta L}{\\lambda},\n$$\n\nwhere \u03bb and \u0394L are expressed in the same units (here, \u00b5m).\n\n### Where the phase difference comes from\n\nA guided mode in a waveguide accumulates phase according to the propagation constant:\n\n$$\n\\beta(\\lambda) = \\frac{2\\pi n_{\\mathrm{eff}}(\\lambda)}{\\lambda}.\n$$\n\nOver a physical path length $L$, the phase is:\n\n$$\n\\phi(\\lambda) = \\beta(\\lambda)\\,L.\n$$\n\nFor two arms with lengths $L_1$ and $L_2$, the *relative* phase is:\n\n$$\n\\Delta \\phi(\\lambda) = \\phi_2 - \\phi_1 = \\beta(\\lambda)\\,(L_2 - L_1) = \\beta(\\lambda)\\,\\Delta L.\n$$\n\n### From fields to power transmission (ideal 50/50 model)\n\nTreat each coupler as an ideal 50/50 \u201cbeam splitter\u201d acting on the complex field amplitudes:\n\n$$\n\\begin{bmatrix}\nE_1 \\\\\\\\\nE_2\n\\end{bmatrix}\n=\n\\frac{1}{\\sqrt{2}}\n\\begin{bmatrix}\n1 \u0026 1 \\\\\\\\\n1 \u0026 -1\n\\end{bmatrix}\n\\begin{bmatrix}\nE_{\\mathrm{in}} \\\\\\\\\n0\n\\end{bmatrix}\n\\Rightarrow\nE_1 = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}},\\;\nE_2 = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}}.\n$$\n\nAfter propagation through the two arms:\n\n$$\nE_1' = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}} e^{i\\phi_1},\\quad\nE_2' = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}} e^{i\\phi_2}.\n$$\n\nThe second 50/50 coupler recombines them:\n\n$$\n\\begin{bmatrix}\nE_{\\mathrm{through}} \\\\\\\\\nE_{\\mathrm{cross}}\n\\end{bmatrix}\n=\n\\frac{1}{\\sqrt{2}}\n\\begin{bmatrix}\n1 \u0026 1 \\\\\\\\\n1 \u0026 -1\n\\end{bmatrix}\n\\begin{bmatrix}\nE_1' \\\\\\\\\nE_2'\n\\end{bmatrix}.\n$$\n\nSo the through-port field is:\n\n$$\nE_{\\mathrm{through}}\n= \\frac{E_{\\mathrm{in}}}{2}\\left(e^{i\\phi_1} + e^{i\\phi_2}\\right)\n= E_{\\mathrm{in}}\\,e^{i(\\phi_1+\\phi_2)/2}\\cos\\left(\\frac{\\Delta\\phi}{2}\\right).\n$$\n\nThe (normalized) through-port power transmission is:\n\n$$\nT_{\\mathrm{ideal}}(\\lambda)\n= \\frac{|E_{\\mathrm{through}}|^2}{|E_{\\mathrm{in}}|^2}\n= \\cos^2\\left(\\frac{\\Delta\\phi(\\lambda)}{2}\\right)\n= \\frac{1}{2}\\left(1 + \\cos \\Delta \\phi(\\lambda)\\right).\n$$\n\n(The other output is complementary: $T_{\\mathrm{cross}} = \\sin^2(\\Delta\\phi/2) = \\frac{1}{2}(1-\\cos\\Delta\\phi)$. Different coupler sign conventions simply swap which port you call \u201cthrough\u201d vs \u201ccross\u201d.)\n\n### Linking \u0394L to fringe spacing (FSR)\n\nAround a center wavelength \u03bb\u2080, a useful rule of thumb is:\n\n$$\n\\mathrm{FSR} \\approx \\frac{\\lambda_0^2}{n_g \\, \\Delta L},\n$$\n\nwhere **n_g** is the group index. (This is why **n_eff** shows up in phase, but **n_g** shows up in FSR.)\n\n#### Derivation: where the FSR rule-of-thumb comes from\n\nKey idea: **adjacent fringes occur when the relative phase changes by** $2\\pi$.\n\nWrite the wavelength-dependent propagation constant as\n\n$$\n\\beta(\\lambda)=\\frac{2\\pi}{\\lambda}n_\\mathrm{eff}(\\lambda),\n$$\n\nso the arm phase difference is\n\n$$\n\\Delta\\phi(\\lambda)=\\beta(\\lambda)\\,\\Delta L.\n$$\n\nA \u201cfringe-to-fringe\u201d step in wavelength (the FSR) is the smallest $\\Delta\\lambda$ such that\n\n$$\n\\Delta\\phi(\\lambda+\\Delta\\lambda)-\\Delta\\phi(\\lambda)=2\\pi.\n$$\n\nFor small $\\Delta\\lambda$ we linearize:\n\n$$\n\\frac{d\\Delta\\phi}{d\\lambda}\\,\\Delta\\lambda \\approx 2\\pi\n\\quad\\Rightarrow\\quad\n\\Delta\\lambda \\approx \\frac{2\\pi}{\\Delta L\\,\\left|d\\beta/d\\lambda\\right|}.\n$$\n\nNow differentiate $\\beta(\\lambda)$:\n\n$$\n\\frac{d\\beta}{d\\lambda}\n=\\frac{d}{d\\lambda}\\left(\\frac{2\\pi}{\\lambda}n_\\mathrm{eff}(\\lambda)\\right)\n=\\frac{2\\pi}{\\lambda^2}\\left(\\lambda\\frac{dn_\\mathrm{eff}}{d\\lambda}-n_\\mathrm{eff}\\right).\n$$\n\nDefine the **group index**\n\n$$\nn_g \\equiv n_\\mathrm{eff}-\\lambda\\frac{dn_\\mathrm{eff}}{d\\lambda},\n$$\n\nwhich makes\n\n$$\n\\left|\\frac{d\\beta}{d\\lambda}\\right|=\\frac{2\\pi}{\\lambda^2}n_g.\n$$\n\nSubstituting gives\n\n$$\n\\mathrm{FSR}=\\Delta\\lambda \\approx \\frac{\\lambda^2}{n_g\\,\\Delta L}.\n$$\n\nEvaluated at $\\lambda=\\lambda_0$, this is the rule-of-thumb used in the notebook.\n\nIn frequency units the same idea gives $\\Delta f \\approx c/(n_g\\,\\Delta L)$, which is why this is often quoted as an \u201cinverse length\u201d relationship.\n\nLater lessons will introduce group index and propagation loss in a more realistic way.\n\"\"\"))\ntheory_note = doc_callout_html(\n    \"warning\",\n    tag=\"Note\",\n    title=\"\u003Ccode\u003En_eff\u003C/code\u003E vs \u003Ccode\u003En_g\u003C/code\u003E\",\n    html=\"\"\"\n    \u003Cp\u003E\n      The phase term uses \u003Cstrong\u003Eeffective index\u003C/strong\u003E (\u003Ccode\u003En_eff\u003C/code\u003E), but the fringe spacing (FSR) depends on\n      \u003Cstrong\u003Egroup index\u003C/strong\u003E (\u003Ccode\u003En_g\u003C/code\u003E). In a dispersive waveguide, these are not the same.\n    \u003C/p\u003E\n    \"\"\",\n)\nmo.vstack([theory_md, theory_note])", "code_hash": "50ce1fc20916423071daf735182e534f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "_"}, {"code": "mo.stop(not (show_theory or show_interactive))\ninteractive_anchor = mo.md('\u003Ca id=\"interactive\"\u003E\u003C/a\u003E') if show_interactive else mo.md(\"\")\nverify_callout = doc_callout_html(\n    \"exercise\",\n    tag=\"Verify\",\n    title=\"Use the plot to confirm the derivation\",\n    html=\"\"\"\n    \u003Col\u003E\n      \u003Cli\u003ESwitch to the \u003Cstrong\u003EInteractive\u003C/strong\u003E section using the \u003Cem\u003ENotebook sections\u003C/em\u003E tabs.\u003C/li\u003E\n      \u003Cli\u003ESet \u003Cstrong\u003E\u0394L = 10 \u00b5m\u003C/strong\u003E and note the displayed \u003Cstrong\u003EFSR estimate\u003C/strong\u003E.\u003C/li\u003E\n      \u003Cli\u003EDouble \u0394L to \u003Cstrong\u003E20 \u00b5m\u003C/strong\u003E. Prediction: the FSR should be roughly \u003Cstrong\u003Ehalf\u003C/strong\u003E.\u003C/li\u003E\n      \u003Cli\u003EUse the \u003Cstrong\u003EFSR measurement tool\u003C/strong\u003E (enter two adjacent maxima wavelengths) to measure the FSR and compare.\u003C/li\u003E\n      \u003Cli\u003EChange \u003Cstrong\u003Ebase arm length\u003C/strong\u003E (both arms equally). In the ideal model, the FSR should not change \u2014 explain why in one sentence.\u003C/li\u003E\n    \u003C/ol\u003E\n    \u003Cp\u003E\u003Csmall\u003E\n      Tip: if you don\u2019t see at least ~2 fringes, increase the spectrum span or increase \u0394L.\n    \u003C/small\u003E\u003C/p\u003E\n    \"\"\",\n)\nmo.vstack([interactive_anchor, verify_callout])", "code_hash": "2330f1e6c24043f69ca20cd1e4688af5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "_"}, {"code": "mo.stop(not show_theory)\ndoc_callout_html(\n    \"info\",\n    tag=\"Concept check\",\n    title=\"Three quick checks before moving on\",\n    html=\"\"\"\n    \u003Col\u003E\n      \u003Cli\u003E\n        In the ideal analytic model here, which knob mostly changes the \u003Cem\u003Efringe spacing\u003C/em\u003E (FSR): \u003Cstrong\u003E\u0394L\u003C/strong\u003E or \u003Cstrong\u003En\u003Csub\u003Eeff\u003C/sub\u003E\u003C/strong\u003E?\n        \u003Cdetails\u003E\u003Csummary\u003E\u003Cem\u003EAnswer\u003C/em\u003E\u003C/summary\u003E\n          \u003Cp\u003E\u003Cstrong\u003E\u0394L\u003C/strong\u003E (and \u003Cstrong\u003En\u003Csub\u003Eg\u003C/sub\u003E\u003C/strong\u003E) set the spacing; \u003Cstrong\u003En\u003Csub\u003Eeff\u003C/sub\u003E\u003C/strong\u003E mostly shifts the phase / where the fringes land.\u003C/p\u003E\n        \u003C/details\u003E\n      \u003C/li\u003E\n      \u003Cli\u003E\n        Why does the FSR formula use \u003Cstrong\u003En\u003Csub\u003Eg\u003C/sub\u003E\u003C/strong\u003E instead of \u003Cstrong\u003En\u003Csub\u003Eeff\u003C/sub\u003E\u003C/strong\u003E?\n        \u003Cdetails\u003E\u003Csummary\u003E\u003Cem\u003EAnswer\u003C/em\u003E\u003C/summary\u003E\n          \u003Cp\u003EFSR comes from how quickly phase changes with wavelength, which depends on dispersion (a derivative); that derivative is captured by the \u003Cstrong\u003Egroup index\u003C/strong\u003E.\u003C/p\u003E\n        \u003C/details\u003E\n      \u003C/li\u003E\n      \u003Cli\u003E\n        If the Simphony/SAX curve (when available) doesn\u2019t match the analytic curve perfectly, name \u003Cem\u003Eone\u003C/em\u003E likely reason.\n        \u003Cdetails\u003E\u003Csummary\u003E\u003Cem\u003EAnswer\u003C/em\u003E\u003C/summary\u003E\n          \u003Cp\u003ECommon causes: splitter/coupler model conventions, wavelength-dependent component responses, dispersion, and loss (depending on models).\u003C/p\u003E\n        \u003C/details\u003E\n      \u003C/li\u003E\n    \u003C/ol\u003E\n    \"\"\",\n)", "code_hash": "7b01c37378cd3c9ed51c756b8da989e0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "_"}, {"code": "import os\nimport marimo as mo\nimport numpy as np\nimport altair as alt\nimport polars as pl\nimport base64 as b64\nfrom pathlib import Path\n\ngf = None\ngf_import_error = \"\"\nif os.environ.get(\"PB_SKIP_GF\") == \"1\":\n    gf_import_error = \"PB_SKIP_GF=1\"\nelse:\n    try:\n        import gdsfactory as gf\n    except Exception as exc:  # pragma: no cover - depends on environment\n        gf_import_error = f\"{type(exc).__name__}: {exc}\"", "code_hash": "f4f20fb1f9fd9bc911c5c66f1f341068", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "qnkX", "name": "_"}, {"code": "import ast\n\n_ALLOWED_FUNCS = {\n    \"sin\",\n    \"cos\",\n    \"tan\",\n    \"exp\",\n    \"sqrt\",\n    \"log\",\n    \"log10\",\n    \"abs\",\n    \"where\",\n    \"clip\",\n    \"min\",\n    \"max\",\n}\n\n_ALLOWED_NODES = (\n    ast.Expression,\n    ast.BinOp,\n    ast.UnaryOp,\n    ast.Call,\n    ast.Name,\n    ast.Load,\n    ast.Constant,\n    ast.IfExp,\n    ast.Compare,\n    ast.BoolOp,\n    ast.And,\n    ast.Or,\n    ast.Not,\n    ast.USub,\n    ast.UAdd,\n    ast.Add,\n    ast.Sub,\n    ast.Mult,\n    ast.Div,\n    ast.Pow,\n    ast.Mod,\n    ast.Eq,\n    ast.NotEq,\n    ast.Lt,\n    ast.LtE,\n    ast.Gt,\n    ast.GtE,\n)\n\ndef safe_math_eval(expression: str, env: dict):\n    \"\"\"Evaluate a restricted math expression (no attrs/imports/subscripts).\"\"\"\n\n    tree = ast.parse(expression, mode=\"eval\")\n\n    for node in ast.walk(tree):\n        if isinstance(node, ast.Attribute):\n            raise ValueError(\"Attribute access is not allowed (use sin/cos/... directly).\")\n        if isinstance(node, ast.Subscript):\n            raise ValueError(\"Indexing is not allowed in the playground.\")\n        if isinstance(node, ast.Call):\n            if not isinstance(node.func, ast.Name):\n                raise ValueError(\"Only direct function calls are allowed (e.g., cos(...)).\")\n            if node.func.id not in _ALLOWED_FUNCS:\n                raise ValueError(f\"Function `{node.func.id}` is not allowed.\")\n            if node.keywords:\n                raise ValueError(\"Keyword arguments are not allowed.\")\n        if isinstance(node, ast.Name):\n            if node.id not in env and node.id not in _ALLOWED_FUNCS:\n                raise ValueError(f\"Unknown symbol `{node.id}`.\")\n        if not isinstance(node, _ALLOWED_NODES):\n            raise ValueError(f\"Unsupported syntax: {type(node).__name__}.\")\n\n    safe_globals = {\"__builtins__\": {}}\n    safe_locals = dict(env)\n    safe_locals.update(\n        {\n            \"sin\": np.sin,\n            \"cos\": np.cos,\n            \"tan\": np.tan,\n            \"exp\": np.exp,\n            \"sqrt\": np.sqrt,\n            \"log\": np.log,\n            \"log10\": np.log10,\n            \"abs\": np.abs,\n            \"where\": np.where,\n            \"clip\": np.clip,\n            \"min\": np.minimum,\n            \"max\": np.maximum,\n        }\n    )\n    code = compile(tree, \"\u003Cstudent-expression\u003E\", \"eval\")\n    return eval(code, safe_globals, safe_locals)  # noqa: S307 (restricted env)", "code_hash": "ca389b93c272dc1063ec00d0b4cc0ab9", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TqIu", "name": "_"}, {"code": "def fsr_estimate_nm(wl0_um: float, ng: float, delta_length_um: float) -\u003E float | None:\n    if delta_length_um \u003C= 0:\n        return None\n    return (wl0_um * wl0_um) / (ng * delta_length_um) * 1e3\n\ndef phase_slope_rad_per_nm(wl0_um: float, ng: float, delta_length_um: float) -\u003E float | None:\n    if delta_length_um \u003C= 0:\n        return None\n    # |d\u0394\u03c6/d\u03bb| \u2248 2\u03c0 n_g \u0394L / \u03bb0^2, with \u03bb0 and \u0394L in \u00b5m.\n    return (2 * np.pi * ng * delta_length_um / (wl0_um**2)) / 1e3\n\ndef neff_linear_from_ng(\n    wl_um: np.ndarray, wl0_um: float, n_eff0: float, ng: float\n) -\u003E tuple[np.ndarray, float]:\n    # n_g = n_eff - \u03bb dn_eff/d\u03bb  \u21d2  dn_eff/d\u03bb = (n_eff - n_g)/\u03bb\n    dn_eff_dlambda_per_um = (n_eff0 - ng) / wl0_um\n    n_eff_lambda = n_eff0 + dn_eff_dlambda_per_um * (wl_um - wl0_um)\n    return n_eff_lambda, float(dn_eff_dlambda_per_um)", "code_hash": "0b195bd87a6888d936a38751ee2cc118", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Vxnm", "name": "_"}, {"code": "def _local_maxima_indices(y: np.ndarray) -\u003E np.ndarray:\n    \"\"\"Return indices i where y[i] is a strict local maximum.\"\"\"\n    y = np.asarray(y, dtype=float).reshape(-1)\n    if y.size \u003C 3:\n        return np.array([], dtype=int)\n    left = y[1:-1] \u003E y[:-2]\n    right = y[1:-1] \u003E= y[2:]\n    idx = np.where(left \u0026 right)[0] + 1\n    return idx.astype(int)\n\ndef auto_fsr_from_curve(\n    *,\n    wl_nm: np.ndarray,\n    y: np.ndarray,\n    wl0_nm: float,\n) -\u003E dict:\n    \"\"\"\n    Detect adjacent maxima and estimate FSR near wl0.\n\n    Returns keys:\n      ok: bool\n      message: str\n      lam1_nm, lam2_nm, fsr_nm: float|None\n      n_peaks: int\n    \"\"\"\n    wl_nm = np.asarray(wl_nm, dtype=float).reshape(-1)\n    y = np.asarray(y, dtype=float).reshape(-1)\n    if wl_nm.size != y.size or wl_nm.size \u003C 5:\n        return {\n            \"ok\": False,\n            \"message\": \"Curve data unavailable (need arrays of the same length).\",\n            \"lam1_nm\": None,\n            \"lam2_nm\": None,\n            \"fsr_nm\": None,\n            \"n_peaks\": 0,\n        }\n\n    idx = _local_maxima_indices(y)\n    if idx.size \u003C 2:\n        return {\n            \"ok\": False,\n            \"message\": \"Could not find at least two maxima (try increasing \u0394L or spectrum span).\",\n            \"lam1_nm\": None,\n            \"lam2_nm\": None,\n            \"fsr_nm\": None,\n            \"n_peaks\": int(idx.size),\n        }\n\n    # Filter out maxima that are effectively flat due to numerical issues.\n    y_min = float(np.nanmin(y))\n    y_max = float(np.nanmax(y))\n    y_rng = max(y_max - y_min, 0.0)\n    eps = 1e-9 if y_rng == 0 else 1e-6 * y_rng\n    idx = np.array([i for i in idx if (y[i] - max(y[i - 1], y[i + 1])) \u003E eps], dtype=int)\n    if idx.size \u003C 2:\n        return {\n            \"ok\": False,\n            \"message\": \"Found maxima but they are too flat to measure reliably.\",\n            \"lam1_nm\": None,\n            \"lam2_nm\": None,\n            \"fsr_nm\": None,\n            \"n_peaks\": int(idx.size),\n        }\n\n    peaks_nm = wl_nm[idx]\n    peaks_nm = peaks_nm[np.argsort(peaks_nm)]\n    if peaks_nm.size \u003C 2:\n        return {\n            \"ok\": False,\n            \"message\": \"Could not compute peak spacing (unexpected).\",\n            \"lam1_nm\": None,\n            \"lam2_nm\": None,\n            \"fsr_nm\": None,\n            \"n_peaks\": int(peaks_nm.size),\n        }\n\n    mids = (peaks_nm[:-1] + peaks_nm[1:]) / 2.0\n    k = int(np.argmin(np.abs(mids - float(wl0_nm))))\n    lam1 = float(peaks_nm[k])\n    lam2 = float(peaks_nm[k + 1])\n    fsr = float(abs(lam2 - lam1))\n\n    return {\n        \"ok\": True,\n        \"message\": \"OK\",\n        \"lam1_nm\": lam1,\n        \"lam2_nm\": lam2,\n        \"fsr_nm\": fsr,\n        \"n_peaks\": int(peaks_nm.size),\n    }", "code_hash": "bb15f203721aa929305602a8a53e2f9f", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "DnEU", "name": "_"}, {"code": "mo.stop(not show_overview)\nblocks = [mo.md(\"## gdsfactory quick check\")]\nif gf is None:\n    blocks.append(mo.md(\"`gdsfactory` is not available in this environment.\"))\n    if gf_import_error:\n        blocks.append(mo.md(f\"Details: `{gf_import_error}`\"))\nelse:\n    gf_version = getattr(gf, \"__version__\", None)\n    if gf_version:\n        blocks.append(\n            mo.md(f\"`gdsfactory` version (this environment): **{gf_version}**\")\n        )\n\n    blocks.append(\n        mo.md(\n            r\"\"\"\n            Minimal usage example:\n            ```python\n            import gdsfactory as gf\n            c = gf.components.mzi(delta_length=50)  # \u00b5m\n            c.write_gds(\"mzi.gds\")\n            ```\n            \"\"\"\n        )\n    )\nmo.vstack(blocks)", "code_hash": "327a8bf58cb72641c62a0bb58e8e91c3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ulZA", "name": "_"}, {"code": "mo.stop(not show_interactive)\nmo.md(r\"\"\"\n## Interactive MZI spectrum\n\nUse the controls to explore how **\u0394L** sets the **fringe spacing** (FSR).\nYou can compare a simple analytic model to an optional **Simphony/SAX circuit model** built from compact component models (if available in your environment).\n\"\"\")\n\ndoc_callout_list(\n    \"info\",\n    tag=\"openEBL context\",\n    title=\"Default band and why\",\n    items=[\n        \"This course\u2019s first openEBL design targets the **1550 nm band** by default (e.g., TE 1550 grating-coupler cells in the SiEPIC EBeam PDK).\",\n        \"So the default center wavelength here is **\u03bb0 \u2248 1550 nm**.\",\n        \"Advanced option: explore **1310 nm** by switching the wavelength band under **Controls \u2192 Advanced**.\",\n    ],\n)\n\ndoc_callout_list(\n    \"info\",\n    tag=\"Assumptions\",\n    title=\"What this plot is (and isn\u2019t)\",\n    items=[\n        \"\u003Cstrong\u003EIdeal analytic curve:\u003C/strong\u003E lossless, perfect 50/50 couplers, and a simplified phase term with a constant \u003Ccode\u003En_eff\u003C/code\u003E.\",\n        \"\u003Cstrong\u003EFSR physics:\u003C/strong\u003E the rule-of-thumb comes from the condition \u201cadjacent fringes \u2194 \u0394\u03c6 changes by 2\u03c0\u201d and uses \u003Ccode\u003En_g\u003C/code\u003E (group index).\",\n        \"\u003Cstrong\u003EWhat\u2019s missing:\u003C/strong\u003E wavelength-dependent dispersion in \u003Ccode\u003En_eff(\u03bb)\u003C/code\u003E, propagation loss, and non-ideal couplers (unless you use the Simphony/SAX view).\",\n    ],\n)\n\ndoc_callout_html(\n    \"warning\",\n    tag=\"Why two curves?\",\n    title=\"Analytic vs circuit compact-model simulation\",\n    html=\"\"\"\n    \u003Cul\u003E\n      \u003Cli\u003E\u003Cstrong\u003EAnalytic\u003C/strong\u003E: ideal, lossless, and uses a simple phase term with a tunable \u003Ccode\u003En_eff\u003C/code\u003E.\u003C/li\u003E\n      \u003Cli\u003E\u003Cstrong\u003ESimphony/SAX\u003C/strong\u003E: assembles an MZI from wavelength-dependent component models (splitter + waveguides + combiner).\u003C/li\u003E\n    \u003C/ul\u003E\n    \u003Cp\u003E\n      Differences typically come from dispersion, the specific splitter/coupler model, and model conventions.\n      Use the \u003Ccode\u003En_eff\u003C/code\u003E tuning knob to align the analytic fringe spacing near \u03bb0.\n    \u003C/p\u003E\n    \"\"\",\n)\n\ndoc_callout_html(\n    \"info\",\n    tag=\"Concept check\",\n    title=\"Quick questions before you touch the sliders\",\n    html=\"\"\"\n    \u003Col\u003E\n      \u003Cli\u003E\n        If you \u003Cstrong\u003Edouble \u0394L\u003C/strong\u003E, does the FSR get bigger, smaller, or stay the same?\n        \u003Cdetails\u003E\u003Csummary\u003E\u003Cem\u003EAnswer\u003C/em\u003E\u003C/summary\u003E\u003Cp\u003ESmaller (approximately halves), because FSR \u221d 1/\u0394L.\u003C/p\u003E\u003C/details\u003E\n      \u003C/li\u003E\n      \u003Cli\u003E\n        If you change the \u003Cstrong\u003Ebase arm length\u003C/strong\u003E (both arms equally), does the FSR change in the ideal analytic model?\n        \u003Cdetails\u003E\u003Csummary\u003E\u003Cem\u003EAnswer\u003C/em\u003E\u003C/summary\u003E\u003Cp\u003ENo. Only the \u003Cem\u003Edifference\u003C/em\u003E \u0394L changes the interference period.\u003C/p\u003E\u003C/details\u003E\n      \u003C/li\u003E\n    \u003C/ol\u003E\n    \"\"\",\n)\n\ndoc_callout_list(\n    \"exercise\",\n    tag=\"Exercise\",\n    title=\"FSR vs \u0394L (mini-lab)\",\n    ordered=True,\n    items=[\n        \"Set \u0394L to 10 \u00b5m and estimate the FSR from the plot (distance between adjacent maxima).\",\n        \"Double \u0394L. Predict the new FSR using the rule of thumb, then verify it on the plot.\",\n        \"Change the base arm length. Does the FSR change in the ideal analytic model? Why or why not?\",\n    ],\n)", "code_hash": "7ca65d1c48e52a9fdfba47c735138572", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ecfG", "name": "_"}, {"code": "base_length = mo.ui.slider(\n    start=100.0,\n    stop=20000.0,\n    value=5000.0,\n    step=100.0,\n    label=\"Base arm length (\u00b5m)\",\n)\ndelta_length = mo.ui.slider(\n    start=0.0,\n    stop=500.0,\n    value=10.0,\n    step=1.0,\n    label=\"\u0394L (\u00b5m, path length difference)\",\n)", "code_hash": "2c93caca69b785bb222dfd5211089d2e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Pvdt", "name": "_"}, {"code": "param_preset = mo.ui.dropdown(\n    options=[\n        \"Custom (use sliders)\",\n        \"Reset to defaults (\u0394L=10 \u00b5m)\",\n        \"\u0394L = 25 \u00b5m\",\n        \"\u0394L = 50 \u00b5m\",\n        \"\u0394L = 100 \u00b5m\",\n    ],\n    value=\"Custom (use sliders)\",\n    label=\"Parameter preset (overrides \u0394L slider)\",\n)", "code_hash": "0a802429535553094d4f803bd7e1748e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZBYS", "name": "_"}, {"code": "spectrum_center = mo.ui.slider(\n    start=1.50,\n    stop=1.60,\n    value=1.55,\n    step=0.001,\n    label=\"Spectrum center \u03bb0 (\u00b5m, 1550 band)\",\n)\nwl_band = mo.ui.radio(\n    options=[\n        \"1550 nm (default)\",\n        \"1310 nm (advanced)\",\n    ],\n    value=\"1550 nm (default)\",\n    label=\"Wavelength band\",\n    inline=True,\n)\nspectrum_center_1310 = mo.ui.slider(\n    start=1.26,\n    stop=1.36,\n    value=1.31,\n    step=0.001,\n    label=\"Spectrum center \u03bb0 (\u00b5m, 1310 band)\",\n)\nspectrum_span_nm = mo.ui.slider(\n    start=10.0,\n    stop=200.0,\n    value=100.0,\n    step=5.0,\n    label=\"Spectrum span (nm)\",\n)\nng = mo.ui.slider(\n    start=2.0,\n    stop=5.0,\n    value=4.19,\n    step=0.01,\n    label=\"Group index ng (FSR estimate)\",\n)\nn_eff = mo.ui.slider(\n    start=1.0,\n    stop=6.0,\n    value=2.40,\n    step=0.0001,\n    label=\"Phase effective index n_eff (toy model; tune fringes)\",\n)", "code_hash": "b73984867f95806bacaf1108050f4f1c", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aLJB", "name": "_"}, {"code": "view_mode = mo.ui.dropdown(\n    options=[\n        \"Analytic only\",\n        \"Simphony only\",\n        \"Overlay (analytic + Simphony)\",\n    ],\n    value=\"Analytic only\",\n    label=\"View\",\n)", "code_hash": "45f5d299c29c1a8a25f069916bff2bc8", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nHfw", "name": "_"}, {"code": "simphony_io = mo.ui.radio(\n    options=[\n        \"Direct waveguide I/O\",\n        \"Include grating couplers (in + out)\",\n    ],\n    value=\"Direct waveguide I/O\",\n    label=\"Simphony I/O\",\n)", "code_hash": "9e8ddd3e74053f355cb515436bfbf8a5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "xXTn", "name": "_"}, {"code": "run_simphony = mo.ui.checkbox(\n    label=\"Compute Simphony curve\",\n    value=False,\n)", "code_hash": "f0c8268494dea4b8cf4d58d1095108b5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "AjVT", "name": "_"}, {"code": "y_scale = mo.ui.radio(\n    options=[\n        \"Linear\",\n        \"Semilog (log y)\",\n    ],\n    value=\"Linear\",\n    label=\"Y scale\",\n)", "code_hash": "5262932d946b6f1ace7e7ce51a6dc2e1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "pHFh", "name": "_"}, {"code": "show_plot_debug = mo.ui.checkbox(label=\"Show plot debug info\", value=False)", "code_hash": "4314d5eac5aa4338ef3d254c366b29a3", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "NCOB", "name": "_"}, {"code": "show_advanced = mo.ui.checkbox(label=\"Show advanced controls\", value=False)", "code_hash": "a6d8a8a35ee13a82853789ea2cefc256", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "aqbW", "name": "_"}, {"code": "playground_enabled = mo.ui.checkbox(\n    label=\"Enable expression playground (student editable)\",\n    value=False,\n)\nplayground_preset = mo.ui.radio(\n    options=[\n        \"Ideal MZI (default)\",\n        \"Reduced visibility (V=0.8)\",\n        \"Add loss floor (2%)\",\n        \"Custom\",\n    ],\n    value=\"Ideal MZI (default)\",\n    label=\"Playground preset\",\n)\nplayground_expr = mo.ui.text_area(\n    value=\"0.5*(1 + cos(2*pi*n_eff*delta_L/wl_um))\",\n    label=\"Custom transmission T(wl) (unitless)\",\n    rows=2,\n)", "code_hash": "5aea8cd139dd32ee358788a7e5300ae1", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TRpd", "name": "_"}, {"code": "mo.stop(not show_interactive)\nlive_update = mo.ui.checkbox(label=\"Live update\", value=True)\napply_update = mo.ui.button(\n    value=0,\n    label=\"Apply\",\n    kind=\"neutral\",\n    tooltip=\"When Live update is off, click Apply to recompute.\",\n    on_click=lambda v: (v or 0) + 1,\n)\n\nbasic_controls = mo.vstack(\n    [\n        mo.hstack([spectrum_center, spectrum_span_nm]),\n        mo.hstack([y_scale, view_mode]),\n        mo.hstack([base_length, delta_length]),\n        mo.hstack([param_preset, ng]),\n        n_eff,\n    ]\n)\nadvanced_controls = mo.vstack(\n    [\n        mo.hstack([show_advanced, show_plot_debug]),\n        wl_band,\n        spectrum_center_1310,\n        mo.hstack([playground_enabled, playground_preset]),\n        playground_expr,\n    ]\n)\n\ncontrols_tabs = mo.ui.tabs(\n    {\n        \"Basic\": mo.vstack([basic_controls, mo.hstack([simphony_io, run_simphony])]),\n        \"Advanced\": advanced_controls,\n    },\n    value=\"Basic\",\n    lazy=True,\n)\n\ncontrols_ui = mo.vstack([mo.hstack([live_update, apply_update]), controls_tabs])", "code_hash": "f1e673575907b48d299f5f2de0d47e58", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "TXez", "name": "_"}, {"code": "mo.stop(not show_interactive)\n\nraw = {\n    \"base_length\": float(base_length.value),\n    \"delta_length\": float(delta_length.value),\n    \"param_preset\": str(param_preset.value),\n    \"spectrum_center\": float(spectrum_center.value),\n    \"spectrum_center_1310\": float(spectrum_center_1310.value),\n    \"wl_band\": str(wl_band.value),\n    \"spectrum_span_nm\": float(spectrum_span_nm.value),\n    \"y_scale\": str(y_scale.value),\n    \"ng\": float(ng.value),\n    \"n_eff\": float(n_eff.value),\n    \"view_mode\": str(view_mode.value),\n    \"simphony_io\": str(simphony_io.value),\n    \"run_simphony\": bool(run_simphony.value),\n    \"show_plot_debug\": bool(show_plot_debug.value),\n    \"show_advanced\": bool(show_advanced.value),\n    \"playground_enabled\": bool(playground_enabled.value),\n    \"playground_preset\": str(playground_preset.value),\n    \"playground_expr\": str(playground_expr.value or \"\"),\n}\n\napplied_state, set_applied_state = mo.state(raw)\nlast_apply_click, set_last_apply_click = mo.state(0)\n\nif not bool(live_update.value) and int(apply_update.value) != int(last_apply_click()):\n    set_applied_state(raw)\n    set_last_apply_click(int(apply_update.value))\n\neffective = raw if bool(live_update.value) else dict(applied_state())\n\n_band = str(effective.get(\"wl_band\", \"1550 nm (default)\"))\nif _band.startswith(\"1310\"):\n    wl0_um_effective = float(effective[\"spectrum_center_1310\"])\nelse:\n    wl0_um_effective = float(effective[\"spectrum_center\"])\n\npreset_deltaL_um = {\n    \"Reset to defaults (\u0394L=10 \u00b5m)\": 10.0,\n    \"\u0394L = 25 \u00b5m\": 25.0,\n    \"\u0394L = 50 \u00b5m\": 50.0,\n    \"\u0394L = 100 \u00b5m\": 100.0,\n}\npreset_label = str(effective[\"param_preset\"])\nif preset_label in preset_deltaL_um:\n    delta_length_um_effective = float(preset_deltaL_um[preset_label])\n    preset_active = True\nelse:\n    delta_length_um_effective = float(effective[\"delta_length\"])\n    preset_active = False\n\nw02_params = {\n    \"base_length_um\": float(effective[\"base_length\"]),\n    \"delta_length_um_slider\": float(effective[\"delta_length\"]),\n    \"delta_length_um_effective\": delta_length_um_effective,\n    \"preset_active\": preset_active,\n    \"param_preset\": preset_label,\n    \"wl_band\": _band,\n    \"wl0_um\": wl0_um_effective,\n    \"spectrum_span_nm\": float(effective[\"spectrum_span_nm\"]),\n    \"y_scale\": str(effective[\"y_scale\"]),\n    \"semilog\": str(effective[\"y_scale\"]) == \"Semilog (log y)\",\n    \"n_g\": float(effective[\"ng\"]),\n    \"n_eff0\": float(effective[\"n_eff\"]),\n    \"view_mode\": str(effective[\"view_mode\"]),\n    \"simphony_io\": str(effective[\"simphony_io\"]),\n    \"run_simphony\": bool(effective[\"run_simphony\"]),\n    \"show_plot_debug\": bool(effective[\"show_plot_debug\"]),\n    \"show_advanced\": bool(effective[\"show_advanced\"]),\n    \"playground_enabled\": bool(effective[\"playground_enabled\"]),\n    \"playground_preset\": str(effective[\"playground_preset\"]),\n    \"playground_expr\": str(effective[\"playground_expr\"] or \"\"),\n    \"live_update\": bool(live_update.value),\n    \"applied\": (not bool(live_update.value)) and int(apply_update.value) \u003E 0,\n}", "code_hash": "759bbf95afc5caa20bcab606ab90a708", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "dNNg", "name": "_"}, {"code": "jnp = np  # Fallback if JAX is not available.\nmzi_circuit = None\nmzi_circuit_with_gc = None\nsimphony_error = \"\"\n\nneeds_simphony = w02_params[\"view_mode\"] in [\"Simphony only\", \"Overlay (analytic + Simphony)\"]\nif needs_simphony:\n    try:  # pragma: no cover - depends on environment\n        from jax import config\n\n        config.update(\"jax_enable_x64\", True)\n\n        import jax.numpy as jnp_mod\n\n        jnp = jnp_mod\n        import sax\n        from simphony.libraries import siepic\n\n        try:  # pragma: no cover - depends on simphony / sax versions\n            # Y-branch MZI: 1x2 splitter (forward) + 2x1 combiner (reverse).\n            # This provides a single output port at the combiner.\n            if not hasattr(siepic, \"y_branch\"):\n                raise AttributeError(\"simphony.libraries.siepic missing y_branch model\")\n            if not hasattr(siepic, \"waveguide\"):\n                raise AttributeError(\"simphony.libraries.siepic missing waveguide model\")\n\n            mzi_circuit, _ = sax.circuit(\n                netlist={\n                    \"instances\": {\n                        \"splitter\": \"y_branch\",\n                        \"short_wg\": \"waveguide\",\n                        \"long_wg\": \"waveguide\",\n                        \"combiner\": \"y_branch\",\n                    },\n                    \"connections\": {\n                        # Splitter outputs to arms.\n                        \"splitter,port_2\": \"short_wg,o0\",\n                        \"splitter,port_3\": \"long_wg,o0\",\n                        # Arms into combiner (used in reverse as a 2x1 combiner).\n                        \"short_wg,o1\": \"combiner,port_2\",\n                        \"long_wg,o1\": \"combiner,port_3\",\n                    },\n                    \"ports\": {\n                        \"input\": \"splitter,port_1\",\n                        \"through\": \"combiner,port_1\",\n                    },\n                },\n                models={\n                    \"y_branch\": siepic.y_branch,\n                    \"waveguide\": siepic.waveguide,\n                },\n            )\n\n            if hasattr(siepic, \"grating_coupler\"):\n                mzi_circuit_with_gc, _ = sax.circuit(\n                    netlist={\n                        \"instances\": {\n                            \"gc_in\": \"grating_coupler\",\n                            \"splitter\": \"y_branch\",\n                            \"short_wg\": \"waveguide\",\n                            \"long_wg\": \"waveguide\",\n                            \"combiner\": \"y_branch\",\n                            \"gc_out\": \"grating_coupler\",\n                        },\n                        \"connections\": {\n                            \"gc_in,o1\": \"splitter,port_1\",\n                            \"combiner,port_1\": \"gc_out,o1\",\n                            # Splitter outputs to arms.\n                            \"splitter,port_2\": \"short_wg,o0\",\n                            \"splitter,port_3\": \"long_wg,o0\",\n                            # Arms into combiner (used in reverse as a 2x1 combiner).\n                            \"short_wg,o1\": \"combiner,port_2\",\n                            \"long_wg,o1\": \"combiner,port_3\",\n                        },\n                        \"ports\": {\n                            \"input\": \"gc_in,o0\",\n                            \"through\": \"gc_out,o0\",\n                        },\n                    },\n                    models={\n                        \"grating_coupler\": siepic.grating_coupler,\n                        \"y_branch\": siepic.y_branch,\n                        \"waveguide\": siepic.waveguide,\n                    },\n                )\n        except Exception as e:\n            mzi_circuit = None\n            mzi_circuit_with_gc = None\n            simphony_error = f\"Simphony/SAX circuit unavailable: {e}\"\n    except Exception as e:\n        mzi_circuit = None\n        mzi_circuit_with_gc = None\n        simphony_error = f\"Simphony/JAX imports unavailable: {e}\"", "code_hash": "4ee32d24ea17cf667b4a0a9eadf7ada4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "yCnT", "name": "_"}, {"code": "mo.stop(not show_interactive)\n_n_points = 400\n_wl_center_um = float(w02_params[\"wl0_um\"])\n_span_um = float(w02_params[\"spectrum_span_nm\"]) / 1e3\n_wl_min_um = _wl_center_um - _span_um / 2\n_wl_max_um = _wl_center_um + _span_um / 2\n\n_wl_um = np.linspace(_wl_min_um, _wl_max_um, _n_points)\n_wl_nm = _wl_um * 1e3\n\n_semilog = bool(w02_params[\"semilog\"])\n_log_floor = 1e-6\n\n_n_index = float(w02_params[\"n_eff0\"])\n_ng_for_analytic = float(w02_params[\"n_g\"])\n_analytic_n_eff_lambda, _analytic_dn_eff_dlambda = neff_linear_from_ng(\n    wl_um=_wl_um,\n    wl0_um=_wl_center_um,\n    n_eff0=_n_index,\n    ng=_ng_for_analytic,\n)\n_delta_phi = (\n    2\n    * np.pi\n    * _analytic_n_eff_lambda\n    * float(w02_params[\"delta_length_um_effective\"])\n    / _wl_um\n)\n_T = 0.5 * (1 + np.cos(_delta_phi))\n_analytic_value_plot = np.clip(_T, _log_floor, None) if _semilog else _T\n\n_analytic_df = pl.DataFrame(\n    {\n        \"wavelength_nm\": _wl_nm,\n        \"value\": _T,\n        \"value_plot\": _analytic_value_plot,\n        \"curve\": [\"Analytic through\"] * len(_wl_nm),\n    }\n)\n\nw02_spectrum = {\n    \"n_points\": _n_points,\n    \"wl_center_um\": _wl_center_um,\n    \"wl_min_um\": _wl_min_um,\n    \"wl_max_um\": _wl_max_um,\n    \"wl_um\": _wl_um,\n    \"wl_nm\": _wl_nm,\n    \"semilog\": _semilog,\n    \"log_floor\": _log_floor,\n}\nw02_analytic = {\n    \"n_eff0\": _n_index,\n    \"n_g\": _ng_for_analytic,\n    \"dn_eff_dlambda_um_inv\": float(_analytic_dn_eff_dlambda),\n    \"df\": _analytic_df,\n}", "code_hash": "4799c583f8dd221a086d606938c678d7", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "wlCL", "name": "_"}, {"code": "mo.stop(not show_interactive)\n_wl_um = w02_spectrum[\"wl_um\"]\n_wl_nm = w02_spectrum[\"wl_nm\"]\n_semilog = w02_spectrum[\"semilog\"]\n_log_floor = w02_spectrum[\"log_floor\"]\n\n_playground_error = \"\"\n_playground_df = None\n\nif bool(w02_params[\"playground_enabled\"]):\n    _preset = str(w02_params[\"playground_preset\"])\n    _preset_exprs = {\n        \"Ideal MZI (default)\": \"0.5*(1 + cos(2*pi*n_eff*delta_L/wl_um))\",\n        \"Reduced visibility (V=0.8)\": \"0.5*(1 + 0.8*cos(2*pi*n_eff*delta_L/wl_um))\",\n        \"Add loss floor (2%)\": \"0.02 + 0.98*0.5*(1 + cos(2*pi*n_eff*delta_L/wl_um))\",\n    }\n    _expr_str = (\n        _preset_exprs[_preset].strip()\n        if _preset in _preset_exprs\n        else str(w02_params[\"playground_expr\"] or \"\").strip()\n    )\n    if not _expr_str:\n        _playground_error = \"Enter an expression to plot.\"\n    else:\n        try:\n            _env = {\n                \"wl_um\": _wl_um,\n                \"wl_nm\": _wl_nm,\n                \"pi\": float(np.pi),\n                \"delta_L\": float(w02_params[\"delta_length_um_effective\"]),\n                \"n_eff\": float(w02_params[\"n_eff0\"]),\n                \"n_g\": float(w02_params[\"n_g\"]),\n            }\n            _y = safe_math_eval(_expr_str, _env)\n            _y_arr = np.asarray(_y, dtype=float)\n            if _y_arr.shape == ():\n                _y_arr = np.full_like(_wl_um, float(_y_arr))\n            else:\n                _y_arr = _y_arr.reshape(-1)\n            if len(_y_arr) != len(_wl_um):\n                raise ValueError(\n                    f\"Expression returned {len(_y_arr)} values; expected {len(_wl_um)} (or a scalar).\"\n                )\n\n            _y_plot = np.clip(_y_arr, _log_floor, None) if _semilog else _y_arr\n            _playground_df = pl.DataFrame(\n                {\n                    \"wavelength_nm\": _wl_nm,\n                    \"value\": _y_arr,\n                    \"value_plot\": _y_plot,\n                    \"curve\": [\"Student expression\"] * len(_wl_nm),\n                }\n            )\n        except Exception as e:\n            _playground_error = f\"{type(e).__name__}: {e}\"\n\nw02_playground = {\n    \"enabled\": bool(w02_params[\"playground_enabled\"]),\n    \"error\": _playground_error,\n    \"df\": _playground_df,\n}", "code_hash": "e253ce15023c2ef4657f6e522e94cc69", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "kqZH", "name": "_"}, {"code": "_simphony_selected = w02_params[\"view_mode\"] in [\n    \"Simphony only\",\n    \"Overlay (analytic + Simphony)\",\n]\n_use_gratings = w02_params[\"simphony_io\"] == \"Include grating couplers (in + out)\"\n\n_sim_circuit = None\nif _simphony_selected:\n    _sim_circuit = (\n        mzi_circuit_with_gc\n        if (_use_gratings and mzi_circuit_with_gc is not None)\n        else mzi_circuit\n    )\n\n_wl_min_um = float(w02_spectrum[\"wl_min_um\"])\n_wl_max_um = float(w02_spectrum[\"wl_max_um\"])\n_n_points = int(w02_spectrum[\"n_points\"])\n_semilog = bool(w02_spectrum[\"semilog\"])\n_log_floor = float(w02_spectrum[\"log_floor\"])\n\n_simphony_runtime_error = \"\"\n_simphony_plotted = False\n_sim_df = None\n\n_should_run = bool(w02_params[\"run_simphony\"]) and _simphony_selected\n\nif _should_run and _sim_circuit is not None:\n    try:\n        _wl_sim = jnp.linspace(_wl_min_um, _wl_max_um, _n_points)\n        _base_length_um = float(w02_params[\"base_length_um\"])\n        _delta_length_um_effective = float(w02_params[\"delta_length_um_effective\"])\n\n        wg_pol = \"te\"\n        wg_width_nm = 500.0\n        wg_height_nm = 220.0\n        wg_loss = 0.0\n        gc_pol = \"te\"\n        gc_thickness_nm = 220.0\n        gc_dwidth_nm = 0.0\n\n        sim_kwargs = {\n            \"wl\": _wl_sim,\n            \"short_wg\": {\n                \"length\": _base_length_um,\n                \"pol\": wg_pol,\n                \"width\": wg_width_nm,\n                \"height\": wg_height_nm,\n                \"loss\": wg_loss,\n            },\n            \"long_wg\": {\n                \"length\": (_base_length_um + _delta_length_um_effective),\n                \"pol\": wg_pol,\n                \"width\": wg_width_nm,\n                \"height\": wg_height_nm,\n                \"loss\": wg_loss,\n            },\n        }\n\n        if _use_gratings and mzi_circuit_with_gc is not None:\n            sim_kwargs[\"gc_in\"] = {\n                \"pol\": gc_pol,\n                \"thickness\": gc_thickness_nm,\n                \"dwidth\": gc_dwidth_nm,\n            }\n            sim_kwargs[\"gc_out\"] = {\n                \"pol\": gc_pol,\n                \"thickness\": gc_thickness_nm,\n                \"dwidth\": gc_dwidth_nm,\n            }\n\n        S = _sim_circuit(**sim_kwargs)\n        transmission_through = S[\"through\", \"input\"]\n        intensity_through = jnp.abs(transmission_through) ** 2\n\n        _wl_nm = np.array(_wl_sim) * 1e3\n        intensity_through_np = np.array(intensity_through)\n        sim_value_plot = (\n            np.clip(intensity_through_np, _log_floor, None)\n            if _semilog\n            else intensity_through_np\n        )\n\n        curve_label = (\n            \"Through (Simphony, with grating couplers)\"\n            if _use_gratings\n            else \"Through (Simphony)\"\n        )\n        _sim_df = pl.DataFrame(\n            {\n                \"wavelength_nm\": _wl_nm,\n                \"value\": intensity_through_np,\n                \"value_plot\": sim_value_plot,\n                \"curve\": [curve_label] * len(_wl_nm),\n            }\n        )\n        _simphony_plotted = True\n    except Exception as e:  # pragma: no cover\n        _simphony_runtime_error = f\"{type(e).__name__}: {e}\"\n\n_simphony_status = \"\"\nif _simphony_selected:\n    if not _should_run:\n        _simphony_status = \"Not computed (enable \u201cCompute Simphony curve\u201d)\"\n    elif _sim_circuit is None:\n        _simphony_status = f\"Unavailable: `{simphony_error}`\"\n    elif _simphony_runtime_error:\n        _simphony_status = f\"Runtime error: `{_simphony_runtime_error}`\"\n    elif _simphony_plotted:\n        _simphony_status = \"OK (Simphony curve computed)\"\n    else:\n        _simphony_status = \"No curve produced (unexpected)\"\n\nw02_simphony = {\n    \"selected\": _simphony_selected,\n    \"should_run\": _should_run,\n    \"use_gratings\": _use_gratings,\n    \"circuit_available\": _sim_circuit is not None,\n    \"plotted\": _simphony_plotted,\n    \"status\": _simphony_status,\n    \"runtime_error\": _simphony_runtime_error,\n    \"df\": _sim_df,\n    \"import_error\": simphony_error,\n}", "code_hash": "d3ea91abce80d350d449dea9bce8c499", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "wAgl", "name": "_"}, {"code": "from _notebook_template import badge_row, download_csv_button\n\nmo.stop(not show_interactive)\n\n_wl_center_um = float(w02_spectrum[\"wl_center_um\"])\n_wl_min_um = float(w02_spectrum[\"wl_min_um\"])\n_wl_max_um = float(w02_spectrum[\"wl_max_um\"])\n_semilog = bool(w02_spectrum[\"semilog\"])\n_log_floor = float(w02_spectrum[\"log_floor\"])\n\n_analytic_df = w02_analytic[\"df\"]\n\n_plot_rows: list[dict] = []\n_view_mode = str(w02_params[\"view_mode\"])\nif _view_mode in [\"Analytic only\", \"Overlay (analytic + Simphony)\"]:\n    _plot_rows.extend(_analytic_df.to_dicts())\n\nif w02_playground.get(\"df\") is not None:\n    _plot_rows.extend(w02_playground[\"df\"].to_dicts())\n\nif _view_mode in [\"Simphony only\", \"Overlay (analytic + Simphony)\"]:\n    if w02_simphony.get(\"df\") is not None:\n        _plot_rows.extend(w02_simphony[\"df\"].to_dicts())\n\n_base_length_um = float(w02_params[\"base_length_um\"])\n_delta_length_um = float(w02_params[\"delta_length_um_effective\"])\n_short_length_mm = _base_length_um / 1e3\n_long_length_mm = (_base_length_um + _delta_length_um) / 1e3\n\nfsr_nm = fsr_estimate_nm(\n    wl0_um=_wl_center_um, ng=float(w02_params[\"n_g\"]), delta_length_um=_delta_length_um\n)\nphase_slope_est_rad_per_nm = phase_slope_rad_per_nm(\n    wl0_um=_wl_center_um, ng=float(w02_params[\"n_g\"]), delta_length_um=_delta_length_um\n)\n\nfringes_est = None\nif fsr_nm is not None and fsr_nm \u003E 0:\n    fringes_est = float(w02_params[\"spectrum_span_nm\"]) / fsr_nm\n\ndownload_button = mo.md(\"\")\ntry:\n    download_button = download_csv_button(\n        mo,\n        _plot_rows,\n        filename=\"mzi_spectrum.csv\",\n        label=\"Download CSV\",\n        preferred_fields=[\"wavelength_nm\", \"value\", \"value_plot\", \"curve\"],\n    )\nexcept Exception:  # pragma: no cover\n    download_button = mo.md(\"\")\n\n_sim_requested = _view_mode in [\"Simphony only\", \"Overlay (analytic + Simphony)\"]\n\nstatus_badges_list = [\n    f\"\u0394L = \u003Cstrong\u003E{_delta_length_um:.1f} \u00b5m\u003C/strong\u003E\",\n    (\n        f\"FSR \u2248 \u003Cstrong\u003E{fsr_nm:.2f} nm\u003C/strong\u003E\"\n        if fsr_nm is not None\n        else \"FSR: \u003Cstrong\u003E(\u0394L = 0)\u003C/strong\u003E\"\n    ),\n]\nif phase_slope_est_rad_per_nm is not None:\n    status_badges_list.append(\n        f\"|d\u0394\u03c6/d\u03bb|@\u03bb0 \u2248 \u003Cstrong\u003E{phase_slope_est_rad_per_nm:.2f} rad/nm\u003C/strong\u003E\"\n    )\nstatus_badges_list.append(\n    f\"span = \u003Cstrong\u003E{float(w02_params['spectrum_span_nm']):.0f} nm\u003C/strong\u003E\"\n)\nif fringes_est is not None:\n    status_badges_list.append(\n        f\"~ fringes in view \u2248 \u003Cstrong\u003E{fringes_est:.1f}\u003C/strong\u003E\"\n    )\nstatus_badges_list.extend(\n    [\n        f\"View: \u003Cstrong\u003E{_view_mode}\u003C/strong\u003E\",\n        f\"Update: \u003Cstrong\u003E{'Live' if w02_params['live_update'] else 'Apply'}\u003C/strong\u003E\",\n        (\n            f\"Simphony: \u003Cstrong\u003E{w02_simphony.get('status','')}\u003C/strong\u003E\"\n            if _sim_requested\n            else \"Simphony: \u003Cstrong\u003E(not requested)\u003C/strong\u003E\"\n        ),\n    ]\n)\nstatus_badges = badge_row(\n    mo, status_badges_list, style=\"margin: 0.35rem 0 0.25rem 0;\"\n)\n\nif _view_mode == \"Simphony only\" and not w02_simphony.get(\"plotted\", False):\n    _reason_lines: list[str] = []\n    if not w02_simphony.get(\"should_run\", False):\n        _reason_lines.append(\"Status: **Not computed** (Compute Simphony curve is off).\")\n        _reason_lines.append(\"Fix: enable **Compute Simphony curve** under Controls.\")\n    elif not w02_simphony.get(\"circuit_available\", False):\n        _reason_lines.append(\"Status: **Unavailable** (Simphony/SAX circuit not available here).\")\n        _reason_lines.append(f\"Details: `{w02_simphony.get('import_error','')}`\")\n    elif w02_simphony.get(\"runtime_error\"):\n        _reason_lines.append(\"Status: **Runtime error** during circuit evaluation.\")\n        _reason_lines.append(f\"Details: `{w02_simphony.get('runtime_error','')}`\")\n    else:\n        _reason_lines.append(\"Status: **No curve produced** (unexpected).\")\n        _reason_lines.append(\"Fix: try toggling **Compute Simphony curve** off/on and re-run.\")\n\n    chart_out = mo.md(\n        \"**Simphony-only view:** no Simphony curve to display.\\n\\n\"\n        + \"\\n\".join(f\"- {line}\" for line in _reason_lines)\n        + \"\\n\\nTip: switch to **Overlay** to compare with the analytic curve.\"\n    )\nelse:\n    if not _plot_rows:\n        _plot_rows.extend(_analytic_df.to_dicts())\n\n    y_scale_obj = (\n        alt.Scale(type=\"log\", domain=[_log_floor, 1])\n        if _semilog\n        else alt.Scale(domain=[0, 1])\n    )\n    y_field = \"value_plot\" if _semilog else \"value\"\n    chart = (\n        alt.Chart(alt.Data(values=_plot_rows))\n        .mark_line(point=True)\n        .encode(\n            x=alt.X(\"wavelength_nm\", type=\"quantitative\", title=\"Wavelength (nm)\"),\n            y=alt.Y(\n                y_field,\n                type=\"quantitative\",\n                title=\"Through power (log scale)\" if _semilog else \"Through power\",\n                scale=y_scale_obj,\n            ),\n            color=alt.Color(\"curve\", type=\"nominal\", title=\"Curve\"),\n            tooltip=[\n                alt.Tooltip(\"wavelength_nm\", type=\"quantitative\", title=\"Wavelength (nm)\"),\n                alt.Tooltip(\"value\", type=\"quantitative\", title=\"Through power\"),\n                alt.Tooltip(\"curve\", type=\"nominal\", title=\"Curve\"),\n            ],\n        )\n    ).properties(title=\"MZI transfer function\", width=500, height=250).interactive()\n\n    try:\n        chart_out = mo.ui.altair_chart(chart) if hasattr(mo.ui, \"altair_chart\") else chart\n    except Exception as e:  # pragma: no cover\n        chart_out = mo.md(f\"**Plot render error:** `{type(e).__name__}: {e}`\")\n\nsimphony_help = mo.md(\"\")\n\nif w02_params.get(\"preset_active\") and abs(\n    float(w02_params[\"delta_length_um_slider\"]) - float(w02_params[\"delta_length_um_effective\"])\n) \u003E 1e-9:\n    preset_note = mo.md(\n        f\"**\u0394L preset active:** using **\u0394L = {float(w02_params['delta_length_um_effective']):.1f} \u00b5m** \"\n        f\"(slider shows {float(w02_params['delta_length_um_slider']):.1f} \u00b5m).\"\n    )\nelse:\n    preset_note = mo.md(\"\")\n\nplayground_error = (\n    mo.md(f\"**Playground error:** `{w02_playground['error']}`\")\n    if w02_playground.get(\"error\")\n    else mo.md(\"\")\n)\n\nmo.vstack(\n    [\n        chart_out,\n        status_badges,\n        download_button,\n        preset_note,\n        playground_error,\n        controls_ui,\n        mo.md(\"**Next:** scroll down for the **FSR measurement tool**.\"),\n    ]\n)", "code_hash": "6b36ddc099e76cf8488aef5c920b9a1a", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "rEll", "name": "_"}, {"code": "mo.stop(not show_interactive)\nfrom _notebook_template import make_fsr_tool_widgets\n\nauto_source, lam1_nm, lam2_nm, lam1_state, lam2_state, set_lam1, set_lam2 = (\n    make_fsr_tool_widgets(mo)\n)", "code_hash": "d5b74a4cdde836bb9e9c1c90b16eea27", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "dGlV", "name": "_"}, {"code": "mo.stop(not show_interactive)\nwl0_um = float(w02_params[\"wl0_um\"])\nng_for_fsr_tool = float(w02_params[\"n_g\"])\ndL_um = float(w02_params[\"delta_length_um_effective\"])\ndL_slider_um = float(w02_params[\"delta_length_um_slider\"])\n_preset_active = bool(w02_params[\"preset_active\"])\n\nfsr_est_nm = fsr_estimate_nm(wl0_um=wl0_um, ng=ng_for_fsr_tool, delta_length_um=dL_um)\n\nmeasured = None\nerror_pct = None\ndelta_phi_est_rad = None\ndelta_phi_est_cycles = None\nparse_error = \"\"\ntry:\n    if lam1_state().strip() and lam2_state().strip():\n        l1 = float(lam1_state())\n        l2 = float(lam2_state())\n        measured = abs(l2 - l1)\n        if dL_um \u003E 0:\n            fsr_tool_phase_slope = phase_slope_rad_per_nm(\n                wl0_um=wl0_um, ng=ng_for_fsr_tool, delta_length_um=dL_um\n            )\n            if fsr_tool_phase_slope is not None:\n                fsr_tool_two_pi = 6.283185307179586\n                delta_phi_est_rad = float(fsr_tool_phase_slope * measured)\n                delta_phi_est_cycles = float(delta_phi_est_rad / fsr_tool_two_pi)\n        if fsr_est_nm is not None and fsr_est_nm \u003E 0:\n            error_pct = 100.0 * (measured - fsr_est_nm) / fsr_est_nm\nexcept Exception as e:\n    parse_error = f\"{type(e).__name__}: {e}\"\n\ndef _curve_df(source: str):\n    if source == \"Analytic\":\n        return w02_analytic.get(\"df\"), \"\"\n    if source == \"Simphony\":\n        if not bool(w02_simphony.get(\"plotted\", False)) or w02_simphony.get(\"df\") is None:\n            return None, \"Simphony curve not available (compute it first, or switch view).\"\n        return w02_simphony[\"df\"], \"\"\n    if source == \"Student expression\":\n        if not bool(w02_playground.get(\"enabled\", False)) or w02_playground.get(\"df\") is None:\n            return None, \"Student expression curve not available (enable the playground).\"\n        return w02_playground[\"df\"], \"\"\n    return None, \"Unknown source.\"\n\nauto_choice = str(auto_source.value)\nif auto_choice == \"Best available\":\n    if bool(w02_simphony.get(\"plotted\", False)) and w02_simphony.get(\"df\") is not None:\n        auto_choice = \"Simphony\"\n    elif bool(w02_playground.get(\"enabled\", False)) and w02_playground.get(\"df\") is not None:\n        auto_choice = \"Student expression\"\n    else:\n        auto_choice = \"Analytic\"\n\nauto_df, auto_df_error = _curve_df(auto_choice)\nauto_result = None\nif auto_df is not None:\n    try:\n        wl_nm = auto_df.get_column(\"wavelength_nm\").to_numpy()\n        y = auto_df.get_column(\"value\").to_numpy()\n        auto_result = auto_fsr_from_curve(wl_nm=wl_nm, y=y, wl0_nm=float(wl0_um * 1e3))\n    except Exception as e:  # pragma: no cover\n        auto_df_error = f\"{type(e).__name__}: {e}\"\n\nfsr_tool_blocks = [\n    doc_callout_html(\n        \"exercise\",\n        tag=\"Tool\",\n        title=\"Measure the FSR from the plot\",\n        html=r\"\"\"\n        \u003Cp\u003E\n          Hover a curve to read wavelengths from the tooltip. Enter two \u003Cem\u003Eadjacent maxima\u003C/em\u003E wavelengths\n          (in nm) below; the tool computes the measured FSR and compares it to the rule-of-thumb estimate\n          shown below.\n        \u003C/p\u003E\n        \"\"\",\n    ),\n    mo.md(r\"Rule-of-thumb: $\\mathrm{FSR} \\approx \\lambda_0^2/(n_g\\,\\Delta L)$.\"),\n    mo.md(\n        \"Derivation link: an FSR is the \u0394\u03bb that makes the relative phase change by **2\u03c0** near \u03bb0.\"\n    ),\n    mo.md(\n        f\"Using: **\u0394L = {dL_um:.2f} \u00b5m** (effective), **\u03bb0 = {wl0_um*1e3:.1f} nm**, **ng = {ng_for_fsr_tool:.2f}**.\"\n    ),\n    mo.hstack([auto_source]),\n]\nif _preset_active and abs(dL_slider_um - dL_um) \u003E 1e-9:\n    fsr_tool_blocks.append(\n        mo.md(\n            f\"**Note:** a \u0394L preset is active, so the \u0394L slider is ignored \"\n            f\"(slider shows {dL_slider_um:.2f} \u00b5m). Set *Parameter preset* to **Custom** to use the slider.\"\n        )\n    )\n\nif auto_df_error:\n    fsr_tool_blocks.append(mo.md(f\"**Auto-measure ({auto_choice}):** {auto_df_error}\"))\nelif isinstance(auto_result, dict) and bool(auto_result.get(\"ok\", False)):\n    _a1 = float(auto_result[\"lam1_nm\"])\n    _a2 = float(auto_result[\"lam2_nm\"])\n    _afsr = float(auto_result[\"fsr_nm\"])\n    use_auto = mo.ui.button(\n        value=0,\n        kind=\"neutral\",\n        label=f\"Use auto peaks (\u03bb1={_a1:.2f} nm, \u03bb2={_a2:.2f} nm)\",\n        on_click=lambda v: (\n            set_lam1(f\"{_a1:.2f}\"),\n            set_lam2(f\"{_a2:.2f}\"),\n            (v or 0) + 1,\n        )[-1],\n    )\n    fsr_tool_blocks.append(\n        mo.md(\n            f\"**Auto-measured FSR ({auto_choice}, {int(auto_result.get('n_peaks',0))} peaks found):** \"\n            f\"**{_afsr:.2f} nm**\"\n        )\n    )\n    fsr_tool_blocks.append(use_auto)\nelif isinstance(auto_result, dict):\n    fsr_tool_blocks.append(\n        mo.md(f\"**Auto-measure ({auto_choice}):** {auto_result.get('message','Could not measure.')}\")\n    )\n\nfsr_tool_blocks.append(mo.hstack([lam1_nm, lam2_nm]))\n\nif parse_error:\n    fsr_tool_blocks.append(mo.md(f\"**Parse error:** `{parse_error}`\"))\nelif fsr_est_nm is None:\n    fsr_tool_blocks.append(mo.md(\"Estimated FSR: **(\u0394L = 0 \u2192 no fringes)**\"))\nelse:\n    fsr_tool_blocks.append(\n        mo.md(f\"Estimated ideal FSR (using ng): **{fsr_est_nm:.2f} nm**\")\n    )\n    if measured is not None:\n        fsr_tool_blocks.append(mo.md(f\"Measured FSR: **{measured:.2f} nm**\"))\n        if delta_phi_est_rad is not None and delta_phi_est_cycles is not None:\n            fsr_tool_blocks.append(\n                mo.md(\n                    f\"Phase change estimate near \u03bb0: **\u0394\u03c6 \u2248 {delta_phi_est_rad:.2f} rad** \"\n                    f\"(\u2248 **{delta_phi_est_cycles:.2f}\u00d72\u03c0**)\"\n                )\n            )\n        if error_pct is not None:\n            fsr_tool_blocks.append(\n                mo.md(f\"Percent difference vs estimate: **{error_pct:+.1f}%**\")\n            )\n            if abs(error_pct) \u003E 25:\n                fsr_tool_blocks.append(\n                    mo.md(\n                        \"**Tip:** if you changed \u0394L or the view mode, re-pick \u03bb1 and \u03bb2 from the *current* plot \"\n                        \"(old values often produce a mismatch).\"\n                    )\n                )\n    else:\n        fsr_tool_blocks.append(\n            mo.md(\"Enter `\u03bb1` and `\u03bb2` to compute the measured FSR.\")\n        )\nfsr_tool_view = mo.vstack([mo.md(\"### FSR measurement tool\")] + fsr_tool_blocks)\nfsr_tool_view", "code_hash": "4e1e2b21b1546a20db1d601bee473562", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SdmI", "name": "_"}, {"code": "mo.stop(not show_interactive)\ntask_fsr = mo.ui.checkbox(label=\"Measured FSR for two \u0394L values\", value=False)\ntask_compare = mo.ui.checkbox(label=\"Compared Analytic vs Simphony (Overlay)\", value=False)\ntask_export = mo.ui.checkbox(label=\"Downloaded CSV (and/or exported GDS)\", value=False)", "code_hash": "9f3af3f7ee605e2bc815c3cbc0a743ae", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "lgWD", "name": "_"}, {"code": "mo.stop(not show_interactive)\ndoc_callout_list(\n    \"info\",\n    tag=\"Key ideas\",\n    title=\"What you should learn from the plot\",\n    items=[\n        \"\u003Cstrong\u003EInterference:\u003C/strong\u003E the output power oscillates because the two arms recombine with a phase difference \u0394\u03c6.\",\n        \"\u003Cstrong\u003E\u0394L sets the fringe spacing:\u003C/strong\u003E increasing \u0394L makes fringes get closer together (smaller FSR).\",\n        \"\u003Cstrong\u003En\u003Csub\u003Eeff\u003C/sub\u003E vs n\u003Csub\u003Eg\u003C/sub\u003E:\u003C/strong\u003E phase uses an effective index, but FSR depends on group index (dispersion matters).\",\n        \"\u003Cstrong\u003EWhy two curves:\u003C/strong\u003E analytic is an idealized model; Simphony/SAX assembles wavelength-dependent compact models.\",\n    ],\n)\nmo.md(\"### Checklist (before moving on)\")\nmo.vstack([task_fsr, task_compare, task_export])\n\ndoc_callout_html(\n    \"exercise\",\n    tag=\"Checkpoint\",\n    title=\"Record your results\",\n    html=\"\"\"\n    \u003Cp\u003EFill in the table below (copy into your lab notes). Use the tool above to measure FSR from two adjacent maxima.\u003C/p\u003E\n    \"\"\",\n)\n\nmo.md(\n    r\"\"\"\n    | Case | \u0394L (\u00b5m) | ng | \u03bb0 (nm) | Estimated FSR (nm) | Measured FSR (nm) | % difference |\n    |---|---:|---:|---:|---:|---:|---:|\n    | A (default) | 10 | 4.19 | 1550 |  |  |  |\n    | B (your choice) |  |  |  |  |  |  |\n\n    \u003Csmall\u003ETip: if a \u0394L preset is active, the notebook uses the **effective \u0394L** shown in the tool readout (not the slider value).\u003C/small\u003E\n    \"\"\"\n)\n\ndoc_callout_list(\n    \"warning\",\n    tag=\"Common mistakes\",\n    title=\"Debugging \u201cmy FSR doesn\u2019t match\u201d\",\n    items=[\n        \"\u003Cstrong\u003EPreset override:\u003C/strong\u003E if a \u0394L preset is active, moving the \u0394L slider won\u2019t change the plot\u2014set \u003Cem\u003EParameter preset \u2192 Custom\u003C/em\u003E.\",\n        \"\u003Cstrong\u003EStale \u03bb1/\u03bb2:\u003C/strong\u003E if you change \u0394L, \u03bb0, ng, or View mode, re-pick new adjacent maxima; old values won\u2019t match.\",\n        \"\u003Cstrong\u003Eng vs neff:\u003C/strong\u003E \u003Ccode\u003En_g\u003C/code\u003E sets fringe spacing (FSR); \u003Ccode\u003En_eff(\u03bb0)\u003C/code\u003E sets phase offset. Don\u2019t expect them to do the same thing.\",\n        \"\u003Cstrong\u003ESimphony availability:\u003C/strong\u003E if Simphony is unavailable or errors, Overlay won\u2019t show a second curve\u2014check the \u003Cem\u003ESimphony:\u003C/em\u003E status in the Model panel.\",\n    ],\n)", "code_hash": "f26bd616e02a3b9180054f6a179ebf27", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "yOPj", "name": "_"}, {"code": "mo.stop(not show_interactive)\nmo.md(r\"\"\"\n### Guided exploration\n\nTry adjusting the sliders above and observe how the spectrum changes:\n\n- **Increase \u0394L**: what happens to the fringe spacing (FSR)?\n- **Change base arm length**: does this change the fringe spacing in a lossless model?\n\nYou can think ahead to fabrication: base arm length affects footprint (and later, loss).\n\"\"\")", "code_hash": "355669dd5e05f609629e9db4018174fd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "fwwy", "name": "_"}, {"code": "mo.stop(not show_layout_section)\nmo.md(\n    r\"\"\"\n    ### Connecting model and layout\n\n    In the analytic model, the key parameter is the **path length difference** \u0394L between the two arms.\n    In layout, \u0394L corresponds to the extra physical length you route into one arm of the interferometer.\n    \"\"\"\n)\n_delta_length_um_effective = float(w02_params[\"delta_length_um_effective\"])\nif bool(w02_params[\"preset_active\"]):\n    _deltaL_note = mo.md(\n        f\"Analytic model currently uses \u0394L = **{_delta_length_um_effective:.1f} \u00b5m** \"\n        f\"(preset overrides slider: {float(w02_params['delta_length_um_slider']):.1f} \u00b5m).\"\n    )\nelse:\n    _deltaL_note = mo.md(\n        f\"Analytic model currently uses \u0394L = **{_delta_length_um_effective:.1f} \u00b5m**.\"\n    )\n\n_deltaL_note", "code_hash": "9b0247687420c67d458449ec6ce17f00", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "LJZf", "name": "_"}, {"code": "mo.stop(not show_layout_section)\nmo.md(r\"\"\"\n\u003Ca id=\"layout\"\u003E\u003C/a\u003E\n## From model to layout: gdsfactory\n\nThe interactive plot above can show **two different curves** (choose *View \u2192 Overlay*):\n\n- **Analytic curve:** our \u201cby-hand\u201d ideal model, derived from interference and a simple phase term.\n- **Simphony curve:** a **circuit simulation** assembled from **component models** (compact models) using SAX.\n\nIn the Simphony view, the MZI isn\u2019t \u201cdrawn\u201d \u2014 it\u2019s built from *building blocks* (splitter, waveguides, combiner),\nwhere each block has a wavelength-dependent response (often represented as an **S-matrix**). SAX connects these\nblocks according to a netlist and computes the overall response.\n\n**So where does gdsfactory fit?**\n\ngdsfactory is our layout engine: it builds **geometry** (Components with ports and waveguides) and exports **GDS**.\nIn this notebook, gdsfactory appears here as a transition: you\u2019ve modelled an MZI\u2019s behavior, and next you\u2019ll\nlearn how to *realize* an MZI in layout with the right ports, routing, and parameter control.\n\nThis section builds a simple example MZI layout using `gf.components.mzi(...)` and shows an SVG preview inside marimo when possible. You can also export a GDS file for inspection in KLayout.\n\"\"\")", "code_hash": "20abd318b2aad131e7b927a08be9898b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "urSm", "name": "_"}, {"code": "mo.stop(not show_layout_section)\nshow_layout = mo.ui.checkbox(label=\"Show layout preview\", value=True)\ngds_out = mo.ui.text(\n    value=\"marimo_course/build/week2_mzi_example.gds\",\n    label=\"GDS output path\",\n)\nexport_gds = mo.ui.button(\n    value=0,\n    on_click=lambda v: (v or 0) + 1,\n    kind=\"success\",\n    label=\"Write GDS\",\n)", "code_hash": "a18af6ed6636909e059c082c0a70562b", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "jxvo", "name": "_"}, {"code": "mo.stop(not show_layout_section)\nlayout_blocks = []\n\nc = None\nbuild_error = \"\"\nif gf is None:\n    layout_blocks.append(mo.md(\"`gdsfactory` is not available in this environment.\"))\n    if gf_import_error:\n        layout_blocks.append(mo.md(f\"Details: `{gf_import_error}`\"))\nelse:\n    try:\n        c = gf.components.mzi(delta_length=float(delta_length_um_effective))\n    except Exception as e:  # pragma: no cover\n        build_error = f\"{type(e).__name__}: {e}\"\n\n    if c is None:\n        layout_blocks.append(mo.md(f\"(Could not build `gf.components.mzi`: `{build_error}`)\"))\n    else:\n        if show_layout.value:\n            svg = None\n            try:\n                if hasattr(gf, \"export\") and hasattr(gf.export, \"to_svg\"):\n                    svg = gf.export.to_svg(c)\n            except Exception:  # pragma: no cover\n                svg = None\n\n            if isinstance(svg, str) and \"\u003Csvg\" in svg:\n                svg_b64 = b64.b64encode(svg.encode(\"utf-8\")).decode(\"ascii\")\n                layout_blocks.extend(\n                    [\n                        mo.md(\"### Layout preview\"),\n                        mo.md(\n                            \"\u003Cdiv style='max-width:100%; overflow:auto;'\u003E\"\n                            f\"\u003Cimg src='data:image/svg+xml;base64,{svg_b64}' style='max-width:100%; height:auto;'/\u003E\"\n                            \"\u003C/div\u003E\"\n                        ),\n                    ]\n                )\n            else:\n                layout_blocks.append(\n                    mo.md(\n                        \"(Preview unavailable in this environment; SVG export was not available.)\"\n                    )\n                )\n\n        if export_gds.value and export_gds.value \u003E 0:\n            out_path = Path(gds_out.value).expanduser()\n            out_path.parent.mkdir(parents=True, exist_ok=True)\n            try:\n                written = c.write_gds(gdspath=out_path)\n                layout_blocks.append(mo.md(f\"Wrote: `{written}`\"))\n            except Exception as e:  # pragma: no cover\n                layout_blocks.append(\n                    mo.md(f\"(GDS write failed: `{type(e).__name__}: {e}`)\")\n                )\n        else:\n            layout_blocks.append(\n                mo.md(\"Click **Write GDS** to export the example layout.\")\n            )\n\nif not layout_blocks:\n    layout_blocks.append(mo.md(\"\"))\nmo.vstack(layout_blocks)", "code_hash": "c072ef1177198b6811d1b12c27105c8d", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "mWxS", "name": "_"}, {"code": "mo.stop(not show_overview)\nmo.md(r\"\"\"\n## What\u2019s next\n\nIn `marimo_course/lessons/w02_pdk_mzi_layout.py`, you\u2019ll shift from modelling to implementation:\n\n- Build an MZI layout from PDK building blocks with correct ports and routing.\n- Control \u0394L in geometry and verify it matches the modelling intuition from this notebook.\n- Export GDS and inspect it (KLayout), preparing for more realistic PDK-accurate circuits.\n\nIn upcoming modelling lessons, we\u2019ll add realism step-by-step:\n\n- **Dispersion:** use a wavelength-dependent `n_eff(\u03bb)` so `n_g` emerges naturally (and FSR becomes a local approximation).\n- **Loss + visibility:** include propagation loss (and later, imbalance) so fringes aren\u2019t perfectly 0\u20131.\n- **Non-ideal couplers:** explore splitter imbalance and phase conventions, and how they affect \u201cthrough vs cross\u201d.\n- **Tuning/modulation:** connect phase tuning (thermal/electrical) to a shift in the interference pattern.\n\"\"\")", "code_hash": "0ddd51ec2256c05a71ef21c1307fa8be", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "CcZR", "name": "_"}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "session": {"cells": [{"code_hash": "6cb978e63f2955e2bd66085ab06248fe", "console": [], "id": "Hbol", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cstyle\u003E\n  :root {\n    --doc-max: 920px;\n    --doc-muted: color-mix(in srgb, currentColor 65%, transparent);\n    --doc-border: color-mix(in srgb, currentColor 18%, transparent);\n    --doc-accent: #2563eb;\n    --doc-bg: color-mix(in srgb, currentColor 3%, transparent);\n  }\n\n  /* \"Docs-like\" typography + width */\n  .markdown.prose,\n  .markdown.prose \u003E :is(h1,h2,h3,h4,h5,h6,p,ul,ol,pre,blockquote,table,hr,div) {\n    max-width: var(--doc-max);\n  }\n  .markdown.prose { padding-right: 1rem; }\n  .markdown.prose :is(h1,h2,h3) { letter-spacing: -0.01em; }\n  .markdown.prose a { color: var(--doc-accent); text-decoration: none; }\n  .markdown.prose a:hover { text-decoration: underline; }\n  .markdown.prose code {\n    background: var(--doc-bg);\n    padding: 0.12rem 0.28rem;\n    border-radius: 0.3rem;\n  }\n  .markdown.prose pre code { background: transparent; padding: 0; }\n  .markdown.prose pre {\n    border: 1px solid var(--doc-border);\n    border-radius: 0.7rem;\n    padding: 0.9rem 1rem;\n    overflow: auto;\n  }\n\n  .doc-hero {\n    max-width: var(--doc-max);\n    border: 1px solid var(--doc-border);\n    border-radius: 1rem;\n    padding: 1.2rem 1.2rem 0.9rem 1.2rem;\n    background: linear-gradient(\n      180deg,\n      color-mix(in srgb, var(--doc-accent) 10%, transparent),\n      transparent\n    );\n  }\n  .doc-hero h1 { margin: 0.2rem 0 0.4rem 0; }\n  .doc-hero p { margin: 0.2rem 0 0.8rem 0; color: var(--doc-muted); }\n  .doc-badges { display: flex; gap: 0.5rem; flex-wrap: wrap; margin: 0.2rem 0; }\n  .doc-badge {\n    border: 1px solid var(--doc-border);\n    border-radius: 999px;\n    padding: 0.15rem 0.55rem;\n    font-size: 0.85rem;\n    background: color-mix(in srgb, currentColor 2%, transparent);\n  }\n  .doc-toc {\n    max-width: var(--doc-max);\n    border: 1px solid var(--doc-border);\n    border-radius: 0.9rem;\n    padding: 0.8rem 1rem;\n    background: color-mix(in srgb, currentColor 1%, transparent);\n  }\n  .doc-toc ul { margin: 0.4rem 0 0 1.2rem; }\n\n  /* Standard callouts */\n  .callout {\n    max-width: var(--doc-max);\n    border: 1px solid var(--doc-border);\n    border-radius: 0.9rem;\n    padding: 0.85rem 1rem;\n    margin: 0.9rem 0;\n    background: color-mix(in srgb, currentColor 1%, transparent);\n  }\n  .callout-title {\n    display: flex;\n    align-items: center;\n    gap: 0.55rem;\n    font-weight: 700;\n    margin-bottom: 0.35rem;\n  }\n  .callout-title .tag {\n    font-size: 0.8rem;\n    border: 1px solid var(--doc-border);\n    border-radius: 999px;\n    padding: 0.1rem 0.5rem;\n    color: var(--doc-muted);\n    font-weight: 600;\n  }\n  .callout.info { border-left: 5px solid #2563eb; }\n  .callout.warning { border-left: 5px solid #b45309; }\n  .callout.exercise { border-left: 5px solid #059669; }\n\n  /* Slightly more compact widgets (sliders/buttons/inputs) */\n  label, input, select, textarea, button {\n    font-size: 0.92rem;\n  }\n\n  @media (max-width: 980px) {\n    .markdown.prose { padding-right: 1rem; }\n  }\n\u003C/style\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "05080628ac7431f1b8289de5a4735a5a", "console": [], "id": "MJUe", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "fecf90c824ffefd0557673d5a635ebca", "console": [], "id": "vblA", "outputs": [{"data": {"text/html": "\u003Cmarimo-ui-element object-id='vblA-5' random-id='0a0dab7e-c80e-5c89-9c7f-b64359794db9'\u003E\u003Cmarimo-tabs data-initial-value='\u0026quot;0\u0026quot;' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Notebook sections\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-tabs='[\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;All\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Overview\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Theory\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Interactive\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Layout\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;]'\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='vblA-0' random-id='2bb71716-48a5-43ec-1634-9f22274309da'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='vblA-1' random-id='f0987ac7-c585-398f-f1e0-bcafafa45048'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='vblA-2' random-id='8f07305a-9580-da61-a791-bf02fe09b575'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='vblA-3' random-id='4d4747f9-9cce-e0de-8690-71c2808e2732'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='vblA-4' random-id='5dde7791-b0e7-4891-94a9-a449a78dd18e'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003C/marimo-tabs\u003E\u003C/marimo-ui-element\u003E"}, "type": "data"}]}, {"code_hash": "ec41606cbe222fd3e192d8e458458300", "console": [], "id": "bkHC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "aaba88bc2d3839377c287e036cc4b2d7", "console": [], "id": "lEQa", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cdiv class=\"doc-badges\"\u003E\u003Cspan class=\"doc-badge\"\u003ENotebook view: \u003Cstrong\u003EAll\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003EFlags: overview=True, theory=True, interactive=True, layout=True\u003C/span\u003E\u003C/div\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "7eb9f6f18f00378b7cdb5428268a1180", "console": [], "id": "PKri", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cdiv class=\"doc-hero\"\u003E\n      \u003Cdiv class=\"doc-badges\"\u003E\n        \u003Cspan class=\"doc-badge\"\u003EWeek 2\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003ELab companion\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003EInterference\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003ETransfer functions\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003E1550 nm (default)\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003ESimphony (optional)\u003C/span\u003E\n\u003Cspan class=\"doc-badge\"\u003ELayout bridge\u003C/span\u003E\n      \u003C/div\u003E\n      \u003Ch1\u003EMZI modelling\u003C/h1\u003E\n      \u003Cspan class=\"paragraph\"\u003EBuild intuition for a Mach\u2013Zehnder interferometer (MZI), derive its transfer function, and connect one key layout parameter (\u0394L) to a measurable signature (FSR). We\u2019ll also preview how this maps to layout, but layout work happens in the next lesson.\u003C/span\u003E\n      \u003Cspan class=\"paragraph\"\u003E\u003Csmall\u003E\u003Cem\u003ENotebook build: 2025-12-14\u003C/em\u003E\u003C/small\u003E\u003C/span\u003E\n    \u003C/div\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cdiv class=\"doc-toc\"\u003E\n      \u003Cstrong\u003EOn this page\u003C/strong\u003E\n      \u003Cul\u003E\n        \u003Cli\u003E\u003Ca href=\"#overview\"\u003EOverview\u003C/a\u003E\u003C/li\u003E\u003C/span\u003E\n\u003Cli\u003E\u003Ca href=\"#glossary\"\u003EGlossary\u003C/a\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Ca href=\"#theory\"\u003ETheory\u003C/a\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Ca href=\"#interactive\"\u003EInteractive\u003C/a\u003E\u003C/li\u003E\n\u003Cli\u003E\u003Ca href=\"#layout\"\u003ELayout\u003C/a\u003E\u003C/li\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003C/ul\u003E\n    \u003C/div\u003E\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "2a7e04e38b0c0d174f347633e1a3149a", "console": [], "id": "Xref", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "29d23a9880d766aba7128fdd65beb945", "console": [], "id": "SFPL", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Maintenance:\u0026lt;/strong\u0026gt; Safe editing + fast recovery\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026lt;li\u0026gt;After edits, click \u0026lt;strong\u0026gt;Re-run self-check\u0026lt;/strong\u0026gt; (below). If it warns about \u0026lt;code\u0026gt;app._unparsable_cell(...)\u0026lt;/code\u0026gt;, the file is corrupted.\u0026lt;/li\u0026gt;\u0026lt;li\u0026gt;If the notebook breaks (missing sections, \u201creturn outside function\u201d), recover with:\u0026lt;/li\u0026gt;\u0026lt;/ul\u0026gt;\u0026#92;n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;git -C Photonics-Bootcamp restore marimo_course/lessons/w02_mzi_modelling.py\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Then restart marimo.\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;If you want an external check, run:\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;pre\u0026gt;\u0026lt;code\u0026gt;python3 marimo_course/lessons/check_notebook_health.py marimo_course/lessons/w02_mzi_modelling.py\u0026lt;/code\u0026gt;\u0026lt;/pre\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E\u003Cmarimo-ui-element object-id='Xref-0' random-id='fe8c7cd9-9819-f3b9-1ae2-a93b11766c28'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Re-run self-check\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "e244582004c5d73cadfdf7193f7f4ff4", "console": [], "id": "BYtC", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Expected outputs:\u0026lt;/strong\u0026gt; What \u201cworking\u201d looks like (in lab)\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;- An interactive transmission plot that changes when you move \u0026lt;strong\u0026gt;\u0394L\u0026lt;/strong\u0026gt;.\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;FSR decreases when \u0394L increases (approximately inverse proportional).\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Optional overlay with a Simphony/SAX curve if the compact-model libraries are available.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;A gdsfactory MZI layout preview (SVG) and a button to export a \u0026lt;strong\u0026gt;GDS\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ul\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "d8cdf09d0a9a053b9375f623e9a0ae88", "console": [], "id": "RGSE", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='RGSE-0' random-id='c0dfb1a7-74ba-74d9-b1e9-2d3f1e5ff37a'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Go to Interactive section\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;success\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='RGSE-1' random-id='9949e445-25c0-3695-3f32-1628f9001154'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Go to Layout section\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "2968585e38dea19d8732f60e7d8dfb65", "console": [], "id": "Kclp", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cdiv class=\"doc-badges\"\u003E\u003Cspan class=\"doc-badge\"\u003ESelf-check: \u003Cstrong\u003EOK\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003E\u003Ccode\u003Ew02_mzi_modelling.py\u003C/code\u003E\u003C/span\u003E\u003C/div\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "e751d10f9298e13ded59f5754fab918a", "console": [], "id": "emfo", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Learning goals:\u0026lt;/strong\u0026gt; What you should be able to do after this notebook\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Explain how interference converts a phase difference into a power difference.\u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Compute the ideal transfer function for a 50/50 MZI.\u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Relate a layout parameter (\u0394L) to a measurable spectral feature (FSR).\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ul\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026#92;n  This is a \u0026lt;strong\u0026gt;lab companion\u0026lt;/strong\u0026gt; notebook. For graded work and \u201cturn-in\u201d items, use\u0026#92;n  \u0026lt;code\u0026gt;marimo_course/assignments/hw02_mzi_modelling.py\u0026lt;/code\u0026gt;.\u0026#92;n\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "218a6589cb74aeaf4392f1c34997a6a0", "console": [], "id": "Hstk", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ca id=\"glossary\"\u003E\u003C/a\u003E\u003C/span\u003E\n\u003Ch2 id=\"key-terms-quick-glossary\"\u003EKey terms (quick glossary)\u003C/h2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u0394L\u003C/strong\u003E: physical path-length difference between the two arms (\u00b5m).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u03bb\u003C/strong\u003E: wavelength (\u00b5m here).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003En_eff\u003C/strong\u003E: (phase) effective index used in the toy phase term.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003En_g\u003C/strong\u003E: group index (sets fringe spacing / FSR).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EFSR\u003C/strong\u003E: free spectral range, the wavelength spacing between fringes.\u003C/li\u003E\n\u003C/ul\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "785403f578c04b047cc0d6247f44a510", "console": [], "id": "nWHF", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"what-is-gdsfactory-and-why-are-we-using-it\"\u003EWhat is gdsfactory (and why are we using it)?\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003Egdsfactory\u003C/strong\u003E is a Python library for building \u003Cstrong\u003Eparametric photonic layouts\u003C/strong\u003E.\nInstead of drawing every waveguide and bend by hand, you describe a circuit using reusable components\nand parameters, and gdsfactory generates a \u003Cstrong\u003EGDS\u003C/strong\u003E layout for you.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EA useful mental model:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EA \u003Cstrong\u003EComponent\u003C/strong\u003E is a layout cell (like a reusable block).\u003C/li\u003E\n\u003Cli\u003EComponents have named \u003Cstrong\u003Eports\u003C/strong\u003E (optical/electrical connection points).\u003C/li\u003E\n\u003Cli\u003EYou can \u003Cstrong\u003Ecompose\u003C/strong\u003E components, route between ports, and then \u003Cstrong\u003Eexport GDS\u003C/strong\u003E.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EHow we\u2019ll use gdsfactory in Week 2\u003C/strong\u003E\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EBuild a simple MZI layout from standard building blocks (splitter/combiner + waveguides).\u003C/li\u003E\n\u003Cli\u003ETie a \u003Cem\u003Elayout parameter\u003C/em\u003E (\u0394L) to a \u003Cem\u003Emeasurable prediction\u003C/em\u003E (FSR) from the analytic model.\u003C/li\u003E\n\u003Cli\u003EExport a GDS file you can inspect in KLayout and eventually adapt to PDK-accurate cells for openEBL.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EIn this notebook, gdsfactory is used for a small \u201cconcrete layout\u201d example near the end.\nThe more detailed layout workflow lives in \u003Ccode\u003Emarimo_course/lessons/w02_pdk_mzi_layout.py\u003C/code\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "50ce1fc20916423071daf735182e534f", "console": [], "id": "iLit", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ca id=\"theory\"\u003E\u003C/a\u003E\u003C/span\u003E\n\u003Ch2 id=\"analytic-mzi-model\"\u003EAnalytic MZI model\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EIn this notebook we'll consider a symmetric 50/50 MZI with:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003ETwo identical 50/50 couplers.\u003C/li\u003E\n\u003Cli\u003EOne arm longer than the other by a physical length difference \u0394L (in \u00b5m).\u003C/li\u003E\n\u003Cli\u003EA constant phase index parameter \u003Ccode\u003En_eff\u003C/code\u003E (toy model; we\u2019ll refine this later).\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EA simple schematic is:\u003C/span\u003E\n\u003Cdiv class=\"language-text codehilite\"\u003E\u003Cpre\u003E\u003Cspan\u003E\u003C/span\u003E\u003Ccode\u003E                     upper arm (longer path by \u0394L)\n          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\nInput \u2500\u2500 \u25b6\u2502 50/50  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n          \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518                               \u2502\n              \u2502                                    \u2502\n              \u2502                                    \u2502\n         short arm                                 \u2502\n              \u2502                                    \u2502\n              \u2502                                    \u2502\n Output 1 \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510                               \u2502\n    \u25c0 \u2500\u2500\u2500\u2500\u2502  50/50 \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n              \u2502 Output 2\n              \u25bc\n\u003C/code\u003E\u003C/pre\u003E\u003C/div\u003E\n\u003Cspan class=\"paragraph\"\u003EThe phase difference between the two arms is:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\Delta \\phi(\\lambda) = \\frac{2 \\pi n_{\\mathrm{eff}} \\, \\Delta L}{\\lambda},\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ewhere \u03bb and \u0394L are expressed in the same units (here, \u00b5m).\u003C/span\u003E\n\u003Ch3 id=\"where-the-phase-difference-comes-from\"\u003EWhere the phase difference comes from\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EA guided mode in a waveguide accumulates phase according to the propagation constant:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\beta(\\lambda) = \\frac{2\\pi n_{\\mathrm{eff}}(\\lambda)}{\\lambda}.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EOver a physical path length \u003Cmarimo-tex class=\"arithmatex\"\u003E||(L||)\u003C/marimo-tex\u003E, the phase is:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\phi(\\lambda) = \\beta(\\lambda)\\,L.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EFor two arms with lengths \u003Cmarimo-tex class=\"arithmatex\"\u003E||(L_1||)\u003C/marimo-tex\u003E and \u003Cmarimo-tex class=\"arithmatex\"\u003E||(L_2||)\u003C/marimo-tex\u003E, the \u003Cem\u003Erelative\u003C/em\u003E phase is:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\Delta \\phi(\\lambda) = \\phi_2 - \\phi_1 = \\beta(\\lambda)\\,(L_2 - L_1) = \\beta(\\lambda)\\,\\Delta L.\n||]\u003C/marimo-tex\u003E\u003Ch3 id=\"from-fields-to-power-transmission-ideal-5050-model\"\u003EFrom fields to power transmission (ideal 50/50 model)\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003ETreat each coupler as an ideal 50/50 \u201cbeam splitter\u201d acting on the complex field amplitudes:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\begin{bmatrix}\nE_1 \\\\\\\\\nE_2\n\\end{bmatrix}\n=\n\\frac{1}{\\sqrt{2}}\n\\begin{bmatrix}\n1 \u0026amp; 1 \\\\\\\\\n1 \u0026amp; -1\n\\end{bmatrix}\n\\begin{bmatrix}\nE_{\\mathrm{in}} \\\\\\\\\n0\n\\end{bmatrix}\n\\Rightarrow\nE_1 = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}},\\;\nE_2 = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}}.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EAfter propagation through the two arms:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nE_1' = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}} e^{i\\phi_1},\\quad\nE_2' = \\frac{E_{\\mathrm{in}}}{\\sqrt{2}} e^{i\\phi_2}.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThe second 50/50 coupler recombines them:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\begin{bmatrix}\nE_{\\mathrm{through}} \\\\\\\\\nE_{\\mathrm{cross}}\n\\end{bmatrix}\n=\n\\frac{1}{\\sqrt{2}}\n\\begin{bmatrix}\n1 \u0026amp; 1 \\\\\\\\\n1 \u0026amp; -1\n\\end{bmatrix}\n\\begin{bmatrix}\nE_1' \\\\\\\\\nE_2'\n\\end{bmatrix}.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003ESo the through-port field is:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nE_{\\mathrm{through}}\n= \\frac{E_{\\mathrm{in}}}{2}\\left(e^{i\\phi_1} + e^{i\\phi_2}\\right)\n= E_{\\mathrm{in}}\\,e^{i(\\phi_1+\\phi_2)/2}\\cos\\left(\\frac{\\Delta\\phi}{2}\\right).\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EThe (normalized) through-port power transmission is:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nT_{\\mathrm{ideal}}(\\lambda)\n= \\frac{|E_{\\mathrm{through}}|^2}{|E_{\\mathrm{in}}|^2}\n= \\cos^2\\left(\\frac{\\Delta\\phi(\\lambda)}{2}\\right)\n= \\frac{1}{2}\\left(1 + \\cos \\Delta \\phi(\\lambda)\\right).\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003E(The other output is complementary: \u003Cmarimo-tex class=\"arithmatex\"\u003E||(T_{\\mathrm{cross}} = \\sin^2(\\Delta\\phi/2) = \\frac{1}{2}(1-\\cos\\Delta\\phi)||)\u003C/marimo-tex\u003E. Different coupler sign conventions simply swap which port you call \u201cthrough\u201d vs \u201ccross\u201d.)\u003C/span\u003E\n\u003Ch3 id=\"linking-l-to-fringe-spacing-fsr\"\u003ELinking \u0394L to fringe spacing (FSR)\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003EAround a center wavelength \u03bb\u2080, a useful rule of thumb is:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\mathrm{FSR} \\approx \\frac{\\lambda_0^2}{n_g \\, \\Delta L},\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ewhere \u003Cstrong\u003En_g\u003C/strong\u003E is the group index. (This is why \u003Cstrong\u003En_eff\u003C/strong\u003E shows up in phase, but \u003Cstrong\u003En_g\u003C/strong\u003E shows up in FSR.)\u003C/span\u003E\n\u003Ch4 id=\"derivation-where-the-fsr-rule-of-thumb-comes-from\"\u003EDerivation: where the FSR rule-of-thumb comes from\u003C/h4\u003E\n\u003Cspan class=\"paragraph\"\u003EKey idea: \u003Cstrong\u003Eadjacent fringes occur when the relative phase changes by\u003C/strong\u003E \u003Cmarimo-tex class=\"arithmatex\"\u003E||(2\\pi||)\u003C/marimo-tex\u003E.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EWrite the wavelength-dependent propagation constant as\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\beta(\\lambda)=\\frac{2\\pi}{\\lambda}n_\\mathrm{eff}(\\lambda),\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Eso the arm phase difference is\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\Delta\\phi(\\lambda)=\\beta(\\lambda)\\,\\Delta L.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EA \u201cfringe-to-fringe\u201d step in wavelength (the FSR) is the smallest \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\Delta\\lambda||)\u003C/marimo-tex\u003E such that\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\Delta\\phi(\\lambda+\\Delta\\lambda)-\\Delta\\phi(\\lambda)=2\\pi.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EFor small \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\Delta\\lambda||)\u003C/marimo-tex\u003E we linearize:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\frac{d\\Delta\\phi}{d\\lambda}\\,\\Delta\\lambda \\approx 2\\pi\n\\quad\\Rightarrow\\quad\n\\Delta\\lambda \\approx \\frac{2\\pi}{\\Delta L\\,\\left|d\\beta/d\\lambda\\right|}.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003ENow differentiate \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\beta(\\lambda)||)\u003C/marimo-tex\u003E:\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\frac{d\\beta}{d\\lambda}\n=\\frac{d}{d\\lambda}\\left(\\frac{2\\pi}{\\lambda}n_\\mathrm{eff}(\\lambda)\\right)\n=\\frac{2\\pi}{\\lambda^2}\\left(\\lambda\\frac{dn_\\mathrm{eff}}{d\\lambda}-n_\\mathrm{eff}\\right).\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EDefine the \u003Cstrong\u003Egroup index\u003C/strong\u003E\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\nn_g \\equiv n_\\mathrm{eff}-\\lambda\\frac{dn_\\mathrm{eff}}{d\\lambda},\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003Ewhich makes\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\left|\\frac{d\\beta}{d\\lambda}\\right|=\\frac{2\\pi}{\\lambda^2}n_g.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003ESubstituting gives\u003C/span\u003E\n\u003Cmarimo-tex class=\"arithmatex\"\u003E||[\n\\mathrm{FSR}=\\Delta\\lambda \\approx \\frac{\\lambda^2}{n_g\\,\\Delta L}.\n||]\u003C/marimo-tex\u003E\u003Cspan class=\"paragraph\"\u003EEvaluated at \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\lambda=\\lambda_0||)\u003C/marimo-tex\u003E, this is the rule-of-thumb used in the notebook.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EIn frequency units the same idea gives \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\Delta f \\approx c/(n_g\\,\\Delta L)||)\u003C/marimo-tex\u003E, which is why this is often quoted as an \u201cinverse length\u201d relationship.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003ELater lessons will introduce group index and propagation loss in a more realistic way.\u003C/span\u003E\u003C/span\u003E\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Note:\u0026lt;/strong\u0026gt; \u0026lt;code\u0026gt;n_eff\u0026lt;/code\u0026gt; vs \u0026lt;code\u0026gt;n_g\u0026lt;/code\u0026gt;\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026#92;n  The phase term uses \u0026lt;strong\u0026gt;effective index\u0026lt;/strong\u0026gt; (\u0026lt;code\u0026gt;n_eff\u0026lt;/code\u0026gt;), but the fringe spacing (FSR) depends on\u0026#92;n  \u0026lt;strong\u0026gt;group index\u0026lt;/strong\u0026gt; (\u0026lt;code\u0026gt;n_g\u0026lt;/code\u0026gt;). In a dispersive waveguide, these are not the same.\u0026#92;n\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;warn\u0026quot;'\u003E\u003C/marimo-callout-output\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "2330f1e6c24043f69ca20cd1e4688af5", "console": [], "id": "ZHCJ", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ca id=\"interactive\"\u003E\u003C/a\u003E\u003C/span\u003E\u003C/span\u003E\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Verify:\u0026lt;/strong\u0026gt; Use the plot to confirm the derivation\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ol\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Switch to the \u0026lt;strong\u0026gt;Interactive\u0026lt;/strong\u0026gt; section using the \u0026lt;em\u0026gt;Notebook sections\u0026lt;/em\u0026gt; tabs.\u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Set \u0026lt;strong\u0026gt;\u0394L = 10 \u00b5m\u0026lt;/strong\u0026gt; and note the displayed \u0026lt;strong\u0026gt;FSR estimate\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Double \u0394L to \u0026lt;strong\u0026gt;20 \u00b5m\u0026lt;/strong\u0026gt;. Prediction: the FSR should be roughly \u0026lt;strong\u0026gt;half\u0026lt;/strong\u0026gt;.\u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Use the \u0026lt;strong\u0026gt;FSR measurement tool\u0026lt;/strong\u0026gt; (enter two adjacent maxima wavelengths) to measure the FSR and compare.\u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;Change \u0026lt;strong\u0026gt;base arm length\u0026lt;/strong\u0026gt; (both arms equally). In the ideal model, the FSR should not change \u2014 explain why in one sentence.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ol\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;small\u0026gt;\u0026#92;n  Tip: if you don\u2019t see at least ~2 fringes, increase the spectrum span or increase \u0394L.\u0026#92;n\u0026lt;/small\u0026gt;\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;'\u003E\u003C/marimo-callout-output\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "7b01c37378cd3c9ed51c756b8da989e0", "console": [], "id": "ROlb", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Concept check:\u0026lt;/strong\u0026gt; Three quick checks before moving on\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ol\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;\u0026#92;n    In the ideal analytic model here, which knob mostly changes the \u0026lt;em\u0026gt;fringe spacing\u0026lt;/em\u0026gt; (FSR): \u0026lt;strong\u0026gt;\u0394L\u0026lt;/strong\u0026gt; or \u0026lt;strong\u0026gt;n\u0026lt;sub\u0026gt;eff\u0026lt;/sub\u0026gt;\u0026lt;/strong\u0026gt;?\u0026#92;n    \u0026lt;details\u0026gt;\u0026lt;summary\u0026gt;\u0026lt;em\u0026gt;Answer\u0026lt;/em\u0026gt;\u0026lt;/summary\u0026gt;\u0026#92;n      \u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;\u0394L\u0026lt;/strong\u0026gt; (and \u0026lt;strong\u0026gt;n\u0026lt;sub\u0026gt;g\u0026lt;/sub\u0026gt;\u0026lt;/strong\u0026gt;) set the spacing; \u0026lt;strong\u0026gt;n\u0026lt;sub\u0026gt;eff\u0026lt;/sub\u0026gt;\u0026lt;/strong\u0026gt; mostly shifts the phase / where the fringes land.\u0026lt;/span\u0026gt;\u0026#92;n    \u0026lt;/details\u0026gt;\u0026#92;n  \u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;\u0026#92;n    Why does the FSR formula use \u0026lt;strong\u0026gt;n\u0026lt;sub\u0026gt;g\u0026lt;/sub\u0026gt;\u0026lt;/strong\u0026gt; instead of \u0026lt;strong\u0026gt;n\u0026lt;sub\u0026gt;eff\u0026lt;/sub\u0026gt;\u0026lt;/strong\u0026gt;?\u0026#92;n    \u0026lt;details\u0026gt;\u0026lt;summary\u0026gt;\u0026lt;em\u0026gt;Answer\u0026lt;/em\u0026gt;\u0026lt;/summary\u0026gt;\u0026#92;n      \u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;FSR comes from how quickly phase changes with wavelength, which depends on dispersion (a derivative); that derivative is captured by the \u0026lt;strong\u0026gt;group index\u0026lt;/strong\u0026gt;.\u0026lt;/span\u0026gt;\u0026#92;n    \u0026lt;/details\u0026gt;\u0026#92;n  \u0026lt;/li\u0026gt;\u0026#92;n  \u0026lt;li\u0026gt;\u0026#92;n    If the Simphony/SAX curve (when available) doesn\u2019t match the analytic curve perfectly, name \u0026lt;em\u0026gt;one\u0026lt;/em\u0026gt; likely reason.\u0026#92;n    \u0026lt;details\u0026gt;\u0026lt;summary\u0026gt;\u0026lt;em\u0026gt;Answer\u0026lt;/em\u0026gt;\u0026lt;/summary\u0026gt;\u0026#92;n      \u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Common causes: splitter/coupler model conventions, wavelength-dependent component responses, dispersion, and loss (depending on models).\u0026lt;/span\u0026gt;\u0026#92;n    \u0026lt;/details\u0026gt;\u0026#92;n  \u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ol\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;info\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "f4f20fb1f9fd9bc911c5c66f1f341068", "console": [], "id": "qnkX", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "ca389b93c272dc1063ec00d0b4cc0ab9", "console": [], "id": "TqIu", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "0b195bd87a6888d936a38751ee2cc118", "console": [], "id": "Vxnm", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "bb15f203721aa929305602a8a53e2f9f", "console": [], "id": "DnEU", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "327a8bf58cb72641c62a0bb58e8e91c3", "console": [], "id": "ulZA", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"gdsfactory-quick-check\"\u003Egdsfactory quick check\u003C/h2\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ccode\u003Egdsfactory\u003C/code\u003E is not available in this environment.\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EDetails: \u003Ccode\u003EPB_SKIP_GF=1\u003C/code\u003E\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "7ca65d1c48e52a9fdfba47c735138572", "console": [], "id": "ecfG", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Exercise:\u0026lt;/strong\u0026gt; FSR vs \u0394L (mini-lab)\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;1. Set \u0394L to 10 \u00b5m and estimate the FSR from the plot (distance between adjacent maxima).\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ol\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Double \u0394L. Predict the new FSR using the rule of thumb, then verify it on the plot.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;Change the base arm length. Does the FSR change in the ideal analytic model? Why or why not?\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ol\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "2c93caca69b785bb222dfd5211089d2e", "console": [], "id": "Pvdt", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "0a802429535553094d4f803bd7e1748e", "console": [], "id": "ZBYS", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "b73984867f95806bacaf1108050f4f1c", "console": [], "id": "aLJB", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "45f5d299c29c1a8a25f069916bff2bc8", "console": [], "id": "nHfw", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "9e8ddd3e74053f355cb515436bfbf8a5", "console": [], "id": "xXTn", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f0c8268494dea4b8cf4d58d1095108b5", "console": [], "id": "AjVT", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "5262932d946b6f1ace7e7ce51a6dc2e1", "console": [], "id": "pHFh", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4314d5eac5aa4338ef3d254c366b29a3", "console": [], "id": "NCOB", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "a6d8a8a35ee13a82853789ea2cefc256", "console": [], "id": "aqbW", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "5aea8cd139dd32ee358788a7e5300ae1", "console": [], "id": "TRpd", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f1e673575907b48d299f5f2de0d47e58", "console": [], "id": "TXez", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "759bbf95afc5caa20bcab606ab90a708", "console": [], "id": "dNNg", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4ee32d24ea17cf667b4a0a9eadf7ada4", "console": [], "id": "yCnT", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4799c583f8dd221a086d606938c678d7", "console": [], "id": "wlCL", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "e253ce15023c2ef4657f6e522e94cc69", "console": [], "id": "kqZH", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "d3ea91abce80d350d449dea9bce8c499", "console": [], "id": "wAgl", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "6b36ddc099e76cf8488aef5c920b9a1a", "console": [], "id": "rEll", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='rEll-1' random-id='df5cf34a-92fc-6ad1-6a84-b6b4f1489935'\u003E\u003Cmarimo-vega data-initial-value='{}' data-label='null' data-spec='{\u0026quot;config\u0026quot;:{\u0026quot;view\u0026quot;:{\u0026quot;continuousWidth\u0026quot;:300,\u0026quot;continuousHeight\u0026quot;:300}},\u0026quot;data\u0026quot;:{\u0026quot;values\u0026quot;:[{\u0026quot;wavelength_nm\u0026quot;:1500.0,\u0026quot;value\u0026quot;:0.12505618402806068,\u0026quot;value_plot\u0026quot;:0.12505618402806068,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1500.250626566416,\u0026quot;value\u0026quot;:0.13491453669233278,\u0026quot;value_plot\u0026quot;:0.13491453669233278,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1500.501253132832,\u0026quot;value\u0026quot;:0.14508327041694624,\u0026quot;value_plot\u0026quot;:0.14508327041694624,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1500.751879699248,\u0026quot;value\u0026quot;:0.15555334170312157,\u0026quot;value_plot\u0026quot;:0.15555334170312157,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1501.0025062656641,\u0026quot;value\u0026quot;:0.1663154633839805,\u0026quot;value_plot\u0026quot;:0.1663154633839805,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1501.2531328320802,\u0026quot;value\u0026quot;:0.17736011317068046,\u0026quot;value_plot\u0026quot;:0.17736011317068046,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1501.5037593984964,\u0026quot;value\u0026quot;:0.18867754237521955,\u0026quot;value_plot\u0026quot;:0.18867754237521955,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1501.7543859649122,\u0026quot;value\u0026quot;:0.2002577848014594,\u0026quot;value_plot\u0026quot;:0.2002577848014594,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1502.0050125313282,\u0026quot;value\u0026quot;:0.21209066579616687,\u0026quot;value_plot\u0026quot;:0.21209066579616687,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1502.2556390977445,\u0026quot;value\u0026quot;:0.2241658114518273,\u0026quot;value_plot\u0026quot;:0.2241658114518273,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1502.5062656641603,\u0026quot;value\u0026quot;:0.23647265795254668,\u0026quot;value_plot\u0026quot;:0.23647265795254668,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1502.7568922305766,\u0026quot;value\u0026quot;:0.24900046105480034,\u0026quot;value_plot\u0026quot;:0.24900046105480034,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1503.0075187969924,\u0026quot;value\u0026quot;:0.26173830569405077,\u0026quot;value_plot\u0026quot;:0.26173830569405077,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1503.2581453634086,\u0026quot;value\u0026quot;:0.27467511570887815,\u0026quot;value_plot\u0026quot;:0.27467511570887815,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1503.5087719298247,\u0026quot;value\u0026quot;:0.2877996636735828,\u0026quot;value_plot\u0026quot;:0.2877996636735828,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1503.7593984962405,\u0026quot;value\u0026quot;:0.30110058083075597,\u0026quot;value_plot\u0026quot;:0.30110058083075597,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1504.0100250626567,\u0026quot;value\u0026quot;:0.31456636711452324,\u0026quot;value_plot\u0026quot;:0.31456636711452324,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1504.2606516290725,\u0026quot;value\u0026quot;:0.3281854012559745,\u0026quot;value_plot\u0026quot;:0.3281854012559745,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1504.5112781954888,\u0026quot;value\u0026quot;:0.34194595096175806,\u0026quot;value_plot\u0026quot;:0.34194595096175806,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1504.7619047619048,\u0026quot;value\u0026quot;:0.3558361831565648,\u0026quot;value_plot\u0026quot;:0.3558361831565648,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1505.0125313283208,\u0026quot;value\u0026quot;:0.36984417428107075,\u0026quot;value_plot\u0026quot;:0.36984417428107075,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1505.2631578947369,\u0026quot;value\u0026quot;:0.38395792063578066,\u0026quot;value_plot\u0026quot;:0.38395792063578066,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1505.513784461153,\u0026quot;value\u0026quot;:0.39816534876232523,\u0026quot;value_plot\u0026quot;:0.39816534876232523,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1505.764411027569,\u0026quot;value\u0026quot;:0.41245432585280956,\u0026quot;value_plot\u0026quot;:0.41245432585280956,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1506.015037593985,\u0026quot;value\u0026quot;:0.42681267017847,\u0026quot;value_plot\u0026quot;:0.42681267017847,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1506.265664160401,\u0026quot;value\u0026quot;:0.44122816152879624,\u0026quot;value_plot\u0026quot;:0.44122816152879624,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1506.516290726817,\u0026quot;value\u0026quot;:0.45568855165180355,\u0026quot;value_plot\u0026quot;:0.45568855165180355,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1506.7669172932333,\u0026quot;value\u0026quot;:0.47018157468718913,\u0026quot;value_plot\u0026quot;:0.47018157468718913,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1507.017543859649,\u0026quot;value\u0026quot;:0.48469495758289854,\u0026quot;value_plot\u0026quot;:0.48469495758289854,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1507.2681704260651,\u0026quot;value\u0026quot;:0.49921643048694353,\u0026quot;value_plot\u0026quot;:0.49921643048694353,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1507.5187969924812,\u0026quot;value\u0026quot;:0.5137337371051821,\u0026quot;value_plot\u0026quot;:0.5137337371051821,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1507.7694235588972,\u0026quot;value\u0026quot;:0.5282346450168529,\u0026quot;value_plot\u0026quot;:0.5282346450168529,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1508.0200501253134,\u0026quot;value\u0026quot;:0.5427069559391736,\u0026quot;value_plot\u0026quot;:0.5427069559391736,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1508.2706766917292,\u0026quot;value\u0026quot;:0.5571385159322478,\u0026quot;value_plot\u0026quot;:0.5571385159322478,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1508.5213032581453,\u0026quot;value\u0026quot;:0.5715172255362964,\u0026quot;value_plot\u0026quot;:0.5715172255362964,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1508.7719298245615,\u0026quot;value\u0026quot;:0.5858310498326212,\u0026quot;value_plot\u0026quot;:0.5858310498326212,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1509.0225563909773,\u0026quot;value\u0026quot;:0.6000680284200143,\u0026quot;value_plot\u0026quot;:0.6000680284200143,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1509.2731829573936,\u0026quot;value\u0026quot;:0.614216285298921,\u0026quot;value_plot\u0026quot;:0.614216285298921,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1509.5238095238094,\u0026quot;value\u0026quot;:0.6282640386547796,\u0026quot;value_plot\u0026quot;:0.6282640386547796,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1509.7744360902257,\u0026quot;value\u0026quot;:0.6421996105332506,\u0026quot;value_plot\u0026quot;:0.6421996105332506,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1510.0250626566417,\u0026quot;value\u0026quot;:0.6560114363990349,\u0026quot;value_plot\u0026quot;:0.6560114363990349,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1510.2756892230575,\u0026quot;value\u0026quot;:0.6696880745711501,\u0026quot;value_plot\u0026quot;:0.6696880745711501,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1510.5263157894738,\u0026quot;value\u0026quot;:0.683218215526887,\u0026quot;value_plot\u0026quot;:0.683218215526887,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1510.7769423558896,\u0026quot;value\u0026quot;:0.6965906910670457,\u0026quot;value_plot\u0026quot;:0.6965906910670457,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1511.0275689223058,\u0026quot;value\u0026quot;:0.709794483335738,\u0026quot;value_plot\u0026quot;:0.709794483335738,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1511.2781954887218,\u0026quot;value\u0026quot;:0.7228187336869444,\u0026quot;value_plot\u0026quot;:0.7228187336869444,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1511.5288220551379,\u0026quot;value\u0026quot;:0.7356527513917781,\u0026quot;value_plot\u0026quot;:0.7356527513917781,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1511.779448621554,\u0026quot;value\u0026quot;:0.7482860221790859,\u0026quot;value_plot\u0026quot;:0.7482860221790859,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1512.03007518797,\u0026quot;value\u0026quot;:0.7607082166032231,\u0026quot;value_plot\u0026quot;:0.7607082166032231,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1512.280701754386,\u0026quot;value\u0026quot;:0.772909198232506,\u0026quot;value_plot\u0026quot;:0.772909198232506,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1512.531328320802,\u0026quot;value\u0026quot;:0.7848790316520375,\u0026quot;value_plot\u0026quot;:0.7848790316520375,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1512.781954887218,\u0026quot;value\u0026quot;:0.7966079902751734,\u0026quot;value_plot\u0026quot;:0.7966079902751734,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1513.032581453634,\u0026quot;value\u0026quot;:0.8080865639574686,\u0026quot;value_plot\u0026quot;:0.8080865639574686,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1513.2832080200503,\u0026quot;value\u0026quot;:0.8193054664077597,\u0026quot;value_plot\u0026quot;:0.8193054664077597,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1513.5338345864661,\u0026quot;value\u0026quot;:0.8302556423907008,\u0026quot;value_plot\u0026quot;:0.8302556423907008,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1513.7844611528822,\u0026quot;value\u0026quot;:0.8409282747157216,\u0026quot;value_plot\u0026quot;:0.8409282747157216,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1514.0350877192982,\u0026quot;value\u0026quot;:0.8513147910071746,\u0026quot;value_plot\u0026quot;:0.8513147910071746,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1514.2857142857142,\u0026quot;value\u0026quot;:0.861406870250923,\u0026quot;value_plot\u0026quot;:0.861406870250923,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1514.5363408521305,\u0026quot;value\u0026quot;:0.8711964491127769,\u0026quot;value_plot\u0026quot;:0.8711964491127769,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1514.7869674185463,\u0026quot;value\u0026quot;:0.880675728024277,\u0026quot;value_plot\u0026quot;:0.880675728024277,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1515.0375939849625,\u0026quot;value\u0026quot;:0.8898371770316218,\u0026quot;value_plot\u0026quot;:0.8898371770316218,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1515.2882205513786,\u0026quot;value\u0026quot;:0.898673541403759,\u0026quot;value_plot\u0026quot;:0.898673541403759,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1515.5388471177944,\u0026quot;value\u0026quot;:0.9071778469959684,\u0026quot;value_plot\u0026quot;:0.9071778469959684,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1515.7894736842106,\u0026quot;value\u0026quot;:0.9153434053650955,\u0026quot;value_plot\u0026quot;:0.9153434053650955,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1516.0401002506264,\u0026quot;value\u0026quot;:0.9231638186334146,\u0026quot;value_plot\u0026quot;:0.9231638186334146,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1516.2907268170427,\u0026quot;value\u0026quot;:0.9306329840978683,\u0026quot;value_plot\u0026quot;:0.9306329840978683,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1516.5413533834587,\u0026quot;value\u0026quot;:0.9377450985816935,\u0026quot;value_plot\u0026quot;:0.9377450985816935,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1516.7919799498748,\u0026quot;value\u0026quot;:0.9444946625260031,\u0026quot;value_plot\u0026quot;:0.9444946625260031,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1517.0426065162908,\u0026quot;value\u0026quot;:0.9508764838186256,\u0026quot;value_plot\u0026quot;:0.9508764838186256,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1517.2932330827066,\u0026quot;value\u0026quot;:0.956885681358244,\u0026quot;value_plot\u0026quot;:0.956885681358244,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1517.5438596491229,\u0026quot;value\u0026quot;:0.9625176883516326,\u0026quot;value_plot\u0026quot;:0.9625176883516326,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1517.7944862155389,\u0026quot;value\u0026quot;:0.9677682553423774,\u0026quot;value_plot\u0026quot;:0.9677682553423774,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1518.045112781955,\u0026quot;value\u0026quot;:0.9726334529695567,\u0026quot;value_plot\u0026quot;:0.9726334529695567,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1518.295739348371,\u0026quot;value\u0026quot;:0.9771096744549674,\u0026quot;value_plot\u0026quot;:0.9771096744549674,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1518.5463659147872,\u0026quot;value\u0026quot;:0.981193637817979,\u0026quot;value_plot\u0026quot;:0.981193637817979,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1518.796992481203,\u0026quot;value\u0026quot;:0.9848823878170925,\u0026quot;value_plot\u0026quot;:0.9848823878170925,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1519.047619047619,\u0026quot;value\u0026quot;:0.9881732976176403,\u0026quot;value_plot\u0026quot;:0.9881732976176403,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1519.298245614035,\u0026quot;value\u0026quot;:0.9910640701852025,\u0026quot;value_plot\u0026quot;:0.9910640701852025,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1519.548872180451,\u0026quot;value\u0026quot;:0.9935527394046377,\u0026quot;value_plot\u0026quot;:0.9935527394046377,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1519.7994987468674,\u0026quot;value\u0026quot;:0.9956376709248027,\u0026quot;value_plot\u0026quot;:0.9956376709248027,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1520.0501253132832,\u0026quot;value\u0026quot;:0.9973175627291897,\u0026quot;value_plot\u0026quot;:0.9973175627291897,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1520.3007518796994,\u0026quot;value\u0026quot;:0.9985914454331182,\u0026quot;value_plot\u0026quot;:0.9985914454331182,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1520.5513784461152,\u0026quot;value\u0026quot;:0.9994586823081275,\u0026quot;value_plot\u0026quot;:0.9994586823081275,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1520.8020050125313,\u0026quot;value\u0026quot;:0.9999189690346046,\u0026quot;value_plot\u0026quot;:0.9999189690346046,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1521.0526315789475,\u0026quot;value\u0026quot;:0.9999723331837896,\u0026quot;value_plot\u0026quot;:0.9999723331837896,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1521.3032581453633,\u0026quot;value\u0026quot;:0.9996191334305868,\u0026quot;value_plot\u0026quot;:0.9996191334305868,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1521.5538847117796,\u0026quot;value\u0026quot;:0.9988600584987906,\u0026quot;value_plot\u0026quot;:0.9988600584987906,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1521.8045112781956,\u0026quot;value\u0026quot;:0.9976961258405475,\u0026quot;value_plot\u0026quot;:0.9976961258405475,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1522.0551378446114,\u0026quot;value\u0026quot;:0.9961286800521052,\u0026quot;value_plot\u0026quot;:0.9961286800521052,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1522.3057644110277,\u0026quot;value\u0026quot;:0.994159391028084,\u0026quot;value_plot\u0026quot;:0.994159391028084,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1522.5563909774435,\u0026quot;value\u0026quot;:0.9917902518567194,\u0026quot;value_plot\u0026quot;:0.9917902518567194,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1522.8070175438597,\u0026quot;value\u0026quot;:0.9890235764587306,\u0026quot;value_plot\u0026quot;:0.9890235764587306,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1523.0576441102758,\u0026quot;value\u0026quot;:0.9858619969726667,\u0026quot;value_plot\u0026quot;:0.9858619969726667,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1523.3082706766918,\u0026quot;value\u0026quot;:0.9823084608897339,\u0026quot;value_plot\u0026quot;:0.9823084608897339,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1523.5588972431078,\u0026quot;value\u0026quot;:0.9783662279414175,\u0026quot;value_plot\u0026quot;:0.9783662279414175,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1523.8095238095236,\u0026quot;value\u0026quot;:0.9740388667432165,\u0026quot;value_plot\u0026quot;:0.9740388667432165,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1524.0601503759399,\u0026quot;value\u0026quot;:0.9693302511981702,\u0026quot;value_plot\u0026quot;:0.9693302511981702,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1524.310776942356,\u0026quot;value\u0026quot;:0.9642445566639537,\u0026quot;value_plot\u0026quot;:0.9642445566639537,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1524.561403508772,\u0026quot;value\u0026quot;:0.9587862558874287,\u0026quot;value_plot\u0026quot;:0.9587862558874287,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1524.812030075188,\u0026quot;value\u0026quot;:0.9529601147109112,\u0026quot;value_plot\u0026quot;:0.9529601147109112,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1525.062656641604,\u0026quot;value\u0026quot;:0.9467711875542835,\u0026quot;value_plot\u0026quot;:0.9467711875542835,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1525.31328320802,\u0026quot;value\u0026quot;:0.9402248126776123,\u0026quot;value_plot\u0026quot;:0.9402248126776123,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1525.563909774436,\u0026quot;value\u0026quot;:0.9333266072286912,\u0026quot;value_plot\u0026quot;:0.9333266072286912,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1525.814536340852,\u0026quot;value\u0026quot;:0.9260824620804606,\u0026quot;value_plot\u0026quot;:0.9260824620804606,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1526.0651629072681,\u0026quot;value\u0026quot;:0.9184985364631107,\u0026quot;value_plot\u0026quot;:0.9184985364631107,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1526.3157894736844,\u0026quot;value\u0026quot;:0.910581252395924,\u0026quot;value_plot\u0026quot;:0.910581252395924,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1526.5664160401002,\u0026quot;value\u0026quot;:0.9023372889242669,\u0026quot;value_plot\u0026quot;:0.9023372889242669,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1526.8170426065165,\u0026quot;value\u0026quot;:0.8937735761667389,\u0026quot;value_plot\u0026quot;:0.8937735761667389,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1527.0676691729323,\u0026quot;value\u0026quot;:0.8848972891783214,\u0026quot;value_plot\u0026quot;:0.8848972891783214,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1527.3182957393483,\u0026quot;value\u0026quot;:0.8757158416347967,\u0026quot;value_plot\u0026quot;:0.8757158416347967,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1527.5689223057645,\u0026quot;value\u0026quot;:0.8662368793444063,\u0026quot;value_plot\u0026quot;:0.8662368793444063,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1527.8195488721803,\u0026quot;value\u0026quot;:0.8564682735924738,\u0026quot;value_plot\u0026quot;:0.8564682735924738,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1528.0701754385966,\u0026quot;value\u0026quot;:0.8464181143248795,\u0026quot;value_plot\u0026quot;:0.8464181143248795,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1528.3208020050124,\u0026quot;value\u0026quot;:0.836094703176641,\u0026quot;value_plot\u0026quot;:0.836094703176641,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1528.5714285714287,\u0026quot;value\u0026quot;:0.8255065463514306,\u0026quot;value_plot\u0026quot;:0.8255065463514306,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1528.8220551378447,\u0026quot;value\u0026quot;:0.8146623473586595,\u0026quot;value_plot\u0026quot;:0.8146623473586595,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1529.0726817042605,\u0026quot;value\u0026quot;:0.8035709996140747,\u0026quot;value_plot\u0026quot;:0.8035709996140747,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1529.3233082706768,\u0026quot;value\u0026quot;:0.7922415789105294,\u0026quot;value_plot\u0026quot;:0.7922415789105294,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1529.5739348370928,\u0026quot;value\u0026quot;:0.7806833357654182,\u0026quot;value_plot\u0026quot;:0.7806833357654182,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1529.8245614035088,\u0026quot;value\u0026quot;:0.7689056876510818,\u0026quot;value_plot\u0026quot;:0.7689056876510818,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1530.0751879699249,\u0026quot;value\u0026quot;:0.7569182111151997,\u0026quot;value_plot\u0026quot;:0.7569182111151997,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1530.3258145363409,\u0026quot;value\u0026quot;:0.7447306337974445,\u0026quot;value_plot\u0026quot;:0.7447306337974445,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1530.576441102757,\u0026quot;value\u0026quot;:0.732352826349536,\u0026quot;value_plot\u0026quot;:0.732352826349536,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1530.827067669173,\u0026quot;value\u0026quot;:0.7197947942650522,\u0026quot;value_plot\u0026quot;:0.7197947942650522,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1531.077694235589,\u0026quot;value\u0026quot;:0.7070666696262637,\u0026quot;value_plot\u0026quot;:0.7070666696262637,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1531.328320802005,\u0026quot;value\u0026quot;:0.6941787027746394,\u0026quot;value_plot\u0026quot;:0.6941787027746394,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1531.578947368421,\u0026quot;value\u0026quot;:0.6811412539117805,\u0026quot;value_plot\u0026quot;:0.6811412539117805,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1531.829573934837,\u0026quot;value\u0026quot;:0.6679647846380461,\u0026quot;value_plot\u0026quot;:0.6679647846380461,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1532.0802005012533,\u0026quot;value\u0026quot;:0.6546598494355408,\u0026quot;value_plot\u0026quot;:0.6546598494355408,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1532.3308270676691,\u0026quot;value\u0026quot;:0.6412370871026202,\u0026quot;value_plot\u0026quot;:0.6412370871026202,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1532.5814536340852,\u0026quot;value\u0026quot;:0.6277072121466823,\u0026quot;value_plot\u0026quot;:0.6277072121466823,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1532.8320802005014,\u0026quot;value\u0026quot;:0.6140810061424034,\u0026quot;value_plot\u0026quot;:0.6140810061424034,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1533.0827067669172,\u0026quot;value\u0026quot;:0.6003693090623532,\u0026quot;value_plot\u0026quot;:0.6003693090623532,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1533.3333333333335,\u0026quot;value\u0026quot;:0.586583010586811,\u0026quot;value_plot\u0026quot;:0.586583010586811,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1533.5839598997493,\u0026quot;value\u0026quot;:0.5727330413999362,\u0026quot;value_plot\u0026quot;:0.5727330413999362,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1533.8345864661655,\u0026quot;value\u0026quot;:0.5588303644790519,\u0026quot;value_plot\u0026quot;:0.5588303644790519,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1534.0852130325816,\u0026quot;value\u0026quot;:0.5448859663841765,\u0026quot;value_plot\u0026quot;:0.5448859663841765,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1534.3358395989974,\u0026quot;value\u0026quot;:0.5309108485542934,\u0026quot;value_plot\u0026quot;:0.5309108485542934,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1534.5864661654136,\u0026quot;value\u0026quot;:0.5169160186177284,\u0026quot;value_plot\u0026quot;:0.5169160186177284,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1534.8370927318294,\u0026quot;value\u0026quot;:0.5029124817229859,\u0026quot;value_plot\u0026quot;:0.5029124817229859,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1535.0877192982457,\u0026quot;value\u0026quot;:0.488911231896954,\u0026quot;value_plot\u0026quot;:0.488911231896954,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1535.3383458646617,\u0026quot;value\u0026quot;:0.47492324343738357,\u0026quot;value_plot\u0026quot;:0.47492324343738357,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1535.5889724310775,\u0026quot;value\u0026quot;:0.460959462345904,\u0026quot;value_plot\u0026quot;:0.460959462345904,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1535.8395989974938,\u0026quot;value\u0026quot;:0.44703079780858135,\u0026quot;value_plot\u0026quot;:0.44703079780858135,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1536.0902255639098,\u0026quot;value\u0026quot;:0.4331481137302857,\u0026quot;value_plot\u0026quot;:0.4331481137302857,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1536.3408521303259,\u0026quot;value\u0026quot;:0.4193222203292912,\u0026quot;value_plot\u0026quot;:0.4193222203292912,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1536.591478696742,\u0026quot;value\u0026quot;:0.4055638657988315,\u0026quot;value_plot\u0026quot;:0.4055638657988315,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1536.842105263158,\u0026quot;value\u0026quot;:0.3918837280414231,\u0026quot;value_plot\u0026quot;:0.3918837280414231,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1537.092731829574,\u0026quot;value\u0026quot;:0.37829240648263873,\u0026quot;value_plot\u0026quot;:0.37829240648263873,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1537.34335839599,\u0026quot;value\u0026quot;:0.36480041397016383,\u0026quot;value_plot\u0026quot;:0.36480041397016383,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1537.593984962406,\u0026quot;value\u0026quot;:0.3514181687642785,\u0026quot;value_plot\u0026quot;:0.3514181687642785,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1537.844611528822,\u0026quot;value\u0026quot;:0.33815598662576085,\u0026quot;value_plot\u0026quot;:0.33815598662576085,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1538.095238095238,\u0026quot;value\u0026quot;:0.3250240730068231,\u0026quot;value_plot\u0026quot;:0.3250240730068231,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1538.345864661654,\u0026quot;value\u0026quot;:0.31203251535127324,\u0026quot;value_plot\u0026quot;:0.31203251535127324,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1538.5964912280704,\u0026quot;value\u0026quot;:0.29919127550891467,\u0026quot;value_plot\u0026quot;:0.29919127550891467,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1538.8471177944862,\u0026quot;value\u0026quot;:0.2865101822702863,\u0026quot;value_plot\u0026quot;:0.2865101822702863,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1539.0977443609022,\u0026quot;value\u0026quot;:0.2739989240266847,\u0026quot;value_plot\u0026quot;:0.2739989240266847,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1539.3483709273185,\u0026quot;value\u0026quot;:0.26166704156100784,\u0026quot;value_plot\u0026quot;:0.26166704156100784,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1539.5989974937343,\u0026quot;value\u0026quot;:0.24952392097453302,\u0026quot;value_plot\u0026quot;:0.24952392097453302,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1539.8496240601505,\u0026quot;value\u0026quot;:0.2375787867544757,\u0026quot;value_plot\u0026quot;:0.2375787867544757,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1540.1002506265663,\u0026quot;value\u0026quot;:0.22584069498750825,\u0026quot;value_plot\u0026quot;:0.22584069498750825,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1540.3508771929826,\u0026quot;value\u0026quot;:0.21431852672372054,\u0026quot;value_plot\u0026quot;:0.21431852672372054,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1540.6015037593986,\u0026quot;value\u0026quot;:0.2030209814958206,\u0026quot;value_plot\u0026quot;:0.2030209814958206,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1540.8521303258144,\u0026quot;value\u0026quot;:0.1919565709979526,\u0026quot;value_plot\u0026quot;:0.1919565709979526,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1541.1027568922307,\u0026quot;value\u0026quot;:0.18113361292853786,\u0026quot;value_plot\u0026quot;:0.18113361292853786,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1541.3533834586465,\u0026quot;value\u0026quot;:0.17056022500131496,\u0026quot;value_plot\u0026quot;:0.17056022500131496,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1541.6040100250627,\u0026quot;value\u0026quot;:0.16024431912854992,\u0026quot;value_plot\u0026quot;:0.16024431912854992,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1541.8546365914788,\u0026quot;value\u0026quot;:0.15019359578043767,\u0026quot;value_plot\u0026quot;:0.15019359578043767,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1542.1052631578948,\u0026quot;value\u0026quot;:0.14041553852425243,\u0026quot;value_plot\u0026quot;:0.14041553852425243,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1542.3558897243108,\u0026quot;value\u0026quot;:0.1309174087470545,\u0026quot;value_plot\u0026quot;:0.1309174087470545,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1542.6065162907269,\u0026quot;value\u0026quot;:0.12170624056516172,\u0026quot;value_plot\u0026quot;:0.12170624056516172,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1542.857142857143,\u0026quot;value\u0026quot;:0.11278883592380962,\u0026quot;value_plot\u0026quot;:0.11278883592380962,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1543.107769423559,\u0026quot;value\u0026quot;:0.10417175989002031,\u0026quot;value_plot\u0026quot;:0.10417175989002031,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1543.358395989975,\u0026quot;value\u0026quot;:0.09586133614164821,\u0026quot;value_plot\u0026quot;:0.09586133614164821,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1543.609022556391,\u0026quot;value\u0026quot;:0.08786364265540703,\u0026quot;value_plot\u0026quot;:0.08786364265540703,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1543.8596491228072,\u0026quot;value\u0026quot;:0.08018450759639073,\u0026quot;value_plot\u0026quot;:0.08018450759639073,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1544.110275689223,\u0026quot;value\u0026quot;:0.07282950541173433,\u0026quot;value_plot\u0026quot;:0.07282950541173433,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1544.360902255639,\u0026quot;value\u0026quot;:0.06580395313043297,\u0026quot;value_plot\u0026quot;:0.06580395313043297,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1544.611528822055,\u0026quot;value\u0026quot;:0.05911290687168136,\u0026quot;value_plot\u0026quot;:0.05911290687168136,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1544.8621553884711,\u0026quot;value\u0026quot;:0.05276115856351021,\u0026quot;value_plot\u0026quot;:0.05276115856351021,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1545.1127819548874,\u0026quot;value\u0026quot;:0.046753232873492534,\u0026quot;value_plot\u0026quot;:0.046753232873492534,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1545.3634085213032,\u0026quot;value\u0026quot;:0.041093384353296014,\u0026quot;value_plot\u0026quot;:0.041093384353296014,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1545.6140350877195,\u0026quot;value\u0026quot;:0.03578559479824589,\u0026quot;value_plot\u0026quot;:0.03578559479824589,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1545.8646616541355,\u0026quot;value\u0026quot;:0.030833570823396494,\u0026quot;value_plot\u0026quot;:0.030833570823396494,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1546.1152882205513,\u0026quot;value\u0026quot;:0.026240741657041544,\u0026quot;value_plot\u0026quot;:0.026240741657041544,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1546.3659147869676,\u0026quot;value\u0026quot;:0.02201025715263999,\u0026quot;value_plot\u0026quot;:0.02201025715263999,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1546.6165413533834,\u0026quot;value\u0026quot;:0.018144986019920206,\u0026quot;value_plot\u0026quot;:0.018144986019920206,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1546.8671679197996,\u0026quot;value\u0026quot;:0.0146475142756754,\u0026quot;value_plot\u0026quot;:0.0146475142756754,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1547.1177944862156,\u0026quot;value\u0026quot;:0.011520143914723446,\u0026quot;value_plot\u0026quot;:0.011520143914723446,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1547.3684210526317,\u0026quot;value\u0026quot;:0.008764891801187502,\u0026quot;value_plot\u0026quot;:0.008764891801187502,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1547.6190476190477,\u0026quot;value\u0026quot;:0.0063834887802299844,\u0026quot;value_plot\u0026quot;:0.0063834887802299844,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1547.8696741854635,\u0026quot;value\u0026quot;:0.00437737901008034,\u0026quot;value_plot\u0026quot;:0.00437737901008034,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1548.1203007518798,\u0026quot;value\u0026quot;:0.0027477195141220045,\u0026quot;value_plot\u0026quot;:0.0027477195141220045,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1548.3709273182958,\u0026quot;value\u0026quot;:0.0014953799525728173,\u0026quot;value_plot\u0026quot;:0.0014953799525728173,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1548.6215538847118,\u0026quot;value\u0026quot;:0.0006209426131470464,\u0026quot;value_plot\u0026quot;:0.0006209426131470464,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1548.8721804511279,\u0026quot;value\u0026quot;:0.00012470261996971876,\u0026quot;value_plot\u0026quot;:0.00012470261996971876,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1549.1228070175441,\u0026quot;value\u0026quot;:6.66835974982849e-6,\u0026quot;value_plot\u0026quot;:6.66835974982849e-6,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1549.37343358396,\u0026quot;value\u0026quot;:0.0002665621241644822,\u0026quot;value_plot\u0026quot;:0.0002665621241644822,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1549.624060150376,\u0026quot;value\u0026quot;:0.0009038209671748954,\u0026quot;value_plot\u0026quot;:0.0009038209671748954,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1549.874686716792,\u0026quot;value\u0026quot;:0.001917597775870139,\u0026quot;value_plot\u0026quot;:0.001917597775870139,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1550.125313283208,\u0026quot;value\u0026quot;:0.0033067625532575695,\u0026quot;value_plot\u0026quot;:0.0033067625532575695,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1550.3759398496243,\u0026quot;value\u0026quot;:0.0050699039112944155,\u0026quot;value_plot\u0026quot;:0.0050699039112944155,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1550.62656641604,\u0026quot;value\u0026quot;:0.007205330772257212,\u0026quot;value_plot\u0026quot;:0.007205330772257212,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1550.877192982456,\u0026quot;value\u0026quot;:0.009711074276456066,\u0026quot;value_plot\u0026quot;:0.009711074276456066,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1551.1278195488721,\u0026quot;value\u0026quot;:0.01258488989408263,\u0026quot;value_plot\u0026quot;:0.01258488989408263,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1551.3784461152882,\u0026quot;value\u0026quot;:0.01582425973889684,\u0026quot;value_plot\u0026quot;:0.01582425973889684,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1551.6290726817044,\u0026quot;value\u0026quot;:0.019426395081278913,\u0026quot;value_plot\u0026quot;:0.019426395081278913,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1551.8796992481202,\u0026quot;value\u0026quot;:0.023388239058045324,\u0026quot;value_plot\u0026quot;:0.023388239058045324,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1552.1303258145365,\u0026quot;value\u0026quot;:0.02770646957630396,\u0026quot;value_plot\u0026quot;:0.02770646957630396,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1552.3809523809525,\u0026quot;value\u0026quot;:0.03237750240839532,\u0026quot;value_plot\u0026quot;:0.03237750240839532,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1552.6315789473683,\u0026quot;value\u0026quot;:0.0373974944750638,\u0026quot;value_plot\u0026quot;:0.0373974944750638,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1552.8822055137846,\u0026quot;value\u0026quot;:0.042762347313525295,\u0026quot;value_plot\u0026quot;:0.042762347313525295,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1553.1328320802004,\u0026quot;value\u0026quot;:0.048467710727352176,\u0026quot;value_plot\u0026quot;:0.048467710727352176,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1553.3834586466166,\u0026quot;value\u0026quot;:0.054508986614636656,\u0026quot;value_plot\u0026quot;:0.054508986614636656,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1553.6340852130327,\u0026quot;value\u0026quot;:0.06088133297101994,\u0026quot;value_plot\u0026quot;:0.06088133297101994,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1553.8847117794487,\u0026quot;value\u0026quot;:0.06757966806395826,\u0026quot;value_plot\u0026quot;:0.06757966806395826,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1554.1353383458647,\u0026quot;value\u0026quot;:0.07459867477437582,\u0026quot;value_plot\u0026quot;:0.07459867477437582,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1554.3859649122805,\u0026quot;value\u0026quot;:0.08193280510205969,\u0026quot;value_plot\u0026quot;:0.08193280510205969,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1554.6365914786968,\u0026quot;value\u0026quot;:0.08957628483059382,\u0026quot;value_plot\u0026quot;:0.08957628483059382,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1554.8872180451128,\u0026quot;value\u0026quot;:0.09752311834799188,\u0026quot;value_plot\u0026quot;:0.09752311834799188,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1555.1378446115289,\u0026quot;value\u0026quot;:0.10576709361876552,\u0026quot;value_plot\u0026quot;:0.10576709361876552,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1555.388471177945,\u0026quot;value\u0026quot;:0.1143017873031063,\u0026quot;value_plot\u0026quot;:0.1143017873031063,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1555.6390977443612,\u0026quot;value\u0026quot;:0.1231205700190634,\u0026quot;value_plot\u0026quot;:0.1231205700190634,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1555.889724310777,\u0026quot;value\u0026quot;:0.13221661174292637,\u0026quot;value_plot\u0026quot;:0.13221661174292637,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1556.140350877193,\u0026quot;value\u0026quot;:0.14158288734372065,\u0026quot;value_plot\u0026quot;:0.14158288734372065,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1556.390977443609,\u0026quot;value\u0026quot;:0.15121218224678873,\u0026quot;value_plot\u0026quot;:0.15121218224678873,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1556.641604010025,\u0026quot;value\u0026quot;:0.16109709822209073,\u0026quot;value_plot\u0026quot;:0.16109709822209073,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1556.8922305764413,\u0026quot;value\u0026quot;:0.17123005929234403,\u0026quot;value_plot\u0026quot;:0.17123005929234403,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1557.142857142857,\u0026quot;value\u0026quot;:0.18160331775612154,\u0026quot;value_plot\u0026quot;:0.18160331775612154,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1557.3934837092734,\u0026quot;value\u0026quot;:0.19220896032116985,\u0026quot;value_plot\u0026quot;:0.19220896032116985,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1557.6441102756892,\u0026quot;value\u0026quot;:0.20303891434289062,\u0026quot;value_plot\u0026quot;:0.20303891434289062,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1557.8947368421052,\u0026quot;value\u0026quot;:0.21408495416293782,\u0026quot;value_plot\u0026quot;:0.21408495416293782,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1558.1453634085215,\u0026quot;value\u0026quot;:0.22533870754304325,\u0026quot;value_plot\u0026quot;:0.22533870754304325,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1558.3959899749373,\u0026quot;value\u0026quot;:0.2367916621887211,\u0026quot;value_plot\u0026quot;:0.2367916621887211,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1558.6466165413535,\u0026quot;value\u0026quot;:0.24843517235795404,\u0026quot;value_plot\u0026quot;:0.24843517235795404,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1558.8972431077696,\u0026quot;value\u0026quot;:0.2602604655493909,\u0026quot;value_plot\u0026quot;:0.2602604655493909,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1559.1478696741856,\u0026quot;value\u0026quot;:0.2722586492650769,\u0026quot;value_plot\u0026quot;:0.2722586492650769,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1559.3984962406016,\u0026quot;value\u0026quot;:0.2844207178422087,\u0026quot;value_plot\u0026quot;:0.2844207178422087,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1559.6491228070174,\u0026quot;value\u0026quot;:0.29673755934890894,\u0026quot;value_plot\u0026quot;:0.29673755934890894,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1559.8997493734337,\u0026quot;value\u0026quot;:0.30919996253829285,\u0026quot;value_plot\u0026quot;:0.30919996253829285,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1560.1503759398497,\u0026quot;value\u0026quot;:0.3217986238558309,\u0026quot;value_plot\u0026quot;:0.3217986238558309,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1560.4010025062657,\u0026quot;value\u0026quot;:0.33452415449461215,\u0026quot;value_plot\u0026quot;:0.33452415449461215,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1560.6516290726818,\u0026quot;value\u0026quot;:0.34736708749283063,\u0026quot;value_plot\u0026quot;:0.34736708749283063,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1560.9022556390978,\u0026quot;value\u0026quot;:0.36031788486850824,\u0026quot;value_plot\u0026quot;:0.36031788486850824,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1561.1528822055138,\u0026quot;value\u0026quot;:0.37336694478576504,\u0026quot;value_plot\u0026quot;:0.37336694478576504,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1561.4035087719299,\u0026quot;value\u0026quot;:0.3865046087474414,\u0026quot;value_plot\u0026quot;:0.3865046087474414,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1561.654135338346,\u0026quot;value\u0026quot;:0.39972116880852876,\u0026quot;value_plot\u0026quot;:0.39972116880852876,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1561.904761904762,\u0026quot;value\u0026quot;:0.41300687480512266,\u0026quot;value_plot\u0026quot;:0.41300687480512266,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1562.1553884711782,\u0026quot;value\u0026quot;:0.42635194159361467,\u0026quot;value_plot\u0026quot;:0.42635194159361467,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1562.406015037594,\u0026quot;value\u0026quot;:0.439746556294447,\u0026quot;value_plot\u0026quot;:0.439746556294447,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1562.65664160401,\u0026quot;value\u0026quot;:0.4531808855355616,\u0026quot;value_plot\u0026quot;:0.4531808855355616,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1562.907268170426,\u0026quot;value\u0026quot;:0.46664508268973415,\u0026quot;value_plot\u0026quot;:0.46664508268973415,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1563.157894736842,\u0026quot;value\u0026quot;:0.4801292951009839,\u0026quot;value_plot\u0026quot;:0.4801292951009839,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1563.4085213032583,\u0026quot;value\u0026quot;:0.4936236712943859,\u0026quot;value_plot\u0026quot;:0.4936236712943859,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1563.6591478696741,\u0026quot;value\u0026quot;:0.5071183681643044,\u0026quot;value_plot\u0026quot;:0.5071183681643044,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1563.9097744360904,\u0026quot;value\u0026quot;:0.5206035581359401,\u0026quot;value_plot\u0026quot;:0.5206035581359401,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1564.1604010025062,\u0026quot;value\u0026quot;:0.534069436294628,\u0026quot;value_plot\u0026quot;:0.534069436294628,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1564.4110275689225,\u0026quot;value\u0026quot;:0.5475062274783629,\u0026quot;value_plot\u0026quot;:0.5475062274783629,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1564.6616541353385,\u0026quot;value\u0026quot;:0.5609041933280107,\u0026quot;value_plot\u0026quot;:0.5609041933280107,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1564.9122807017543,\u0026quot;value\u0026quot;:0.574253639290513,\u0026quot;value_plot\u0026quot;:0.574253639290513,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1565.1629072681706,\u0026quot;value\u0026quot;:0.5875449215700194,\u0026quot;value_plot\u0026quot;:0.5875449215700194,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1565.4135338345866,\u0026quot;value\u0026quot;:0.6007684540219645,\u0026quot;value_plot\u0026quot;:0.6007684540219645,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1565.6641604010026,\u0026quot;value\u0026quot;:0.6139147149856112,\u0026quot;value_plot\u0026quot;:0.6139147149856112,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1565.9147869674186,\u0026quot;value\u0026quot;:0.6269742540497889,\u0026quot;value_plot\u0026quot;:0.6269742540497889,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1566.1654135338345,\u0026quot;value\u0026quot;:0.6399376987476487,\u0026quot;value_plot\u0026quot;:0.6399376987476487,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1566.4160401002507,\u0026quot;value\u0026quot;:0.652795761175508,\u0026quot;value_plot\u0026quot;:0.652795761175508,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1566.6666666666667,\u0026quot;value\u0026quot;:0.6655392445311961,\u0026quot;value_plot\u0026quot;:0.6655392445311961,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1566.9172932330828,\u0026quot;value\u0026quot;:0.6781590495678211,\u0026quot;value_plot\u0026quot;:0.6781590495678211,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1567.1679197994988,\u0026quot;value\u0026quot;:0.6906461809580029,\u0026quot;value_plot\u0026quot;:0.6906461809580029,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1567.4185463659148,\u0026quot;value\u0026quot;:0.7029917535648207,\u0026quot;value_plot\u0026quot;:0.7029917535648207,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1567.6691729323309,\u0026quot;value\u0026quot;:0.715186998614876,\u0026quot;value_plot\u0026quot;:0.715186998614876,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1567.919799498747,\u0026quot;value\u0026quot;:0.7272232697695011,\u0026quot;value_plot\u0026quot;:0.7272232697695011,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1568.170426065163,\u0026quot;value\u0026quot;:0.7390920490901138,\u0026quot;value_plot\u0026quot;:0.7390920490901138,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1568.421052631579,\u0026quot;value\u0026quot;:0.7507849528935309,\u0026quot;value_plot\u0026quot;:0.7507849528935309,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1568.6716791979952,\u0026quot;value\u0026quot;:0.7622937374938159,\u0026quot;value_plot\u0026quot;:0.7622937374938159,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1568.922305764411,\u0026quot;value\u0026quot;:0.7736103048264833,\u0026quot;value_plot\u0026quot;:0.7736103048264833,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1569.1729323308273,\u0026quot;value\u0026quot;:0.7847267079516458,\u0026quot;value_plot\u0026quot;:0.7847267079516458,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1569.423558897243,\u0026quot;value\u0026quot;:0.7956351564325053,\u0026quot;value_plot\u0026quot;:0.7956351564325053,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1569.6741854636591,\u0026quot;value\u0026quot;:0.8063280215857704,\u0026quot;value_plot\u0026quot;:0.8063280215857704,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1569.9248120300754,\u0026quot;value\u0026quot;:0.8167978416005952,\u0026quot;value_plot\u0026quot;:0.8167978416005952,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1570.1754385964912,\u0026quot;value\u0026quot;:0.8270373265228244,\u0026quot;value_plot\u0026quot;:0.8270373265228244,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1570.4260651629074,\u0026quot;value\u0026quot;:0.8370393631015811,\u0026quot;value_plot\u0026quot;:0.8370393631015811,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1570.6766917293232,\u0026quot;value\u0026quot;:0.8467970194949336,\u0026quot;value_plot\u0026quot;:0.8467970194949336,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1570.9273182957395,\u0026quot;value\u0026quot;:0.8563035498319898,\u0026quot;value_plot\u0026quot;:0.8563035498319898,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1571.1779448621555,\u0026quot;value\u0026quot;:0.8655523986284536,\u0026quot;value_plot\u0026quot;:0.8655523986284536,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1571.4285714285713,\u0026quot;value\u0026quot;:0.8745372050532041,\u0026quot;value_plot\u0026quot;:0.8745372050532041,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1571.6791979949876,\u0026quot;value\u0026quot;:0.8832518070430675,\u0026quot;value_plot\u0026quot;:0.8832518070430675,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1571.9298245614036,\u0026quot;value\u0026quot;:0.8916902452636517,\u0026quot;value_plot\u0026quot;:0.8916902452636517,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1572.1804511278197,\u0026quot;value\u0026quot;:0.8998467669137986,\u0026quot;value_plot\u0026quot;:0.8998467669137986,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1572.4310776942357,\u0026quot;value\u0026quot;:0.9077158293713881,\u0026quot;value_plot\u0026quot;:0.9077158293713881,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1572.6817042606517,\u0026quot;value\u0026quot;:0.9152921036787258,\u0026quot;value_plot\u0026quot;:0.9152921036787258,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1572.9323308270677,\u0026quot;value\u0026quot;:0.9225704778652069,\u0026quot;value_plot\u0026quot;:0.9225704778652069,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1573.1829573934838,\u0026quot;value\u0026quot;:0.9295460601058338,\u0026quot;value_plot\u0026quot;:0.9295460601058338,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1573.4335839598998,\u0026quot;value\u0026quot;:0.9362141817135512,\u0026quot;value_plot\u0026quot;:0.9362141817135512,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1573.6842105263158,\u0026quot;value\u0026quot;:0.942570399964116,\u0026quot;value_plot\u0026quot;:0.942570399964116,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1573.9348370927319,\u0026quot;value\u0026quot;:0.9486105007519554,\u0026quot;value_plot\u0026quot;:0.9486105007519554,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1574.185463659148,\u0026quot;value\u0026quot;:0.9543305010756424,\u0026quot;value_plot\u0026quot;:0.9543305010756424,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1574.436090225564,\u0026quot;value\u0026quot;:0.9597266513520148,\u0026quot;value_plot\u0026quot;:0.9597266513520148,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1574.68671679198,\u0026quot;value\u0026quot;:0.9647954375576419,\u0026quot;value_plot\u0026quot;:0.9647954375576419,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1574.937343358396,\u0026quot;value\u0026quot;:0.9695335831969301,\u0026quot;value_plot\u0026quot;:0.9695335831969301,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1575.187969924812,\u0026quot;value\u0026quot;:0.9739380510959401,\u0026quot;value_plot\u0026quot;:0.9739380510959401,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1575.438596491228,\u0026quot;value\u0026quot;:0.9780060450213011,\u0026quot;value_plot\u0026quot;:0.9780060450213011,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1575.6892230576443,\u0026quot;value\u0026quot;:0.9817350111237132,\u0026quot;value_plot\u0026quot;:0.9817350111237132,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1575.9398496240601,\u0026quot;value\u0026quot;:0.9851226392055019,\u0026quot;value_plot\u0026quot;:0.9851226392055019,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1576.1904761904764,\u0026quot;value\u0026quot;:0.9881668638121296,\u0026quot;value_plot\u0026quot;:0.9881668638121296,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1576.4411027568924,\u0026quot;value\u0026quot;:0.9908658651473211,\u0026quot;value_plot\u0026quot;:0.9908658651473211,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1576.6917293233082,\u0026quot;value\u0026quot;:0.9932180698119073,\u0026quot;value_plot\u0026quot;:0.9932180698119073,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1576.9423558897245,\u0026quot;value\u0026quot;:0.9952221513663824,\u0026quot;value_plot\u0026quot;:0.9952221513663824,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1577.1929824561403,\u0026quot;value\u0026quot;:0.9968770307174477,\u0026quot;value_plot\u0026quot;:0.9968770307174477,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1577.4436090225565,\u0026quot;value\u0026quot;:0.9981818763288771,\u0026quot;value_plot\u0026quot;:0.9981818763288771,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1577.6942355889726,\u0026quot;value\u0026quot;:0.9991361042571394,\u0026quot;value_plot\u0026quot;:0.9991361042571394,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1577.9448621553884,\u0026quot;value\u0026quot;:0.9997393780123984,\u0026quot;value_plot\u0026quot;:0.9997393780123984,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1578.1954887218046,\u0026quot;value\u0026quot;:0.9999916082455704,\u0026quot;value_plot\u0026quot;:0.9999916082455704,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1578.4461152882207,\u0026quot;value\u0026quot;:0.9998929522622817,\u0026quot;value_plot\u0026quot;:0.9998929522622817,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1578.6967418546367,\u0026quot;value\u0026quot;:0.9994438133646706,\u0026quot;value_plot\u0026quot;:0.9994438133646706,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1578.9473684210527,\u0026quot;value\u0026quot;:0.9986448400220909,\u0026quot;value_plot\u0026quot;:0.9986448400220909,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1579.1979949874687,\u0026quot;value\u0026quot;:0.9974969248719031,\u0026quot;value_plot\u0026quot;:0.9974969248719031,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1579.4486215538848,\u0026quot;value\u0026quot;:0.9960012035516486,\u0026quot;value_plot\u0026quot;:0.9960012035516486,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1579.699248120301,\u0026quot;value\u0026quot;:0.9941590533640091,\u0026quot;value_plot\u0026quot;:0.9941590533640091,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1579.9498746867168,\u0026quot;value\u0026quot;:0.991972091776087,\u0026quot;value_plot\u0026quot;:0.991972091776087,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1580.2005012531329,\u0026quot;value\u0026quot;:0.9894421747545993,\u0026quot;value_plot\u0026quot;:0.9894421747545993,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1580.451127819549,\u0026quot;value\u0026quot;:0.9865713949387969,\u0026quot;value_plot\u0026quot;:0.9865713949387969,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1580.701754385965,\u0026quot;value\u0026quot;:0.9833620796528723,\u0026quot;value_plot\u0026quot;:0.9833620796528723,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1580.9523809523812,\u0026quot;value\u0026quot;:0.9798167887598629,\u0026quot;value_plot\u0026quot;:0.9798167887598629,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1581.203007518797,\u0026quot;value\u0026quot;:0.9759383123590939,\u0026quot;value_plot\u0026quot;:0.9759383123590939,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1581.453634085213,\u0026quot;value\u0026quot;:0.9717296683292936,\u0026quot;value_plot\u0026quot;:0.9717296683292936,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1581.704260651629,\u0026quot;value\u0026quot;:0.9671940997196804,\u0026quot;value_plot\u0026quot;:0.9671940997196804,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1581.954887218045,\u0026quot;value\u0026quot;:0.9623350719913397,\u0026quot;value_plot\u0026quot;:0.9623350719913397,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1582.2055137844613,\u0026quot;value\u0026quot;:0.9571562701113201,\u0026quot;value_plot\u0026quot;:0.9571562701113201,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1582.4561403508771,\u0026quot;value\u0026quot;:0.9516615955020921,\u0026quot;value_plot\u0026quot;:0.9516615955020921,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1582.7067669172934,\u0026quot;value\u0026quot;:0.9458551628488125,\u0026quot;value_plot\u0026quot;:0.9458551628488125,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1582.9573934837094,\u0026quot;value\u0026quot;:0.9397412967673848,\u0026quot;value_plot\u0026quot;:0.9397412967673848,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1583.2080200501252,\u0026quot;value\u0026quot;:0.9333245283358207,\u0026quot;value_plot\u0026quot;:0.9333245283358207,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1583.4586466165415,\u0026quot;value\u0026quot;:0.9266095914920145,\u0026quot;value_plot\u0026quot;:0.9266095914920145,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1583.7092731829573,\u0026quot;value\u0026quot;:0.9196014193008519,\u0026quot;value_plot\u0026quot;:0.9196014193008519,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1583.9598997493736,\u0026quot;value\u0026quot;:0.912305140093602,\u0026quot;value_plot\u0026quot;:0.912305140093602,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1584.2105263157896,\u0026quot;value\u0026quot;:0.9047260734828944,\u0026quot;value_plot\u0026quot;:0.9047260734828944,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1584.4611528822056,\u0026quot;value\u0026quot;:0.8968697262562697,\u0026quot;value_plot\u0026quot;:0.8968697262562697,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1584.7117794486217,\u0026quot;value\u0026quot;:0.8887417881518367,\u0026quot;value_plot\u0026quot;:0.8887417881518367,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1584.9624060150377,\u0026quot;value\u0026quot;:0.8803481275191272,\u0026quot;value_plot\u0026quot;:0.8803481275191272,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1585.2130325814537,\u0026quot;value\u0026quot;:0.8716947868686529,\u0026quot;value_plot\u0026quot;:0.8716947868686529,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1585.4636591478697,\u0026quot;value\u0026quot;:0.8627879783137792,\u0026quot;value_plot\u0026quot;:0.8627879783137792,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1585.7142857142858,\u0026quot;value\u0026quot;:0.853634078908112,\u0026quot;value_plot\u0026quot;:0.853634078908112,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1585.9649122807018,\u0026quot;value\u0026quot;:0.8442396258823914,\u0026quot;value_plot\u0026quot;:0.8442396258823914,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1586.215538847118,\u0026quot;value\u0026quot;:0.8346113117841674,\u0026quot;value_plot\u0026quot;:0.8346113117841674,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1586.4661654135339,\u0026quot;value\u0026quot;:0.8247559795242331,\u0026quot;value_plot\u0026quot;:0.8247559795242331,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1586.71679197995,\u0026quot;value\u0026quot;:0.814680617333349,\u0026quot;value_plot\u0026quot;:0.814680617333349,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1586.967418546366,\u0026quot;value\u0026quot;:0.8043923536332431,\u0026quot;value_plot\u0026quot;:0.8043923536332431,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1587.218045112782,\u0026quot;value\u0026quot;:0.7938984518255843,\u0026quot;value_plot\u0026quot;:0.7938984518255843,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1587.4686716791982,\u0026quot;value\u0026quot;:0.7832063050028316,\u0026quot;value_plot\u0026quot;:0.7832063050028316,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1587.719298245614,\u0026quot;value\u0026quot;:0.7723234305849653,\u0026quot;value_plot\u0026quot;:0.7723234305849653,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1587.9699248120303,\u0026quot;value\u0026quot;:0.7612574648858329,\u0026quot;value_plot\u0026quot;:0.7612574648858329,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1588.220551378446,\u0026quot;value\u0026quot;:0.7500161576134756,\u0026quot;value_plot\u0026quot;:0.7500161576134756,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1588.4711779448621,\u0026quot;value\u0026quot;:0.7386073663079457,\u0026quot;value_plot\u0026quot;:0.7386073663079457,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1588.7218045112784,\u0026quot;value\u0026quot;:0.7270390507211401,\u0026quot;value_plot\u0026quot;:0.7270390507211401,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1588.9724310776942,\u0026quot;value\u0026quot;:0.7153192671423553,\u0026quot;value_plot\u0026quot;:0.7153192671423553,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1589.2230576441104,\u0026quot;value\u0026quot;:0.7034561626738556,\u0026quot;value_plot\u0026quot;:0.7034561626738556,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1589.4736842105265,\u0026quot;value\u0026quot;:0.6914579694604602,\u0026quot;value_plot\u0026quot;:0.6914579694604602,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1589.7243107769423,\u0026quot;value\u0026quot;:0.6793329988772417,\u0026quot;value_plot\u0026quot;:0.6793329988772417,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1589.9749373433585,\u0026quot;value\u0026quot;:0.6670896356795866,\u0026quot;value_plot\u0026quot;:0.6670896356795866,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1590.2255639097743,\u0026quot;value\u0026quot;:0.6547363321196935,\u0026quot;value_plot\u0026quot;:0.6547363321196935,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1590.4761904761906,\u0026quot;value\u0026quot;:0.6422816020334892,\u0026quot;value_plot\u0026quot;:0.6422816020334892,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1590.7268170426066,\u0026quot;value\u0026quot;:0.6297340149024466,\u0026quot;value_plot\u0026quot;:0.6297340149024466,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1590.9774436090227,\u0026quot;value\u0026quot;:0.6171021898940654,\u0026quot;value_plot\u0026quot;:0.6171021898940654,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1591.2280701754387,\u0026quot;value\u0026quot;:0.6043947898855625,\u0026quot;value_plot\u0026quot;:0.6043947898855625,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1591.4786967418547,\u0026quot;value\u0026quot;:0.5916205154745043,\u0026quot;value_plot\u0026quot;:0.5916205154745043,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1591.7293233082708,\u0026quot;value\u0026quot;:0.5787880989808576,\u0026quot;value_plot\u0026quot;:0.5787880989808576,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1591.9799498746868,\u0026quot;value\u0026quot;:0.5659062984443334,\u0026quot;value_plot\u0026quot;:0.5659062984443334,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1592.2305764411028,\u0026quot;value\u0026quot;:0.5529838916212314,\u0026quot;value_plot\u0026quot;:0.5529838916212314,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1592.4812030075188,\u0026quot;value\u0026quot;:0.540029669984973,\u0026quot;value_plot\u0026quot;:0.540029669984973,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1592.731829573935,\u0026quot;value\u0026quot;:0.5270524327341346,\u0026quot;value_plot\u0026quot;:0.5270524327341346,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1592.982456140351,\u0026quot;value\u0026quot;:0.514060980812302,\u0026quot;value_plot\u0026quot;:0.514060980812302,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1593.233082706767,\u0026quot;value\u0026quot;:0.5010641109436103,\u0026quot;value_plot\u0026quot;:0.5010641109436103,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1593.483709273183,\u0026quot;value\u0026quot;:0.4880706096879557,\u0026quot;value_plot\u0026quot;:0.4880706096879557,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1593.734335839599,\u0026quot;value\u0026quot;:0.47508924752002685,\u0026quot;value_plot\u0026quot;:0.47508924752002685,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1593.9849624060153,\u0026quot;value\u0026quot;:0.46212877293579013,\u0026quot;value_plot\u0026quot;:0.46212877293579013,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1594.235588972431,\u0026quot;value\u0026quot;:0.4491979065906988,\u0026quot;value_plot\u0026quot;:0.4491979065906988,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1594.4862155388473,\u0026quot;value\u0026quot;:0.4363053354730492,\u0026quot;value_plot\u0026quot;:0.4363053354730492,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1594.7368421052631,\u0026quot;value\u0026quot;:0.4234597071168309,\u0026quot;value_plot\u0026quot;:0.4234597071168309,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1594.9874686716792,\u0026quot;value\u0026quot;:0.4106696238573062,\u0026quot;value_plot\u0026quot;:0.4106696238573062,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1595.2380952380954,\u0026quot;value\u0026quot;:0.3979436371334387,\u0026quot;value_plot\u0026quot;:0.3979436371334387,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1595.4887218045112,\u0026quot;value\u0026quot;:0.38529024184082833,\u0026quot;value_plot\u0026quot;:0.38529024184082833,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1595.7393483709275,\u0026quot;value\u0026quot;:0.37271787073845297,\u0026quot;value_plot\u0026quot;:0.37271787073845297,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1595.9899749373435,\u0026quot;value\u0026quot;:0.36023488891336897,\u0026quot;value_plot\u0026quot;:0.36023488891336897,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1596.2406015037595,\u0026quot;value\u0026quot;:0.34784958830629453,\u0026quot;value_plot\u0026quot;:0.34784958830629453,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1596.4912280701756,\u0026quot;value\u0026quot;:0.3355701823020949,\u0026quot;value_plot\u0026quot;:0.3355701823020949,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1596.7418546365914,\u0026quot;value\u0026quot;:0.3234048003881722,\u0026quot;value_plot\u0026quot;:0.3234048003881722,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1596.9924812030076,\u0026quot;value\u0026quot;:0.31136148288439414,\u0026quot;value_plot\u0026quot;:0.31136148288439414,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1597.2431077694237,\u0026quot;value\u0026quot;:0.2994481757477793,\u0026quot;value_plot\u0026quot;:0.2994481757477793,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1597.4937343358397,\u0026quot;value\u0026quot;:0.28767272545508227,\u0026quot;value_plot\u0026quot;:0.28767272545508227,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1597.7443609022557,\u0026quot;value\u0026quot;:0.27604287396660787,\u0026quot;value_plot\u0026quot;:0.27604287396660787,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1597.9949874686718,\u0026quot;value\u0026quot;:0.26456625377422643,\u0026quot;value_plot\u0026quot;:0.26456625377422643,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1598.2456140350878,\u0026quot;value\u0026quot;:0.25325038303668246,\u0026quot;value_plot\u0026quot;:0.25325038303668246,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1598.4962406015038,\u0026quot;value\u0026quot;:0.24210266080520193,\u0026quot;value_plot\u0026quot;:0.24210266080520193,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1598.7468671679198,\u0026quot;value\u0026quot;:0.2311303623421695,\u0026quot;value_plot\u0026quot;:0.2311303623421695,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1598.9974937343359,\u0026quot;value\u0026quot;:0.22034063453577352,\u0026quot;value_plot\u0026quot;:0.22034063453577352,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1599.2481203007521,\u0026quot;value\u0026quot;:0.2097404914134232,\u0026quot;value_plot\u0026quot;:0.2097404914134232,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1599.498746867168,\u0026quot;value\u0026quot;:0.1993368097564236,\u0026quot;value_plot\u0026quot;:0.1993368097564236,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1599.7493734335842,\u0026quot;value\u0026quot;:0.1891363248185779,\u0026quot;value_plot\u0026quot;:0.1891363248185779,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;},{\u0026quot;wavelength_nm\u0026quot;:1600.0,\u0026quot;value\u0026quot;:0.17914562615140267,\u0026quot;value_plot\u0026quot;:0.17914562615140267,\u0026quot;curve\u0026quot;:\u0026quot;Analytic through\u0026quot;}]},\u0026quot;mark\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;line\u0026quot;,\u0026quot;point\u0026quot;:true},\u0026quot;encoding\u0026quot;:{\u0026quot;color\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;curve\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Curve\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;},\u0026quot;tooltip\u0026quot;:[{\u0026quot;field\u0026quot;:\u0026quot;wavelength_nm\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Wavelength (nm)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;value\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Through power\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},{\u0026quot;field\u0026quot;:\u0026quot;curve\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Curve\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;nominal\u0026quot;}],\u0026quot;x\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;wavelength_nm\u0026quot;,\u0026quot;title\u0026quot;:\u0026quot;Wavelength (nm)\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;},\u0026quot;y\u0026quot;:{\u0026quot;field\u0026quot;:\u0026quot;value\u0026quot;,\u0026quot;scale\u0026quot;:{\u0026quot;domain\u0026quot;:[0,1]},\u0026quot;title\u0026quot;:\u0026quot;Through power\u0026quot;,\u0026quot;type\u0026quot;:\u0026quot;quantitative\u0026quot;}},\u0026quot;height\u0026quot;:250,\u0026quot;params\u0026quot;:[{\u0026quot;name\u0026quot;:\u0026quot;param_1e9efca18e7a2868\u0026quot;,\u0026quot;select\u0026quot;:{\u0026quot;type\u0026quot;:\u0026quot;interval\u0026quot;,\u0026quot;encodings\u0026quot;:[\u0026quot;x\u0026quot;,\u0026quot;y\u0026quot;]},\u0026quot;bind\u0026quot;:\u0026quot;scales\u0026quot;}],\u0026quot;title\u0026quot;:\u0026quot;MZI transfer function\u0026quot;,\u0026quot;width\u0026quot;:500,\u0026quot;\u0026#36;schema\u0026quot;:\u0026quot;https://vega.github.io/schema/vega-lite/v6.1.0.json\u0026quot;}' data-chart-selection='true' data-field-selection='true' data-embed-options='{}'\u003E\u003C/marimo-vega\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cdiv class=\"doc-badges\" style=\"margin: 0.35rem 0 0.25rem 0;\"\u003E\u003Cspan class=\"doc-badge\"\u003E\u0394L = \u003Cstrong\u003E10.0 \u00b5m\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003EFSR \u2248 \u003Cstrong\u003E57.34 nm\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003E|d\u0394\u03c6/d\u03bb|@\u03bb0 \u2248 \u003Cstrong\u003E0.11 rad/nm\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003Espan = \u003Cstrong\u003E100 nm\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003E~ fringes in view \u2248 \u003Cstrong\u003E1.7\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003EView: \u003Cstrong\u003EAnalytic only\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003EUpdate: \u003Cstrong\u003ELive\u003C/strong\u003E\u003C/span\u003E\u003Cspan class=\"doc-badge\"\u003ESimphony: \u003Cstrong\u003E(not requested)\u003C/strong\u003E\u003C/span\u003E\u003C/div\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='rEll-0' random-id='cce7a730-2f81-da9c-28f9-7fb6a9712ca7'\u003E\u003Cmarimo-download data-initial-value='null' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Download CSV\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-data='\u0026quot;data:text/csv;base64,d2F2ZWxlbmd0aF9ubSx2YWx1ZSx2YWx1ZV9wbG90LGN1cnZlDQoxNTAwLjAsMC4xMjUwNTYxODQwMjgwNjA2OCwwLjEyNTA1NjE4NDAyODA2MDY4LEFuYWx5dGljIHRocm91Z2gNCjE1MDAuMjUwNjI2NTY2NDE2LDAuMTM0OTE0NTM2NjkyMzMyNzgsMC4xMzQ5MTQ1MzY2OTIzMzI3OCxBbmFseXRpYyB0aHJvdWdoDQoxNTAwLjUwMTI1MzEzMjgzMiwwLjE0NTA4MzI3MDQxNjk0NjI0LDAuMTQ1MDgzMjcwNDE2OTQ2MjQsQW5hbHl0aWMgdGhyb3VnaA0KMTUwMC43NTE4Nzk2OTkyNDgsMC4xNTU1NTMzNDE3MDMxMjE1NywwLjE1NTU1MzM0MTcwMzEyMTU3LEFuYWx5dGljIHRocm91Z2gNCjE1MDEuMDAyNTA2MjY1NjY0MSwwLjE2NjMxNTQ2MzM4Mzk4MDUsMC4xNjYzMTU0NjMzODM5ODA1LEFuYWx5dGljIHRocm91Z2gNCjE1MDEuMjUzMTMyODMyMDgwMiwwLjE3NzM2MDExMzE3MDY4MDQ2LDAuMTc3MzYwMTEzMTcwNjgwNDYsQW5hbHl0aWMgdGhyb3VnaA0KMTUwMS41MDM3NTkzOTg0OTY0LDAuMTg4Njc3NTQyMzc1MjE5NTUsMC4xODg2Nzc1NDIzNzUyMTk1NSxBbmFseXRpYyB0aHJvdWdoDQoxNTAxLjc1NDM4NTk2NDkxMjIsMC4yMDAyNTc3ODQ4MDE0NTk0LDAuMjAwMjU3Nzg0ODAxNDU5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTAyLjAwNTAxMjUzMTMyODIsMC4yMTIwOTA2NjU3OTYxNjY4NywwLjIxMjA5MDY2NTc5NjE2Njg3LEFuYWx5dGljIHRocm91Z2gNCjE1MDIuMjU1NjM5MDk3NzQ0NSwwLjIyNDE2NTgxMTQ1MTgyNzMsMC4yMjQxNjU4MTE0NTE4MjczLEFuYWx5dGljIHRocm91Z2gNCjE1MDIuNTA2MjY1NjY0MTYwMywwLjIzNjQ3MjY1Nzk1MjU0NjY4LDAuMjM2NDcyNjU3OTUyNTQ2NjgsQW5hbHl0aWMgdGhyb3VnaA0KMTUwMi43NTY4OTIyMzA1NzY2LDAuMjQ5MDAwNDYxMDU0ODAwMzQsMC4yNDkwMDA0NjEwNTQ4MDAzNCxBbmFseXRpYyB0aHJvdWdoDQoxNTAzLjAwNzUxODc5Njk5MjQsMC4yNjE3MzgzMDU2OTQwNTA3NywwLjI2MTczODMwNTY5NDA1MDc3LEFuYWx5dGljIHRocm91Z2gNCjE1MDMuMjU4MTQ1MzYzNDA4NiwwLjI3NDY3NTExNTcwODg3ODE1LDAuMjc0Njc1MTE1NzA4ODc4MTUsQW5hbHl0aWMgdGhyb3VnaA0KMTUwMy41MDg3NzE5Mjk4MjQ3LDAuMjg3Nzk5NjYzNjczNTgyOCwwLjI4Nzc5OTY2MzY3MzU4MjgsQW5hbHl0aWMgdGhyb3VnaA0KMTUwMy43NTkzOTg0OTYyNDA1LDAuMzAxMTAwNTgwODMwNzU1OTcsMC4zMDExMDA1ODA4MzA3NTU5NyxBbmFseXRpYyB0aHJvdWdoDQoxNTA0LjAxMDAyNTA2MjY1NjcsMC4zMTQ1NjYzNjcxMTQ1MjMyNCwwLjMxNDU2NjM2NzExNDUyMzI0LEFuYWx5dGljIHRocm91Z2gNCjE1MDQuMjYwNjUxNjI5MDcyNSwwLjMyODE4NTQwMTI1NTk3NDUsMC4zMjgxODU0MDEyNTU5NzQ1LEFuYWx5dGljIHRocm91Z2gNCjE1MDQuNTExMjc4MTk1NDg4OCwwLjM0MTk0NTk1MDk2MTc1ODA2LDAuMzQxOTQ1OTUwOTYxNzU4MDYsQW5hbHl0aWMgdGhyb3VnaA0KMTUwNC43NjE5MDQ3NjE5MDQ4LDAuMzU1ODM2MTgzMTU2NTY0OCwwLjM1NTgzNjE4MzE1NjU2NDgsQW5hbHl0aWMgdGhyb3VnaA0KMTUwNS4wMTI1MzEzMjgzMjA4LDAuMzY5ODQ0MTc0MjgxMDcwNzUsMC4zNjk4NDQxNzQyODEwNzA3NSxBbmFseXRpYyB0aHJvdWdoDQoxNTA1LjI2MzE1Nzg5NDczNjksMC4zODM5NTc5MjA2MzU3ODA2NiwwLjM4Mzk1NzkyMDYzNTc4MDY2LEFuYWx5dGljIHRocm91Z2gNCjE1MDUuNTEzNzg0NDYxMTUzLDAuMzk4MTY1MzQ4NzYyMzI1MjMsMC4zOTgxNjUzNDg3NjIzMjUyMyxBbmFseXRpYyB0aHJvdWdoDQoxNTA1Ljc2NDQxMTAyNzU2OSwwLjQxMjQ1NDMyNTg1MjgwOTU2LDAuNDEyNDU0MzI1ODUyODA5NTYsQW5hbHl0aWMgdGhyb3VnaA0KMTUwNi4wMTUwMzc1OTM5ODUsMC40MjY4MTI2NzAxNzg0NywwLjQyNjgxMjY3MDE3ODQ3LEFuYWx5dGljIHRocm91Z2gNCjE1MDYuMjY1NjY0MTYwNDAxLDAuNDQxMjI4MTYxNTI4Nzk2MjQsMC40NDEyMjgxNjE1Mjg3OTYyNCxBbmFseXRpYyB0aHJvdWdoDQoxNTA2LjUxNjI5MDcyNjgxNywwLjQ1NTY4ODU1MTY1MTgwMzU1LDAuNDU1Njg4NTUxNjUxODAzNTUsQW5hbHl0aWMgdGhyb3VnaA0KMTUwNi43NjY5MTcyOTMyMzMzLDAuNDcwMTgxNTc0Njg3MTg5MTMsMC40NzAxODE1NzQ2ODcxODkxMyxBbmFseXRpYyB0aHJvdWdoDQoxNTA3LjAxNzU0Mzg1OTY0OSwwLjQ4NDY5NDk1NzU4Mjg5ODU0LDAuNDg0Njk0OTU3NTgyODk4NTQsQW5hbHl0aWMgdGhyb3VnaA0KMTUwNy4yNjgxNzA0MjYwNjUxLDAuNDk5MjE2NDMwNDg2OTQzNTMsMC40OTkyMTY0MzA0ODY5NDM1MyxBbmFseXRpYyB0aHJvdWdoDQoxNTA3LjUxODc5Njk5MjQ4MTIsMC41MTM3MzM3MzcxMDUxODIxLDAuNTEzNzMzNzM3MTA1MTgyMSxBbmFseXRpYyB0aHJvdWdoDQoxNTA3Ljc2OTQyMzU1ODg5NzIsMC41MjgyMzQ2NDUwMTY4NTI5LDAuNTI4MjM0NjQ1MDE2ODUyOSxBbmFseXRpYyB0aHJvdWdoDQoxNTA4LjAyMDA1MDEyNTMxMzQsMC41NDI3MDY5NTU5MzkxNzM2LDAuNTQyNzA2OTU1OTM5MTczNixBbmFseXRpYyB0aHJvdWdoDQoxNTA4LjI3MDY3NjY5MTcyOTIsMC41NTcxMzg1MTU5MzIyNDc4LDAuNTU3MTM4NTE1OTMyMjQ3OCxBbmFseXRpYyB0aHJvdWdoDQoxNTA4LjUyMTMwMzI1ODE0NTMsMC41NzE1MTcyMjU1MzYyOTY0LDAuNTcxNTE3MjI1NTM2Mjk2NCxBbmFseXRpYyB0aHJvdWdoDQoxNTA4Ljc3MTkyOTgyNDU2MTUsMC41ODU4MzEwNDk4MzI2MjEyLDAuNTg1ODMxMDQ5ODMyNjIxMixBbmFseXRpYyB0aHJvdWdoDQoxNTA5LjAyMjU1NjM5MDk3NzMsMC42MDAwNjgwMjg0MjAwMTQzLDAuNjAwMDY4MDI4NDIwMDE0MyxBbmFseXRpYyB0aHJvdWdoDQoxNTA5LjI3MzE4Mjk1NzM5MzYsMC42MTQyMTYyODUyOTg5MjEsMC42MTQyMTYyODUyOTg5MjEsQW5hbHl0aWMgdGhyb3VnaA0KMTUwOS41MjM4MDk1MjM4MDk0LDAuNjI4MjY0MDM4NjU0Nzc5NiwwLjYyODI2NDAzODY1NDc3OTYsQW5hbHl0aWMgdGhyb3VnaA0KMTUwOS43NzQ0MzYwOTAyMjU3LDAuNjQyMTk5NjEwNTMzMjUwNiwwLjY0MjE5OTYxMDUzMzI1MDYsQW5hbHl0aWMgdGhyb3VnaA0KMTUxMC4wMjUwNjI2NTY2NDE3LDAuNjU2MDExNDM2Mzk5MDM0OSwwLjY1NjAxMTQzNjM5OTAzNDksQW5hbHl0aWMgdGhyb3VnaA0KMTUxMC4yNzU2ODkyMjMwNTc1LDAuNjY5Njg4MDc0NTcxMTUwMSwwLjY2OTY4ODA3NDU3MTE1MDEsQW5hbHl0aWMgdGhyb3VnaA0KMTUxMC41MjYzMTU3ODk0NzM4LDAuNjgzMjE4MjE1NTI2ODg3LDAuNjgzMjE4MjE1NTI2ODg3LEFuYWx5dGljIHRocm91Z2gNCjE1MTAuNzc2OTQyMzU1ODg5NiwwLjY5NjU5MDY5MTA2NzA0NTcsMC42OTY1OTA2OTEwNjcwNDU3LEFuYWx5dGljIHRocm91Z2gNCjE1MTEuMDI3NTY4OTIyMzA1OCwwLjcwOTc5NDQ4MzMzNTczOCwwLjcwOTc5NDQ4MzMzNTczOCxBbmFseXRpYyB0aHJvdWdoDQoxNTExLjI3ODE5NTQ4ODcyMTgsMC43MjI4MTg3MzM2ODY5NDQ0LDAuNzIyODE4NzMzNjg2OTQ0NCxBbmFseXRpYyB0aHJvdWdoDQoxNTExLjUyODgyMjA1NTEzNzksMC43MzU2NTI3NTEzOTE3NzgxLDAuNzM1NjUyNzUxMzkxNzc4MSxBbmFseXRpYyB0aHJvdWdoDQoxNTExLjc3OTQ0ODYyMTU1NCwwLjc0ODI4NjAyMjE3OTA4NTksMC43NDgyODYwMjIxNzkwODU5LEFuYWx5dGljIHRocm91Z2gNCjE1MTIuMDMwMDc1MTg3OTcsMC43NjA3MDgyMTY2MDMyMjMxLDAuNzYwNzA4MjE2NjAzMjIzMSxBbmFseXRpYyB0aHJvdWdoDQoxNTEyLjI4MDcwMTc1NDM4NiwwLjc3MjkwOTE5ODIzMjUwNiwwLjc3MjkwOTE5ODIzMjUwNixBbmFseXRpYyB0aHJvdWdoDQoxNTEyLjUzMTMyODMyMDgwMiwwLjc4NDg3OTAzMTY1MjAzNzUsMC43ODQ4NzkwMzE2NTIwMzc1LEFuYWx5dGljIHRocm91Z2gNCjE1MTIuNzgxOTU0ODg3MjE4LDAuNzk2NjA3OTkwMjc1MTczNCwwLjc5NjYwNzk5MDI3NTE3MzQsQW5hbHl0aWMgdGhyb3VnaA0KMTUxMy4wMzI1ODE0NTM2MzQsMC44MDgwODY1NjM5NTc0Njg2LDAuODA4MDg2NTYzOTU3NDY4NixBbmFseXRpYyB0aHJvdWdoDQoxNTEzLjI4MzIwODAyMDA1MDMsMC44MTkzMDU0NjY0MDc3NTk3LDAuODE5MzA1NDY2NDA3NzU5NyxBbmFseXRpYyB0aHJvdWdoDQoxNTEzLjUzMzgzNDU4NjQ2NjEsMC44MzAyNTU2NDIzOTA3MDA4LDAuODMwMjU1NjQyMzkwNzAwOCxBbmFseXRpYyB0aHJvdWdoDQoxNTEzLjc4NDQ2MTE1Mjg4MjIsMC44NDA5MjgyNzQ3MTU3MjE2LDAuODQwOTI4Mjc0NzE1NzIxNixBbmFseXRpYyB0aHJvdWdoDQoxNTE0LjAzNTA4NzcxOTI5ODIsMC44NTEzMTQ3OTEwMDcxNzQ2LDAuODUxMzE0NzkxMDA3MTc0NixBbmFseXRpYyB0aHJvdWdoDQoxNTE0LjI4NTcxNDI4NTcxNDIsMC44NjE0MDY4NzAyNTA5MjMsMC44NjE0MDY4NzAyNTA5MjMsQW5hbHl0aWMgdGhyb3VnaA0KMTUxNC41MzYzNDA4NTIxMzA1LDAuODcxMTk2NDQ5MTEyNzc2OSwwLjg3MTE5NjQ0OTExMjc3NjksQW5hbHl0aWMgdGhyb3VnaA0KMTUxNC43ODY5Njc0MTg1NDYzLDAuODgwNjc1NzI4MDI0Mjc3LDAuODgwNjc1NzI4MDI0Mjc3LEFuYWx5dGljIHRocm91Z2gNCjE1MTUuMDM3NTkzOTg0OTYyNSwwLjg4OTgzNzE3NzAzMTYyMTgsMC44ODk4MzcxNzcwMzE2MjE4LEFuYWx5dGljIHRocm91Z2gNCjE1MTUuMjg4MjIwNTUxMzc4NiwwLjg5ODY3MzU0MTQwMzc1OSwwLjg5ODY3MzU0MTQwMzc1OSxBbmFseXRpYyB0aHJvdWdoDQoxNTE1LjUzODg0NzExNzc5NDQsMC45MDcxNzc4NDY5OTU5Njg0LDAuOTA3MTc3ODQ2OTk1OTY4NCxBbmFseXRpYyB0aHJvdWdoDQoxNTE1Ljc4OTQ3MzY4NDIxMDYsMC45MTUzNDM0MDUzNjUwOTU1LDAuOTE1MzQzNDA1MzY1MDk1NSxBbmFseXRpYyB0aHJvdWdoDQoxNTE2LjA0MDEwMDI1MDYyNjQsMC45MjMxNjM4MTg2MzM0MTQ2LDAuOTIzMTYzODE4NjMzNDE0NixBbmFseXRpYyB0aHJvdWdoDQoxNTE2LjI5MDcyNjgxNzA0MjcsMC45MzA2MzI5ODQwOTc4NjgzLDAuOTMwNjMyOTg0MDk3ODY4MyxBbmFseXRpYyB0aHJvdWdoDQoxNTE2LjU0MTM1MzM4MzQ1ODcsMC45Mzc3NDUwOTg1ODE2OTM1LDAuOTM3NzQ1MDk4NTgxNjkzNSxBbmFseXRpYyB0aHJvdWdoDQoxNTE2Ljc5MTk3OTk0OTg3NDgsMC45NDQ0OTQ2NjI1MjYwMDMxLDAuOTQ0NDk0NjYyNTI2MDAzMSxBbmFseXRpYyB0aHJvdWdoDQoxNTE3LjA0MjYwNjUxNjI5MDgsMC45NTA4NzY0ODM4MTg2MjU2LDAuOTUwODc2NDgzODE4NjI1NixBbmFseXRpYyB0aHJvdWdoDQoxNTE3LjI5MzIzMzA4MjcwNjYsMC45NTY4ODU2ODEzNTgyNDQsMC45NTY4ODU2ODEzNTgyNDQsQW5hbHl0aWMgdGhyb3VnaA0KMTUxNy41NDM4NTk2NDkxMjI5LDAuOTYyNTE3Njg4MzUxNjMyNiwwLjk2MjUxNzY4ODM1MTYzMjYsQW5hbHl0aWMgdGhyb3VnaA0KMTUxNy43OTQ0ODYyMTU1Mzg5LDAuOTY3NzY4MjU1MzQyMzc3NCwwLjk2Nzc2ODI1NTM0MjM3NzQsQW5hbHl0aWMgdGhyb3VnaA0KMTUxOC4wNDUxMTI3ODE5NTUsMC45NzI2MzM0NTI5Njk1NTY3LDAuOTcyNjMzNDUyOTY5NTU2NyxBbmFseXRpYyB0aHJvdWdoDQoxNTE4LjI5NTczOTM0ODM3MSwwLjk3NzEwOTY3NDQ1NDk2NzQsMC45NzcxMDk2NzQ0NTQ5Njc0LEFuYWx5dGljIHRocm91Z2gNCjE1MTguNTQ2MzY1OTE0Nzg3MiwwLjk4MTE5MzYzNzgxNzk3OSwwLjk4MTE5MzYzNzgxNzk3OSxBbmFseXRpYyB0aHJvdWdoDQoxNTE4Ljc5Njk5MjQ4MTIwMywwLjk4NDg4MjM4NzgxNzA5MjUsMC45ODQ4ODIzODc4MTcwOTI1LEFuYWx5dGljIHRocm91Z2gNCjE1MTkuMDQ3NjE5MDQ3NjE5LDAuOTg4MTczMjk3NjE3NjQwMywwLjk4ODE3MzI5NzYxNzY0MDMsQW5hbHl0aWMgdGhyb3VnaA0KMTUxOS4yOTgyNDU2MTQwMzUsMC45OTEwNjQwNzAxODUyMDI1LDAuOTkxMDY0MDcwMTg1MjAyNSxBbmFseXRpYyB0aHJvdWdoDQoxNTE5LjU0ODg3MjE4MDQ1MSwwLjk5MzU1MjczOTQwNDYzNzcsMC45OTM1NTI3Mzk0MDQ2Mzc3LEFuYWx5dGljIHRocm91Z2gNCjE1MTkuNzk5NDk4NzQ2ODY3NCwwLjk5NTYzNzY3MDkyNDgwMjcsMC45OTU2Mzc2NzA5MjQ4MDI3LEFuYWx5dGljIHRocm91Z2gNCjE1MjAuMDUwMTI1MzEzMjgzMiwwLjk5NzMxNzU2MjcyOTE4OTcsMC45OTczMTc1NjI3MjkxODk3LEFuYWx5dGljIHRocm91Z2gNCjE1MjAuMzAwNzUxODc5Njk5NCwwLjk5ODU5MTQ0NTQzMzExODIsMC45OTg1OTE0NDU0MzMxMTgyLEFuYWx5dGljIHRocm91Z2gNCjE1MjAuNTUxMzc4NDQ2MTE1MiwwLjk5OTQ1ODY4MjMwODEyNzUsMC45OTk0NTg2ODIzMDgxMjc1LEFuYWx5dGljIHRocm91Z2gNCjE1MjAuODAyMDA1MDEyNTMxMywwLjk5OTkxODk2OTAzNDYwNDYsMC45OTk5MTg5NjkwMzQ2MDQ2LEFuYWx5dGljIHRocm91Z2gNCjE1MjEuMDUyNjMxNTc4OTQ3NSwwLjk5OTk3MjMzMzE4Mzc4OTYsMC45OTk5NzIzMzMxODM3ODk2LEFuYWx5dGljIHRocm91Z2gNCjE1MjEuMzAzMjU4MTQ1MzYzMywwLjk5OTYxOTEzMzQzMDU4NjgsMC45OTk2MTkxMzM0MzA1ODY4LEFuYWx5dGljIHRocm91Z2gNCjE1MjEuNTUzODg0NzExNzc5NiwwLjk5ODg2MDA1ODQ5ODc5MDYsMC45OTg4NjAwNTg0OTg3OTA2LEFuYWx5dGljIHRocm91Z2gNCjE1MjEuODA0NTExMjc4MTk1NiwwLjk5NzY5NjEyNTg0MDU0NzUsMC45OTc2OTYxMjU4NDA1NDc1LEFuYWx5dGljIHRocm91Z2gNCjE1MjIuMDU1MTM3ODQ0NjExNCwwLjk5NjEyODY4MDA1MjEwNTIsMC45OTYxMjg2ODAwNTIxMDUyLEFuYWx5dGljIHRocm91Z2gNCjE1MjIuMzA1NzY0NDExMDI3NywwLjk5NDE1OTM5MTAyODA4NCwwLjk5NDE1OTM5MTAyODA4NCxBbmFseXRpYyB0aHJvdWdoDQoxNTIyLjU1NjM5MDk3NzQ0MzUsMC45OTE3OTAyNTE4NTY3MTk0LDAuOTkxNzkwMjUxODU2NzE5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTIyLjgwNzAxNzU0Mzg1OTcsMC45ODkwMjM1NzY0NTg3MzA2LDAuOTg5MDIzNTc2NDU4NzMwNixBbmFseXRpYyB0aHJvdWdoDQoxNTIzLjA1NzY0NDExMDI3NTgsMC45ODU4NjE5OTY5NzI2NjY3LDAuOTg1ODYxOTk2OTcyNjY2NyxBbmFseXRpYyB0aHJvdWdoDQoxNTIzLjMwODI3MDY3NjY5MTgsMC45ODIzMDg0NjA4ODk3MzM5LDAuOTgyMzA4NDYwODg5NzMzOSxBbmFseXRpYyB0aHJvdWdoDQoxNTIzLjU1ODg5NzI0MzEwNzgsMC45NzgzNjYyMjc5NDE0MTc1LDAuOTc4MzY2MjI3OTQxNDE3NSxBbmFseXRpYyB0aHJvdWdoDQoxNTIzLjgwOTUyMzgwOTUyMzYsMC45NzQwMzg4NjY3NDMyMTY1LDAuOTc0MDM4ODY2NzQzMjE2NSxBbmFseXRpYyB0aHJvdWdoDQoxNTI0LjA2MDE1MDM3NTkzOTksMC45NjkzMzAyNTExOTgxNzAyLDAuOTY5MzMwMjUxMTk4MTcwMixBbmFseXRpYyB0aHJvdWdoDQoxNTI0LjMxMDc3Njk0MjM1NiwwLjk2NDI0NDU1NjY2Mzk1MzcsMC45NjQyNDQ1NTY2NjM5NTM3LEFuYWx5dGljIHRocm91Z2gNCjE1MjQuNTYxNDAzNTA4NzcyLDAuOTU4Nzg2MjU1ODg3NDI4NywwLjk1ODc4NjI1NTg4NzQyODcsQW5hbHl0aWMgdGhyb3VnaA0KMTUyNC44MTIwMzAwNzUxODgsMC45NTI5NjAxMTQ3MTA5MTEyLDAuOTUyOTYwMTE0NzEwOTExMixBbmFseXRpYyB0aHJvdWdoDQoxNTI1LjA2MjY1NjY0MTYwNCwwLjk0Njc3MTE4NzU1NDI4MzUsMC45NDY3NzExODc1NTQyODM1LEFuYWx5dGljIHRocm91Z2gNCjE1MjUuMzEzMjgzMjA4MDIsMC45NDAyMjQ4MTI2Nzc2MTIzLDAuOTQwMjI0ODEyNjc3NjEyMyxBbmFseXRpYyB0aHJvdWdoDQoxNTI1LjU2MzkwOTc3NDQzNiwwLjkzMzMyNjYwNzIyODY5MTIsMC45MzMzMjY2MDcyMjg2OTEyLEFuYWx5dGljIHRocm91Z2gNCjE1MjUuODE0NTM2MzQwODUyLDAuOTI2MDgyNDYyMDgwNDYwNiwwLjkyNjA4MjQ2MjA4MDQ2MDYsQW5hbHl0aWMgdGhyb3VnaA0KMTUyNi4wNjUxNjI5MDcyNjgxLDAuOTE4NDk4NTM2NDYzMTEwNywwLjkxODQ5ODUzNjQ2MzExMDcsQW5hbHl0aWMgdGhyb3VnaA0KMTUyNi4zMTU3ODk0NzM2ODQ0LDAuOTEwNTgxMjUyMzk1OTI0LDAuOTEwNTgxMjUyMzk1OTI0LEFuYWx5dGljIHRocm91Z2gNCjE1MjYuNTY2NDE2MDQwMTAwMiwwLjkwMjMzNzI4ODkyNDI2NjksMC45MDIzMzcyODg5MjQyNjY5LEFuYWx5dGljIHRocm91Z2gNCjE1MjYuODE3MDQyNjA2NTE2NSwwLjg5Mzc3MzU3NjE2NjczODksMC44OTM3NzM1NzYxNjY3Mzg5LEFuYWx5dGljIHRocm91Z2gNCjE1MjcuMDY3NjY5MTcyOTMyMywwLjg4NDg5NzI4OTE3ODMyMTQsMC44ODQ4OTcyODkxNzgzMjE0LEFuYWx5dGljIHRocm91Z2gNCjE1MjcuMzE4Mjk1NzM5MzQ4MywwLjg3NTcxNTg0MTYzNDc5NjcsMC44NzU3MTU4NDE2MzQ3OTY3LEFuYWx5dGljIHRocm91Z2gNCjE1MjcuNTY4OTIyMzA1NzY0NSwwLjg2NjIzNjg3OTM0NDQwNjMsMC44NjYyMzY4NzkzNDQ0MDYzLEFuYWx5dGljIHRocm91Z2gNCjE1MjcuODE5NTQ4ODcyMTgwMywwLjg1NjQ2ODI3MzU5MjQ3MzgsMC44NTY0NjgyNzM1OTI0NzM4LEFuYWx5dGljIHRocm91Z2gNCjE1MjguMDcwMTc1NDM4NTk2NiwwLjg0NjQxODExNDMyNDg3OTUsMC44NDY0MTgxMTQzMjQ4Nzk1LEFuYWx5dGljIHRocm91Z2gNCjE1MjguMzIwODAyMDA1MDEyNCwwLjgzNjA5NDcwMzE3NjY0MSwwLjgzNjA5NDcwMzE3NjY0MSxBbmFseXRpYyB0aHJvdWdoDQoxNTI4LjU3MTQyODU3MTQyODcsMC44MjU1MDY1NDYzNTE0MzA2LDAuODI1NTA2NTQ2MzUxNDMwNixBbmFseXRpYyB0aHJvdWdoDQoxNTI4LjgyMjA1NTEzNzg0NDcsMC44MTQ2NjIzNDczNTg2NTk1LDAuODE0NjYyMzQ3MzU4NjU5NSxBbmFseXRpYyB0aHJvdWdoDQoxNTI5LjA3MjY4MTcwNDI2MDUsMC44MDM1NzA5OTk2MTQwNzQ3LDAuODAzNTcwOTk5NjE0MDc0NyxBbmFseXRpYyB0aHJvdWdoDQoxNTI5LjMyMzMwODI3MDY3NjgsMC43OTIyNDE1Nzg5MTA1Mjk0LDAuNzkyMjQxNTc4OTEwNTI5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTI5LjU3MzkzNDgzNzA5MjgsMC43ODA2ODMzMzU3NjU0MTgyLDAuNzgwNjgzMzM1NzY1NDE4MixBbmFseXRpYyB0aHJvdWdoDQoxNTI5LjgyNDU2MTQwMzUwODgsMC43Njg5MDU2ODc2NTEwODE4LDAuNzY4OTA1Njg3NjUxMDgxOCxBbmFseXRpYyB0aHJvdWdoDQoxNTMwLjA3NTE4Nzk2OTkyNDksMC43NTY5MTgyMTExMTUxOTk3LDAuNzU2OTE4MjExMTE1MTk5NyxBbmFseXRpYyB0aHJvdWdoDQoxNTMwLjMyNTgxNDUzNjM0MDksMC43NDQ3MzA2MzM3OTc0NDQ1LDAuNzQ0NzMwNjMzNzk3NDQ0NSxBbmFseXRpYyB0aHJvdWdoDQoxNTMwLjU3NjQ0MTEwMjc1NywwLjczMjM1MjgyNjM0OTUzNiwwLjczMjM1MjgyNjM0OTUzNixBbmFseXRpYyB0aHJvdWdoDQoxNTMwLjgyNzA2NzY2OTE3MywwLjcxOTc5NDc5NDI2NTA1MjIsMC43MTk3OTQ3OTQyNjUwNTIyLEFuYWx5dGljIHRocm91Z2gNCjE1MzEuMDc3Njk0MjM1NTg5LDAuNzA3MDY2NjY5NjI2MjYzNywwLjcwNzA2NjY2OTYyNjI2MzcsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMS4zMjgzMjA4MDIwMDUsMC42OTQxNzg3MDI3NzQ2Mzk0LDAuNjk0MTc4NzAyNzc0NjM5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTMxLjU3ODk0NzM2ODQyMSwwLjY4MTE0MTI1MzkxMTc4MDUsMC42ODExNDEyNTM5MTE3ODA1LEFuYWx5dGljIHRocm91Z2gNCjE1MzEuODI5NTczOTM0ODM3LDAuNjY3OTY0Nzg0NjM4MDQ2MSwwLjY2Nzk2NDc4NDYzODA0NjEsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMi4wODAyMDA1MDEyNTMzLDAuNjU0NjU5ODQ5NDM1NTQwOCwwLjY1NDY1OTg0OTQzNTU0MDgsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMi4zMzA4MjcwNjc2NjkxLDAuNjQxMjM3MDg3MTAyNjIwMiwwLjY0MTIzNzA4NzEwMjYyMDIsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMi41ODE0NTM2MzQwODUyLDAuNjI3NzA3MjEyMTQ2NjgyMywwLjYyNzcwNzIxMjE0NjY4MjMsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMi44MzIwODAyMDA1MDE0LDAuNjE0MDgxMDA2MTQyNDAzNCwwLjYxNDA4MTAwNjE0MjQwMzQsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMy4wODI3MDY3NjY5MTcyLDAuNjAwMzY5MzA5MDYyMzUzMiwwLjYwMDM2OTMwOTA2MjM1MzIsQW5hbHl0aWMgdGhyb3VnaA0KMTUzMy4zMzMzMzMzMzMzMzM1LDAuNTg2NTgzMDEwNTg2ODExLDAuNTg2NTgzMDEwNTg2ODExLEFuYWx5dGljIHRocm91Z2gNCjE1MzMuNTgzOTU5ODk5NzQ5MywwLjU3MjczMzA0MTM5OTkzNjIsMC41NzI3MzMwNDEzOTk5MzYyLEFuYWx5dGljIHRocm91Z2gNCjE1MzMuODM0NTg2NDY2MTY1NSwwLjU1ODgzMDM2NDQ3OTA1MTksMC41NTg4MzAzNjQ0NzkwNTE5LEFuYWx5dGljIHRocm91Z2gNCjE1MzQuMDg1MjEzMDMyNTgxNiwwLjU0NDg4NTk2NjM4NDE3NjUsMC41NDQ4ODU5NjYzODQxNzY1LEFuYWx5dGljIHRocm91Z2gNCjE1MzQuMzM1ODM5NTk4OTk3NCwwLjUzMDkxMDg0ODU1NDI5MzQsMC41MzA5MTA4NDg1NTQyOTM0LEFuYWx5dGljIHRocm91Z2gNCjE1MzQuNTg2NDY2MTY1NDEzNiwwLjUxNjkxNjAxODYxNzcyODQsMC41MTY5MTYwMTg2MTc3Mjg0LEFuYWx5dGljIHRocm91Z2gNCjE1MzQuODM3MDkyNzMxODI5NCwwLjUwMjkxMjQ4MTcyMjk4NTksMC41MDI5MTI0ODE3MjI5ODU5LEFuYWx5dGljIHRocm91Z2gNCjE1MzUuMDg3NzE5Mjk4MjQ1NywwLjQ4ODkxMTIzMTg5Njk1NCwwLjQ4ODkxMTIzMTg5Njk1NCxBbmFseXRpYyB0aHJvdWdoDQoxNTM1LjMzODM0NTg2NDY2MTcsMC40NzQ5MjMyNDM0MzczODM1NywwLjQ3NDkyMzI0MzQzNzM4MzU3LEFuYWx5dGljIHRocm91Z2gNCjE1MzUuNTg4OTcyNDMxMDc3NSwwLjQ2MDk1OTQ2MjM0NTkwNCwwLjQ2MDk1OTQ2MjM0NTkwNCxBbmFseXRpYyB0aHJvdWdoDQoxNTM1LjgzOTU5ODk5NzQ5MzgsMC40NDcwMzA3OTc4MDg1ODEzNSwwLjQ0NzAzMDc5NzgwODU4MTM1LEFuYWx5dGljIHRocm91Z2gNCjE1MzYuMDkwMjI1NTYzOTA5OCwwLjQzMzE0ODExMzczMDI4NTcsMC40MzMxNDgxMTM3MzAyODU3LEFuYWx5dGljIHRocm91Z2gNCjE1MzYuMzQwODUyMTMwMzI1OSwwLjQxOTMyMjIyMDMyOTI5MTIsMC40MTkzMjIyMjAzMjkyOTEyLEFuYWx5dGljIHRocm91Z2gNCjE1MzYuNTkxNDc4Njk2NzQyLDAuNDA1NTYzODY1Nzk4ODMxNSwwLjQwNTU2Mzg2NTc5ODgzMTUsQW5hbHl0aWMgdGhyb3VnaA0KMTUzNi44NDIxMDUyNjMxNTgsMC4zOTE4ODM3MjgwNDE0MjMxLDAuMzkxODgzNzI4MDQxNDIzMSxBbmFseXRpYyB0aHJvdWdoDQoxNTM3LjA5MjczMTgyOTU3NCwwLjM3ODI5MjQwNjQ4MjYzODczLDAuMzc4MjkyNDA2NDgyNjM4NzMsQW5hbHl0aWMgdGhyb3VnaA0KMTUzNy4zNDMzNTgzOTU5OSwwLjM2NDgwMDQxMzk3MDE2MzgzLDAuMzY0ODAwNDEzOTcwMTYzODMsQW5hbHl0aWMgdGhyb3VnaA0KMTUzNy41OTM5ODQ5NjI0MDYsMC4zNTE0MTgxNjg3NjQyNzg1LDAuMzUxNDE4MTY4NzY0Mjc4NSxBbmFseXRpYyB0aHJvdWdoDQoxNTM3Ljg0NDYxMTUyODgyMiwwLjMzODE1NTk4NjYyNTc2MDg1LDAuMzM4MTU1OTg2NjI1NzYwODUsQW5hbHl0aWMgdGhyb3VnaA0KMTUzOC4wOTUyMzgwOTUyMzgsMC4zMjUwMjQwNzMwMDY4MjMxLDAuMzI1MDI0MDczMDA2ODIzMSxBbmFseXRpYyB0aHJvdWdoDQoxNTM4LjM0NTg2NDY2MTY1NCwwLjMxMjAzMjUxNTM1MTI3MzI0LDAuMzEyMDMyNTE1MzUxMjczMjQsQW5hbHl0aWMgdGhyb3VnaA0KMTUzOC41OTY0OTEyMjgwNzA0LDAuMjk5MTkxMjc1NTA4OTE0NjcsMC4yOTkxOTEyNzU1MDg5MTQ2NyxBbmFseXRpYyB0aHJvdWdoDQoxNTM4Ljg0NzExNzc5NDQ4NjIsMC4yODY1MTAxODIyNzAyODYzLDAuMjg2NTEwMTgyMjcwMjg2MyxBbmFseXRpYyB0aHJvdWdoDQoxNTM5LjA5Nzc0NDM2MDkwMjIsMC4yNzM5OTg5MjQwMjY2ODQ3LDAuMjczOTk4OTI0MDI2Njg0NyxBbmFseXRpYyB0aHJvdWdoDQoxNTM5LjM0ODM3MDkyNzMxODUsMC4yNjE2NjcwNDE1NjEwMDc4NCwwLjI2MTY2NzA0MTU2MTAwNzg0LEFuYWx5dGljIHRocm91Z2gNCjE1MzkuNTk4OTk3NDkzNzM0MywwLjI0OTUyMzkyMDk3NDUzMzAyLDAuMjQ5NTIzOTIwOTc0NTMzMDIsQW5hbHl0aWMgdGhyb3VnaA0KMTUzOS44NDk2MjQwNjAxNTA1LDAuMjM3NTc4Nzg2NzU0NDc1NywwLjIzNzU3ODc4Njc1NDQ3NTcsQW5hbHl0aWMgdGhyb3VnaA0KMTU0MC4xMDAyNTA2MjY1NjYzLDAuMjI1ODQwNjk0OTg3NTA4MjUsMC4yMjU4NDA2OTQ5ODc1MDgyNSxBbmFseXRpYyB0aHJvdWdoDQoxNTQwLjM1MDg3NzE5Mjk4MjYsMC4yMTQzMTg1MjY3MjM3MjA1NCwwLjIxNDMxODUyNjcyMzcyMDU0LEFuYWx5dGljIHRocm91Z2gNCjE1NDAuNjAxNTAzNzU5Mzk4NiwwLjIwMzAyMDk4MTQ5NTgyMDYsMC4yMDMwMjA5ODE0OTU4MjA2LEFuYWx5dGljIHRocm91Z2gNCjE1NDAuODUyMTMwMzI1ODE0NCwwLjE5MTk1NjU3MDk5Nzk1MjYsMC4xOTE5NTY1NzA5OTc5NTI2LEFuYWx5dGljIHRocm91Z2gNCjE1NDEuMTAyNzU2ODkyMjMwNywwLjE4MTEzMzYxMjkyODUzNzg2LDAuMTgxMTMzNjEyOTI4NTM3ODYsQW5hbHl0aWMgdGhyb3VnaA0KMTU0MS4zNTMzODM0NTg2NDY1LDAuMTcwNTYwMjI1MDAxMzE0OTYsMC4xNzA1NjAyMjUwMDEzMTQ5NixBbmFseXRpYyB0aHJvdWdoDQoxNTQxLjYwNDAxMDAyNTA2MjcsMC4xNjAyNDQzMTkxMjg1NDk5MiwwLjE2MDI0NDMxOTEyODU0OTkyLEFuYWx5dGljIHRocm91Z2gNCjE1NDEuODU0NjM2NTkxNDc4OCwwLjE1MDE5MzU5NTc4MDQzNzY3LDAuMTUwMTkzNTk1NzgwNDM3NjcsQW5hbHl0aWMgdGhyb3VnaA0KMTU0Mi4xMDUyNjMxNTc4OTQ4LDAuMTQwNDE1NTM4NTI0MjUyNDMsMC4xNDA0MTU1Mzg1MjQyNTI0MyxBbmFseXRpYyB0aHJvdWdoDQoxNTQyLjM1NTg4OTcyNDMxMDgsMC4xMzA5MTc0MDg3NDcwNTQ1LDAuMTMwOTE3NDA4NzQ3MDU0NSxBbmFseXRpYyB0aHJvdWdoDQoxNTQyLjYwNjUxNjI5MDcyNjksMC4xMjE3MDYyNDA1NjUxNjE3MiwwLjEyMTcwNjI0MDU2NTE2MTcyLEFuYWx5dGljIHRocm91Z2gNCjE1NDIuODU3MTQyODU3MTQzLDAuMTEyNzg4ODM1OTIzODA5NjIsMC4xMTI3ODg4MzU5MjM4MDk2MixBbmFseXRpYyB0aHJvdWdoDQoxNTQzLjEwNzc2OTQyMzU1OSwwLjEwNDE3MTc1OTg5MDAyMDMxLDAuMTA0MTcxNzU5ODkwMDIwMzEsQW5hbHl0aWMgdGhyb3VnaA0KMTU0My4zNTgzOTU5ODk5NzUsMC4wOTU4NjEzMzYxNDE2NDgyMSwwLjA5NTg2MTMzNjE0MTY0ODIxLEFuYWx5dGljIHRocm91Z2gNCjE1NDMuNjA5MDIyNTU2MzkxLDAuMDg3ODYzNjQyNjU1NDA3MDMsMC4wODc4NjM2NDI2NTU0MDcwMyxBbmFseXRpYyB0aHJvdWdoDQoxNTQzLjg1OTY0OTEyMjgwNzIsMC4wODAxODQ1MDc1OTYzOTA3MywwLjA4MDE4NDUwNzU5NjM5MDczLEFuYWx5dGljIHRocm91Z2gNCjE1NDQuMTEwMjc1Njg5MjIzLDAuMDcyODI5NTA1NDExNzM0MzMsMC4wNzI4Mjk1MDU0MTE3MzQzMyxBbmFseXRpYyB0aHJvdWdoDQoxNTQ0LjM2MDkwMjI1NTYzOSwwLjA2NTgwMzk1MzEzMDQzMjk3LDAuMDY1ODAzOTUzMTMwNDMyOTcsQW5hbHl0aWMgdGhyb3VnaA0KMTU0NC42MTE1Mjg4MjIwNTUsMC4wNTkxMTI5MDY4NzE2ODEzNiwwLjA1OTExMjkwNjg3MTY4MTM2LEFuYWx5dGljIHRocm91Z2gNCjE1NDQuODYyMTU1Mzg4NDcxMSwwLjA1Mjc2MTE1ODU2MzUxMDIxLDAuMDUyNzYxMTU4NTYzNTEwMjEsQW5hbHl0aWMgdGhyb3VnaA0KMTU0NS4xMTI3ODE5NTQ4ODc0LDAuMDQ2NzUzMjMyODczNDkyNTM0LDAuMDQ2NzUzMjMyODczNDkyNTM0LEFuYWx5dGljIHRocm91Z2gNCjE1NDUuMzYzNDA4NTIxMzAzMiwwLjA0MTA5MzM4NDM1MzI5NjAxNCwwLjA0MTA5MzM4NDM1MzI5NjAxNCxBbmFseXRpYyB0aHJvdWdoDQoxNTQ1LjYxNDAzNTA4NzcxOTUsMC4wMzU3ODU1OTQ3OTgyNDU4OSwwLjAzNTc4NTU5NDc5ODI0NTg5LEFuYWx5dGljIHRocm91Z2gNCjE1NDUuODY0NjYxNjU0MTM1NSwwLjAzMDgzMzU3MDgyMzM5NjQ5NCwwLjAzMDgzMzU3MDgyMzM5NjQ5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTQ2LjExNTI4ODIyMDU1MTMsMC4wMjYyNDA3NDE2NTcwNDE1NDQsMC4wMjYyNDA3NDE2NTcwNDE1NDQsQW5hbHl0aWMgdGhyb3VnaA0KMTU0Ni4zNjU5MTQ3ODY5Njc2LDAuMDIyMDEwMjU3MTUyNjM5OTksMC4wMjIwMTAyNTcxNTI2Mzk5OSxBbmFseXRpYyB0aHJvdWdoDQoxNTQ2LjYxNjU0MTM1MzM4MzQsMC4wMTgxNDQ5ODYwMTk5MjAyMDYsMC4wMTgxNDQ5ODYwMTk5MjAyMDYsQW5hbHl0aWMgdGhyb3VnaA0KMTU0Ni44NjcxNjc5MTk3OTk2LDAuMDE0NjQ3NTE0Mjc1Njc1NCwwLjAxNDY0NzUxNDI3NTY3NTQsQW5hbHl0aWMgdGhyb3VnaA0KMTU0Ny4xMTc3OTQ0ODYyMTU2LDAuMDExNTIwMTQzOTE0NzIzNDQ2LDAuMDExNTIwMTQzOTE0NzIzNDQ2LEFuYWx5dGljIHRocm91Z2gNCjE1NDcuMzY4NDIxMDUyNjMxNywwLjAwODc2NDg5MTgwMTE4NzUwMiwwLjAwODc2NDg5MTgwMTE4NzUwMixBbmFseXRpYyB0aHJvdWdoDQoxNTQ3LjYxOTA0NzYxOTA0NzcsMC4wMDYzODM0ODg3ODAyMjk5ODQ0LDAuMDA2MzgzNDg4NzgwMjI5OTg0NCxBbmFseXRpYyB0aHJvdWdoDQoxNTQ3Ljg2OTY3NDE4NTQ2MzUsMC4wMDQzNzczNzkwMTAwODAzNCwwLjAwNDM3NzM3OTAxMDA4MDM0LEFuYWx5dGljIHRocm91Z2gNCjE1NDguMTIwMzAwNzUxODc5OCwwLjAwMjc0NzcxOTUxNDEyMjAwNDUsMC4wMDI3NDc3MTk1MTQxMjIwMDQ1LEFuYWx5dGljIHRocm91Z2gNCjE1NDguMzcwOTI3MzE4Mjk1OCwwLjAwMTQ5NTM3OTk1MjU3MjgxNzMsMC4wMDE0OTUzNzk5NTI1NzI4MTczLEFuYWx5dGljIHRocm91Z2gNCjE1NDguNjIxNTUzODg0NzExOCwwLjAwMDYyMDk0MjYxMzE0NzA0NjQsMC4wMDA2MjA5NDI2MTMxNDcwNDY0LEFuYWx5dGljIHRocm91Z2gNCjE1NDguODcyMTgwNDUxMTI3OSwwLjAwMDEyNDcwMjYxOTk2OTcxODc2LDAuMDAwMTI0NzAyNjE5OTY5NzE4NzYsQW5hbHl0aWMgdGhyb3VnaA0KMTU0OS4xMjI4MDcwMTc1NDQxLDYuNjY4MzU5NzQ5ODI4NDllLTA2LDYuNjY4MzU5NzQ5ODI4NDllLTA2LEFuYWx5dGljIHRocm91Z2gNCjE1NDkuMzczNDMzNTgzOTYsMC4wMDAyNjY1NjIxMjQxNjQ0ODIyLDAuMDAwMjY2NTYyMTI0MTY0NDgyMixBbmFseXRpYyB0aHJvdWdoDQoxNTQ5LjYyNDA2MDE1MDM3NiwwLjAwMDkwMzgyMDk2NzE3NDg5NTQsMC4wMDA5MDM4MjA5NjcxNzQ4OTU0LEFuYWx5dGljIHRocm91Z2gNCjE1NDkuODc0Njg2NzE2NzkyLDAuMDAxOTE3NTk3Nzc1ODcwMTM5LDAuMDAxOTE3NTk3Nzc1ODcwMTM5LEFuYWx5dGljIHRocm91Z2gNCjE1NTAuMTI1MzEzMjgzMjA4LDAuMDAzMzA2NzYyNTUzMjU3NTY5NSwwLjAwMzMwNjc2MjU1MzI1NzU2OTUsQW5hbHl0aWMgdGhyb3VnaA0KMTU1MC4zNzU5Mzk4NDk2MjQzLDAuMDA1MDY5OTAzOTExMjk0NDE1NSwwLjAwNTA2OTkwMzkxMTI5NDQxNTUsQW5hbHl0aWMgdGhyb3VnaA0KMTU1MC42MjY1NjY0MTYwNCwwLjAwNzIwNTMzMDc3MjI1NzIxMiwwLjAwNzIwNTMzMDc3MjI1NzIxMixBbmFseXRpYyB0aHJvdWdoDQoxNTUwLjg3NzE5Mjk4MjQ1NiwwLjAwOTcxMTA3NDI3NjQ1NjA2NiwwLjAwOTcxMTA3NDI3NjQ1NjA2NixBbmFseXRpYyB0aHJvdWdoDQoxNTUxLjEyNzgxOTU0ODg3MjEsMC4wMTI1ODQ4ODk4OTQwODI2MywwLjAxMjU4NDg4OTg5NDA4MjYzLEFuYWx5dGljIHRocm91Z2gNCjE1NTEuMzc4NDQ2MTE1Mjg4MiwwLjAxNTgyNDI1OTczODg5Njg0LDAuMDE1ODI0MjU5NzM4ODk2ODQsQW5hbHl0aWMgdGhyb3VnaA0KMTU1MS42MjkwNzI2ODE3MDQ0LDAuMDE5NDI2Mzk1MDgxMjc4OTEzLDAuMDE5NDI2Mzk1MDgxMjc4OTEzLEFuYWx5dGljIHRocm91Z2gNCjE1NTEuODc5Njk5MjQ4MTIwMiwwLjAyMzM4ODIzOTA1ODA0NTMyNCwwLjAyMzM4ODIzOTA1ODA0NTMyNCxBbmFseXRpYyB0aHJvdWdoDQoxNTUyLjEzMDMyNTgxNDUzNjUsMC4wMjc3MDY0Njk1NzYzMDM5NiwwLjAyNzcwNjQ2OTU3NjMwMzk2LEFuYWx5dGljIHRocm91Z2gNCjE1NTIuMzgwOTUyMzgwOTUyNSwwLjAzMjM3NzUwMjQwODM5NTMyLDAuMDMyMzc3NTAyNDA4Mzk1MzIsQW5hbHl0aWMgdGhyb3VnaA0KMTU1Mi42MzE1Nzg5NDczNjgzLDAuMDM3Mzk3NDk0NDc1MDYzOCwwLjAzNzM5NzQ5NDQ3NTA2MzgsQW5hbHl0aWMgdGhyb3VnaA0KMTU1Mi44ODIyMDU1MTM3ODQ2LDAuMDQyNzYyMzQ3MzEzNTI1Mjk1LDAuMDQyNzYyMzQ3MzEzNTI1Mjk1LEFuYWx5dGljIHRocm91Z2gNCjE1NTMuMTMyODMyMDgwMjAwNCwwLjA0ODQ2NzcxMDcyNzM1MjE3NiwwLjA0ODQ2NzcxMDcyNzM1MjE3NixBbmFseXRpYyB0aHJvdWdoDQoxNTUzLjM4MzQ1ODY0NjYxNjYsMC4wNTQ1MDg5ODY2MTQ2MzY2NTYsMC4wNTQ1MDg5ODY2MTQ2MzY2NTYsQW5hbHl0aWMgdGhyb3VnaA0KMTU1My42MzQwODUyMTMwMzI3LDAuMDYwODgxMzMyOTcxMDE5OTQsMC4wNjA4ODEzMzI5NzEwMTk5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTUzLjg4NDcxMTc3OTQ0ODcsMC4wNjc1Nzk2NjgwNjM5NTgyNiwwLjA2NzU3OTY2ODA2Mzk1ODI2LEFuYWx5dGljIHRocm91Z2gNCjE1NTQuMTM1MzM4MzQ1ODY0NywwLjA3NDU5ODY3NDc3NDM3NTgyLDAuMDc0NTk4Njc0Nzc0Mzc1ODIsQW5hbHl0aWMgdGhyb3VnaA0KMTU1NC4zODU5NjQ5MTIyODA1LDAuMDgxOTMyODA1MTAyMDU5NjksMC4wODE5MzI4MDUxMDIwNTk2OSxBbmFseXRpYyB0aHJvdWdoDQoxNTU0LjYzNjU5MTQ3ODY5NjgsMC4wODk1NzYyODQ4MzA1OTM4MiwwLjA4OTU3NjI4NDgzMDU5MzgyLEFuYWx5dGljIHRocm91Z2gNCjE1NTQuODg3MjE4MDQ1MTEyOCwwLjA5NzUyMzExODM0Nzk5MTg4LDAuMDk3NTIzMTE4MzQ3OTkxODgsQW5hbHl0aWMgdGhyb3VnaA0KMTU1NS4xMzc4NDQ2MTE1Mjg5LDAuMTA1NzY3MDkzNjE4NzY1NTIsMC4xMDU3NjcwOTM2MTg3NjU1MixBbmFseXRpYyB0aHJvdWdoDQoxNTU1LjM4ODQ3MTE3Nzk0NSwwLjExNDMwMTc4NzMwMzEwNjMsMC4xMTQzMDE3ODczMDMxMDYzLEFuYWx5dGljIHRocm91Z2gNCjE1NTUuNjM5MDk3NzQ0MzYxMiwwLjEyMzEyMDU3MDAxOTA2MzQsMC4xMjMxMjA1NzAwMTkwNjM0LEFuYWx5dGljIHRocm91Z2gNCjE1NTUuODg5NzI0MzEwNzc3LDAuMTMyMjE2NjExNzQyOTI2MzcsMC4xMzIyMTY2MTE3NDI5MjYzNyxBbmFseXRpYyB0aHJvdWdoDQoxNTU2LjE0MDM1MDg3NzE5MywwLjE0MTU4Mjg4NzM0MzcyMDY1LDAuMTQxNTgyODg3MzQzNzIwNjUsQW5hbHl0aWMgdGhyb3VnaA0KMTU1Ni4zOTA5Nzc0NDM2MDksMC4xNTEyMTIxODIyNDY3ODg3MywwLjE1MTIxMjE4MjI0Njc4ODczLEFuYWx5dGljIHRocm91Z2gNCjE1NTYuNjQxNjA0MDEwMDI1LDAuMTYxMDk3MDk4MjIyMDkwNzMsMC4xNjEwOTcwOTgyMjIwOTA3MyxBbmFseXRpYyB0aHJvdWdoDQoxNTU2Ljg5MjIzMDU3NjQ0MTMsMC4xNzEyMzAwNTkyOTIzNDQwMywwLjE3MTIzMDA1OTI5MjM0NDAzLEFuYWx5dGljIHRocm91Z2gNCjE1NTcuMTQyODU3MTQyODU3LDAuMTgxNjAzMzE3NzU2MTIxNTQsMC4xODE2MDMzMTc3NTYxMjE1NCxBbmFseXRpYyB0aHJvdWdoDQoxNTU3LjM5MzQ4MzcwOTI3MzQsMC4xOTIyMDg5NjAzMjExNjk4NSwwLjE5MjIwODk2MDMyMTE2OTg1LEFuYWx5dGljIHRocm91Z2gNCjE1NTcuNjQ0MTEwMjc1Njg5MiwwLjIwMzAzODkxNDM0Mjg5MDYyLDAuMjAzMDM4OTE0MzQyODkwNjIsQW5hbHl0aWMgdGhyb3VnaA0KMTU1Ny44OTQ3MzY4NDIxMDUyLDAuMjE0MDg0OTU0MTYyOTM3ODIsMC4yMTQwODQ5NTQxNjI5Mzc4MixBbmFseXRpYyB0aHJvdWdoDQoxNTU4LjE0NTM2MzQwODUyMTUsMC4yMjUzMzg3MDc1NDMwNDMyNSwwLjIyNTMzODcwNzU0MzA0MzI1LEFuYWx5dGljIHRocm91Z2gNCjE1NTguMzk1OTg5OTc0OTM3MywwLjIzNjc5MTY2MjE4ODcyMTEsMC4yMzY3OTE2NjIxODg3MjExLEFuYWx5dGljIHRocm91Z2gNCjE1NTguNjQ2NjE2NTQxMzUzNSwwLjI0ODQzNTE3MjM1Nzk1NDA0LDAuMjQ4NDM1MTcyMzU3OTU0MDQsQW5hbHl0aWMgdGhyb3VnaA0KMTU1OC44OTcyNDMxMDc3Njk2LDAuMjYwMjYwNDY1NTQ5MzkwOSwwLjI2MDI2MDQ2NTU0OTM5MDksQW5hbHl0aWMgdGhyb3VnaA0KMTU1OS4xNDc4Njk2NzQxODU2LDAuMjcyMjU4NjQ5MjY1MDc2OSwwLjI3MjI1ODY0OTI2NTA3NjksQW5hbHl0aWMgdGhyb3VnaA0KMTU1OS4zOTg0OTYyNDA2MDE2LDAuMjg0NDIwNzE3ODQyMjA4NywwLjI4NDQyMDcxNzg0MjIwODcsQW5hbHl0aWMgdGhyb3VnaA0KMTU1OS42NDkxMjI4MDcwMTc0LDAuMjk2NzM3NTU5MzQ4OTA4OTQsMC4yOTY3Mzc1NTkzNDg5MDg5NCxBbmFseXRpYyB0aHJvdWdoDQoxNTU5Ljg5OTc0OTM3MzQzMzcsMC4zMDkxOTk5NjI1MzgyOTI4NSwwLjMwOTE5OTk2MjUzODI5Mjg1LEFuYWx5dGljIHRocm91Z2gNCjE1NjAuMTUwMzc1OTM5ODQ5NywwLjMyMTc5ODYyMzg1NTgzMDksMC4zMjE3OTg2MjM4NTU4MzA5LEFuYWx5dGljIHRocm91Z2gNCjE1NjAuNDAxMDAyNTA2MjY1NywwLjMzNDUyNDE1NDQ5NDYxMjE1LDAuMzM0NTI0MTU0NDk0NjEyMTUsQW5hbHl0aWMgdGhyb3VnaA0KMTU2MC42NTE2MjkwNzI2ODE4LDAuMzQ3MzY3MDg3NDkyODMwNjMsMC4zNDczNjcwODc0OTI4MzA2MyxBbmFseXRpYyB0aHJvdWdoDQoxNTYwLjkwMjI1NTYzOTA5NzgsMC4zNjAzMTc4ODQ4Njg1MDgyNCwwLjM2MDMxNzg4NDg2ODUwODI0LEFuYWx5dGljIHRocm91Z2gNCjE1NjEuMTUyODgyMjA1NTEzOCwwLjM3MzM2Njk0NDc4NTc2NTA0LDAuMzczMzY2OTQ0Nzg1NzY1MDQsQW5hbHl0aWMgdGhyb3VnaA0KMTU2MS40MDM1MDg3NzE5Mjk5LDAuMzg2NTA0NjA4NzQ3NDQxNCwwLjM4NjUwNDYwODc0NzQ0MTQsQW5hbHl0aWMgdGhyb3VnaA0KMTU2MS42NTQxMzUzMzgzNDYsMC4zOTk3MjExNjg4MDg1Mjg3NiwwLjM5OTcyMTE2ODgwODUyODc2LEFuYWx5dGljIHRocm91Z2gNCjE1NjEuOTA0NzYxOTA0NzYyLDAuNDEzMDA2ODc0ODA1MTIyNjYsMC40MTMwMDY4NzQ4MDUxMjI2NixBbmFseXRpYyB0aHJvdWdoDQoxNTYyLjE1NTM4ODQ3MTE3ODIsMC40MjYzNTE5NDE1OTM2MTQ2NywwLjQyNjM1MTk0MTU5MzYxNDY3LEFuYWx5dGljIHRocm91Z2gNCjE1NjIuNDA2MDE1MDM3NTk0LDAuNDM5NzQ2NTU2Mjk0NDQ3LDAuNDM5NzQ2NTU2Mjk0NDQ3LEFuYWx5dGljIHRocm91Z2gNCjE1NjIuNjU2NjQxNjA0MDEsMC40NTMxODA4ODU1MzU1NjE2LDAuNDUzMTgwODg1NTM1NTYxNixBbmFseXRpYyB0aHJvdWdoDQoxNTYyLjkwNzI2ODE3MDQyNiwwLjQ2NjY0NTA4MjY4OTczNDE1LDAuNDY2NjQ1MDgyNjg5NzM0MTUsQW5hbHl0aWMgdGhyb3VnaA0KMTU2My4xNTc4OTQ3MzY4NDIsMC40ODAxMjkyOTUxMDA5ODM5LDAuNDgwMTI5Mjk1MTAwOTgzOSxBbmFseXRpYyB0aHJvdWdoDQoxNTYzLjQwODUyMTMwMzI1ODMsMC40OTM2MjM2NzEyOTQzODU5LDAuNDkzNjIzNjcxMjk0Mzg1OSxBbmFseXRpYyB0aHJvdWdoDQoxNTYzLjY1OTE0Nzg2OTY3NDEsMC41MDcxMTgzNjgxNjQzMDQ0LDAuNTA3MTE4MzY4MTY0MzA0NCxBbmFseXRpYyB0aHJvdWdoDQoxNTYzLjkwOTc3NDQzNjA5MDQsMC41MjA2MDM1NTgxMzU5NDAxLDAuNTIwNjAzNTU4MTM1OTQwMSxBbmFseXRpYyB0aHJvdWdoDQoxNTY0LjE2MDQwMTAwMjUwNjIsMC41MzQwNjk0MzYyOTQ2MjgsMC41MzQwNjk0MzYyOTQ2MjgsQW5hbHl0aWMgdGhyb3VnaA0KMTU2NC40MTEwMjc1Njg5MjI1LDAuNTQ3NTA2MjI3NDc4MzYyOSwwLjU0NzUwNjIyNzQ3ODM2MjksQW5hbHl0aWMgdGhyb3VnaA0KMTU2NC42NjE2NTQxMzUzMzg1LDAuNTYwOTA0MTkzMzI4MDEwNywwLjU2MDkwNDE5MzMyODAxMDcsQW5hbHl0aWMgdGhyb3VnaA0KMTU2NC45MTIyODA3MDE3NTQzLDAuNTc0MjUzNjM5MjkwNTEzLDAuNTc0MjUzNjM5MjkwNTEzLEFuYWx5dGljIHRocm91Z2gNCjE1NjUuMTYyOTA3MjY4MTcwNiwwLjU4NzU0NDkyMTU3MDAxOTQsMC41ODc1NDQ5MjE1NzAwMTk0LEFuYWx5dGljIHRocm91Z2gNCjE1NjUuNDEzNTMzODM0NTg2NiwwLjYwMDc2ODQ1NDAyMTk2NDUsMC42MDA3Njg0NTQwMjE5NjQ1LEFuYWx5dGljIHRocm91Z2gNCjE1NjUuNjY0MTYwNDAxMDAyNiwwLjYxMzkxNDcxNDk4NTYxMTIsMC42MTM5MTQ3MTQ5ODU2MTEyLEFuYWx5dGljIHRocm91Z2gNCjE1NjUuOTE0Nzg2OTY3NDE4NiwwLjYyNjk3NDI1NDA0OTc4ODksMC42MjY5NzQyNTQwNDk3ODg5LEFuYWx5dGljIHRocm91Z2gNCjE1NjYuMTY1NDEzNTMzODM0NSwwLjYzOTkzNzY5ODc0NzY0ODcsMC42Mzk5Mzc2OTg3NDc2NDg3LEFuYWx5dGljIHRocm91Z2gNCjE1NjYuNDE2MDQwMTAwMjUwNywwLjY1Mjc5NTc2MTE3NTUwOCwwLjY1Mjc5NTc2MTE3NTUwOCxBbmFseXRpYyB0aHJvdWdoDQoxNTY2LjY2NjY2NjY2NjY2NjcsMC42NjU1MzkyNDQ1MzExOTYxLDAuNjY1NTM5MjQ0NTMxMTk2MSxBbmFseXRpYyB0aHJvdWdoDQoxNTY2LjkxNzI5MzIzMzA4MjgsMC42NzgxNTkwNDk1Njc4MjExLDAuNjc4MTU5MDQ5NTY3ODIxMSxBbmFseXRpYyB0aHJvdWdoDQoxNTY3LjE2NzkxOTc5OTQ5ODgsMC42OTA2NDYxODA5NTgwMDI5LDAuNjkwNjQ2MTgwOTU4MDAyOSxBbmFseXRpYyB0aHJvdWdoDQoxNTY3LjQxODU0NjM2NTkxNDgsMC43MDI5OTE3NTM1NjQ4MjA3LDAuNzAyOTkxNzUzNTY0ODIwNyxBbmFseXRpYyB0aHJvdWdoDQoxNTY3LjY2OTE3MjkzMjMzMDksMC43MTUxODY5OTg2MTQ4NzYsMC43MTUxODY5OTg2MTQ4NzYsQW5hbHl0aWMgdGhyb3VnaA0KMTU2Ny45MTk3OTk0OTg3NDcsMC43MjcyMjMyNjk3Njk1MDExLDAuNzI3MjIzMjY5NzY5NTAxMSxBbmFseXRpYyB0aHJvdWdoDQoxNTY4LjE3MDQyNjA2NTE2MywwLjczOTA5MjA0OTA5MDExMzgsMC43MzkwOTIwNDkwOTAxMTM4LEFuYWx5dGljIHRocm91Z2gNCjE1NjguNDIxMDUyNjMxNTc5LDAuNzUwNzg0OTUyODkzNTMwOSwwLjc1MDc4NDk1Mjg5MzUzMDksQW5hbHl0aWMgdGhyb3VnaA0KMTU2OC42NzE2NzkxOTc5OTUyLDAuNzYyMjkzNzM3NDkzODE1OSwwLjc2MjI5MzczNzQ5MzgxNTksQW5hbHl0aWMgdGhyb3VnaA0KMTU2OC45MjIzMDU3NjQ0MTEsMC43NzM2MTAzMDQ4MjY0ODMzLDAuNzczNjEwMzA0ODI2NDgzMyxBbmFseXRpYyB0aHJvdWdoDQoxNTY5LjE3MjkzMjMzMDgyNzMsMC43ODQ3MjY3MDc5NTE2NDU4LDAuNzg0NzI2NzA3OTUxNjQ1OCxBbmFseXRpYyB0aHJvdWdoDQoxNTY5LjQyMzU1ODg5NzI0MywwLjc5NTYzNTE1NjQzMjUwNTMsMC43OTU2MzUxNTY0MzI1MDUzLEFuYWx5dGljIHRocm91Z2gNCjE1NjkuNjc0MTg1NDYzNjU5MSwwLjgwNjMyODAyMTU4NTc3MDQsMC44MDYzMjgwMjE1ODU3NzA0LEFuYWx5dGljIHRocm91Z2gNCjE1NjkuOTI0ODEyMDMwMDc1NCwwLjgxNjc5Nzg0MTYwMDU5NTIsMC44MTY3OTc4NDE2MDA1OTUyLEFuYWx5dGljIHRocm91Z2gNCjE1NzAuMTc1NDM4NTk2NDkxMiwwLjgyNzAzNzMyNjUyMjgyNDQsMC44MjcwMzczMjY1MjI4MjQ0LEFuYWx5dGljIHRocm91Z2gNCjE1NzAuNDI2MDY1MTYyOTA3NCwwLjgzNzAzOTM2MzEwMTU4MTEsMC44MzcwMzkzNjMxMDE1ODExLEFuYWx5dGljIHRocm91Z2gNCjE1NzAuNjc2NjkxNzI5MzIzMiwwLjg0Njc5NzAxOTQ5NDkzMzYsMC44NDY3OTcwMTk0OTQ5MzM2LEFuYWx5dGljIHRocm91Z2gNCjE1NzAuOTI3MzE4Mjk1NzM5NSwwLjg1NjMwMzU0OTgzMTk4OTgsMC44NTYzMDM1NDk4MzE5ODk4LEFuYWx5dGljIHRocm91Z2gNCjE1NzEuMTc3OTQ0ODYyMTU1NSwwLjg2NTU1MjM5ODYyODQ1MzYsMC44NjU1NTIzOTg2Mjg0NTM2LEFuYWx5dGljIHRocm91Z2gNCjE1NzEuNDI4NTcxNDI4NTcxMywwLjg3NDUzNzIwNTA1MzIwNDEsMC44NzQ1MzcyMDUwNTMyMDQxLEFuYWx5dGljIHRocm91Z2gNCjE1NzEuNjc5MTk3OTk0OTg3NiwwLjg4MzI1MTgwNzA0MzA2NzUsMC44ODMyNTE4MDcwNDMwNjc1LEFuYWx5dGljIHRocm91Z2gNCjE1NzEuOTI5ODI0NTYxNDAzNiwwLjg5MTY5MDI0NTI2MzY1MTcsMC44OTE2OTAyNDUyNjM2NTE3LEFuYWx5dGljIHRocm91Z2gNCjE1NzIuMTgwNDUxMTI3ODE5NywwLjg5OTg0Njc2NjkxMzc5ODYsMC44OTk4NDY3NjY5MTM3OTg2LEFuYWx5dGljIHRocm91Z2gNCjE1NzIuNDMxMDc3Njk0MjM1NywwLjkwNzcxNTgyOTM3MTM4ODEsMC45MDc3MTU4MjkzNzEzODgxLEFuYWx5dGljIHRocm91Z2gNCjE1NzIuNjgxNzA0MjYwNjUxNywwLjkxNTI5MjEwMzY3ODcyNTgsMC45MTUyOTIxMDM2Nzg3MjU4LEFuYWx5dGljIHRocm91Z2gNCjE1NzIuOTMyMzMwODI3MDY3NywwLjkyMjU3MDQ3Nzg2NTIwNjksMC45MjI1NzA0Nzc4NjUyMDY5LEFuYWx5dGljIHRocm91Z2gNCjE1NzMuMTgyOTU3MzkzNDgzOCwwLjkyOTU0NjA2MDEwNTgzMzgsMC45Mjk1NDYwNjAxMDU4MzM4LEFuYWx5dGljIHRocm91Z2gNCjE1NzMuNDMzNTgzOTU5ODk5OCwwLjkzNjIxNDE4MTcxMzU1MTIsMC45MzYyMTQxODE3MTM1NTEyLEFuYWx5dGljIHRocm91Z2gNCjE1NzMuNjg0MjEwNTI2MzE1OCwwLjk0MjU3MDM5OTk2NDExNiwwLjk0MjU3MDM5OTk2NDExNixBbmFseXRpYyB0aHJvdWdoDQoxNTczLjkzNDgzNzA5MjczMTksMC45NDg2MTA1MDA3NTE5NTU0LDAuOTQ4NjEwNTAwNzUxOTU1NCxBbmFseXRpYyB0aHJvdWdoDQoxNTc0LjE4NTQ2MzY1OTE0OCwwLjk1NDMzMDUwMTA3NTY0MjQsMC45NTQzMzA1MDEwNzU2NDI0LEFuYWx5dGljIHRocm91Z2gNCjE1NzQuNDM2MDkwMjI1NTY0LDAuOTU5NzI2NjUxMzUyMDE0OCwwLjk1OTcyNjY1MTM1MjAxNDgsQW5hbHl0aWMgdGhyb3VnaA0KMTU3NC42ODY3MTY3OTE5OCwwLjk2NDc5NTQzNzU1NzY0MTksMC45NjQ3OTU0Mzc1NTc2NDE5LEFuYWx5dGljIHRocm91Z2gNCjE1NzQuOTM3MzQzMzU4Mzk2LDAuOTY5NTMzNTgzMTk2OTMwMSwwLjk2OTUzMzU4MzE5NjkzMDEsQW5hbHl0aWMgdGhyb3VnaA0KMTU3NS4xODc5Njk5MjQ4MTIsMC45NzM5MzgwNTEwOTU5NDAxLDAuOTczOTM4MDUxMDk1OTQwMSxBbmFseXRpYyB0aHJvdWdoDQoxNTc1LjQzODU5NjQ5MTIyOCwwLjk3ODAwNjA0NTAyMTMwMTEsMC45NzgwMDYwNDUwMjEzMDExLEFuYWx5dGljIHRocm91Z2gNCjE1NzUuNjg5MjIzMDU3NjQ0MywwLjk4MTczNTAxMTEyMzcxMzIsMC45ODE3MzUwMTExMjM3MTMyLEFuYWx5dGljIHRocm91Z2gNCjE1NzUuOTM5ODQ5NjI0MDYwMSwwLjk4NTEyMjYzOTIwNTUwMTksMC45ODUxMjI2MzkyMDU1MDE5LEFuYWx5dGljIHRocm91Z2gNCjE1NzYuMTkwNDc2MTkwNDc2NCwwLjk4ODE2Njg2MzgxMjEyOTYsMC45ODgxNjY4NjM4MTIxMjk2LEFuYWx5dGljIHRocm91Z2gNCjE1NzYuNDQxMTAyNzU2ODkyNCwwLjk5MDg2NTg2NTE0NzMyMTEsMC45OTA4NjU4NjUxNDczMjExLEFuYWx5dGljIHRocm91Z2gNCjE1NzYuNjkxNzI5MzIzMzA4MiwwLjk5MzIxODA2OTgxMTkwNzMsMC45OTMyMTgwNjk4MTE5MDczLEFuYWx5dGljIHRocm91Z2gNCjE1NzYuOTQyMzU1ODg5NzI0NSwwLjk5NTIyMjE1MTM2NjM4MjQsMC45OTUyMjIxNTEzNjYzODI0LEFuYWx5dGljIHRocm91Z2gNCjE1NzcuMTkyOTgyNDU2MTQwMywwLjk5Njg3NzAzMDcxNzQ0NzcsMC45OTY4NzcwMzA3MTc0NDc3LEFuYWx5dGljIHRocm91Z2gNCjE1NzcuNDQzNjA5MDIyNTU2NSwwLjk5ODE4MTg3NjMyODg3NzEsMC45OTgxODE4NzYzMjg4NzcxLEFuYWx5dGljIHRocm91Z2gNCjE1NzcuNjk0MjM1NTg4OTcyNiwwLjk5OTEzNjEwNDI1NzEzOTQsMC45OTkxMzYxMDQyNTcxMzk0LEFuYWx5dGljIHRocm91Z2gNCjE1NzcuOTQ0ODYyMTU1Mzg4NCwwLjk5OTczOTM3ODAxMjM5ODQsMC45OTk3MzkzNzgwMTIzOTg0LEFuYWx5dGljIHRocm91Z2gNCjE1NzguMTk1NDg4NzIxODA0NiwwLjk5OTk5MTYwODI0NTU3MDQsMC45OTk5OTE2MDgyNDU1NzA0LEFuYWx5dGljIHRocm91Z2gNCjE1NzguNDQ2MTE1Mjg4MjIwNywwLjk5OTg5Mjk1MjI2MjI4MTcsMC45OTk4OTI5NTIyNjIyODE3LEFuYWx5dGljIHRocm91Z2gNCjE1NzguNjk2NzQxODU0NjM2NywwLjk5OTQ0MzgxMzM2NDY3MDYsMC45OTk0NDM4MTMzNjQ2NzA2LEFuYWx5dGljIHRocm91Z2gNCjE1NzguOTQ3MzY4NDIxMDUyNywwLjk5ODY0NDg0MDAyMjA5MDksMC45OTg2NDQ4NDAwMjIwOTA5LEFuYWx5dGljIHRocm91Z2gNCjE1NzkuMTk3OTk0OTg3NDY4NywwLjk5NzQ5NjkyNDg3MTkwMzEsMC45OTc0OTY5MjQ4NzE5MDMxLEFuYWx5dGljIHRocm91Z2gNCjE1NzkuNDQ4NjIxNTUzODg0OCwwLjk5NjAwMTIwMzU1MTY0ODYsMC45OTYwMDEyMDM1NTE2NDg2LEFuYWx5dGljIHRocm91Z2gNCjE1NzkuNjk5MjQ4MTIwMzAxLDAuOTk0MTU5MDUzMzY0MDA5MSwwLjk5NDE1OTA1MzM2NDAwOTEsQW5hbHl0aWMgdGhyb3VnaA0KMTU3OS45NDk4NzQ2ODY3MTY4LDAuOTkxOTcyMDkxNzc2MDg3LDAuOTkxOTcyMDkxNzc2MDg3LEFuYWx5dGljIHRocm91Z2gNCjE1ODAuMjAwNTAxMjUzMTMyOSwwLjk4OTQ0MjE3NDc1NDU5OTMsMC45ODk0NDIxNzQ3NTQ1OTkzLEFuYWx5dGljIHRocm91Z2gNCjE1ODAuNDUxMTI3ODE5NTQ5LDAuOTg2NTcxMzk0OTM4Nzk2OSwwLjk4NjU3MTM5NDkzODc5NjksQW5hbHl0aWMgdGhyb3VnaA0KMTU4MC43MDE3NTQzODU5NjUsMC45ODMzNjIwNzk2NTI4NzIzLDAuOTgzMzYyMDc5NjUyODcyMyxBbmFseXRpYyB0aHJvdWdoDQoxNTgwLjk1MjM4MDk1MjM4MTIsMC45Nzk4MTY3ODg3NTk4NjI5LDAuOTc5ODE2Nzg4NzU5ODYyOSxBbmFseXRpYyB0aHJvdWdoDQoxNTgxLjIwMzAwNzUxODc5NywwLjk3NTkzODMxMjM1OTA5MzksMC45NzU5MzgzMTIzNTkwOTM5LEFuYWx5dGljIHRocm91Z2gNCjE1ODEuNDUzNjM0MDg1MjEzLDAuOTcxNzI5NjY4MzI5MjkzNiwwLjk3MTcyOTY2ODMyOTI5MzYsQW5hbHl0aWMgdGhyb3VnaA0KMTU4MS43MDQyNjA2NTE2MjksMC45NjcxOTQwOTk3MTk2ODA0LDAuOTY3MTk0MDk5NzE5NjgwNCxBbmFseXRpYyB0aHJvdWdoDQoxNTgxLjk1NDg4NzIxODA0NSwwLjk2MjMzNTA3MTk5MTMzOTcsMC45NjIzMzUwNzE5OTEzMzk3LEFuYWx5dGljIHRocm91Z2gNCjE1ODIuMjA1NTEzNzg0NDYxMywwLjk1NzE1NjI3MDExMTMyMDEsMC45NTcxNTYyNzAxMTEzMjAxLEFuYWx5dGljIHRocm91Z2gNCjE1ODIuNDU2MTQwMzUwODc3MSwwLjk1MTY2MTU5NTUwMjA5MjEsMC45NTE2NjE1OTU1MDIwOTIxLEFuYWx5dGljIHRocm91Z2gNCjE1ODIuNzA2NzY2OTE3MjkzNCwwLjk0NTg1NTE2Mjg0ODgxMjUsMC45NDU4NTUxNjI4NDg4MTI1LEFuYWx5dGljIHRocm91Z2gNCjE1ODIuOTU3MzkzNDgzNzA5NCwwLjkzOTc0MTI5Njc2NzM4NDgsMC45Mzk3NDEyOTY3NjczODQ4LEFuYWx5dGljIHRocm91Z2gNCjE1ODMuMjA4MDIwMDUwMTI1MiwwLjkzMzMyNDUyODMzNTgyMDcsMC45MzMzMjQ1MjgzMzU4MjA3LEFuYWx5dGljIHRocm91Z2gNCjE1ODMuNDU4NjQ2NjE2NTQxNSwwLjkyNjYwOTU5MTQ5MjAxNDUsMC45MjY2MDk1OTE0OTIwMTQ1LEFuYWx5dGljIHRocm91Z2gNCjE1ODMuNzA5MjczMTgyOTU3MywwLjkxOTYwMTQxOTMwMDg1MTksMC45MTk2MDE0MTkzMDA4NTE5LEFuYWx5dGljIHRocm91Z2gNCjE1ODMuOTU5ODk5NzQ5MzczNiwwLjkxMjMwNTE0MDA5MzYwMiwwLjkxMjMwNTE0MDA5MzYwMixBbmFseXRpYyB0aHJvdWdoDQoxNTg0LjIxMDUyNjMxNTc4OTYsMC45MDQ3MjYwNzM0ODI4OTQ0LDAuOTA0NzI2MDczNDgyODk0NCxBbmFseXRpYyB0aHJvdWdoDQoxNTg0LjQ2MTE1Mjg4MjIwNTYsMC44OTY4Njk3MjYyNTYyNjk3LDAuODk2ODY5NzI2MjU2MjY5NyxBbmFseXRpYyB0aHJvdWdoDQoxNTg0LjcxMTc3OTQ0ODYyMTcsMC44ODg3NDE3ODgxNTE4MzY3LDAuODg4NzQxNzg4MTUxODM2NyxBbmFseXRpYyB0aHJvdWdoDQoxNTg0Ljk2MjQwNjAxNTAzNzcsMC44ODAzNDgxMjc1MTkxMjcyLDAuODgwMzQ4MTI3NTE5MTI3MixBbmFseXRpYyB0aHJvdWdoDQoxNTg1LjIxMzAzMjU4MTQ1MzcsMC44NzE2OTQ3ODY4Njg2NTI5LDAuODcxNjk0Nzg2ODY4NjUyOSxBbmFseXRpYyB0aHJvdWdoDQoxNTg1LjQ2MzY1OTE0Nzg2OTcsMC44NjI3ODc5NzgzMTM3NzkyLDAuODYyNzg3OTc4MzEzNzc5MixBbmFseXRpYyB0aHJvdWdoDQoxNTg1LjcxNDI4NTcxNDI4NTgsMC44NTM2MzQwNzg5MDgxMTIsMC44NTM2MzQwNzg5MDgxMTIsQW5hbHl0aWMgdGhyb3VnaA0KMTU4NS45NjQ5MTIyODA3MDE4LDAuODQ0MjM5NjI1ODgyMzkxNCwwLjg0NDIzOTYyNTg4MjM5MTQsQW5hbHl0aWMgdGhyb3VnaA0KMTU4Ni4yMTU1Mzg4NDcxMTgsMC44MzQ2MTEzMTE3ODQxNjc0LDAuODM0NjExMzExNzg0MTY3NCxBbmFseXRpYyB0aHJvdWdoDQoxNTg2LjQ2NjE2NTQxMzUzMzksMC44MjQ3NTU5Nzk1MjQyMzMxLDAuODI0NzU1OTc5NTI0MjMzMSxBbmFseXRpYyB0aHJvdWdoDQoxNTg2LjcxNjc5MTk3OTk1LDAuODE0NjgwNjE3MzMzMzQ5LDAuODE0NjgwNjE3MzMzMzQ5LEFuYWx5dGljIHRocm91Z2gNCjE1ODYuOTY3NDE4NTQ2MzY2LDAuODA0MzkyMzUzNjMzMjQzMSwwLjgwNDM5MjM1MzYzMzI0MzEsQW5hbHl0aWMgdGhyb3VnaA0KMTU4Ny4yMTgwNDUxMTI3ODIsMC43OTM4OTg0NTE4MjU1ODQzLDAuNzkzODk4NDUxODI1NTg0MyxBbmFseXRpYyB0aHJvdWdoDQoxNTg3LjQ2ODY3MTY3OTE5ODIsMC43ODMyMDYzMDUwMDI4MzE2LDAuNzgzMjA2MzA1MDAyODMxNixBbmFseXRpYyB0aHJvdWdoDQoxNTg3LjcxOTI5ODI0NTYxNCwwLjc3MjMyMzQzMDU4NDk2NTMsMC43NzIzMjM0MzA1ODQ5NjUzLEFuYWx5dGljIHRocm91Z2gNCjE1ODcuOTY5OTI0ODEyMDMwMywwLjc2MTI1NzQ2NDg4NTgzMjksMC43NjEyNTc0NjQ4ODU4MzI5LEFuYWx5dGljIHRocm91Z2gNCjE1ODguMjIwNTUxMzc4NDQ2LDAuNzUwMDE2MTU3NjEzNDc1NiwwLjc1MDAxNjE1NzYxMzQ3NTYsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OC40NzExNzc5NDQ4NjIxLDAuNzM4NjA3MzY2MzA3OTQ1NywwLjczODYwNzM2NjMwNzk0NTcsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OC43MjE4MDQ1MTEyNzg0LDAuNzI3MDM5MDUwNzIxMTQwMSwwLjcyNzAzOTA1MDcyMTE0MDEsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OC45NzI0MzEwNzc2OTQyLDAuNzE1MzE5MjY3MTQyMzU1MywwLjcxNTMxOTI2NzE0MjM1NTMsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OS4yMjMwNTc2NDQxMTA0LDAuNzAzNDU2MTYyNjczODU1NiwwLjcwMzQ1NjE2MjY3Mzg1NTYsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OS40NzM2ODQyMTA1MjY1LDAuNjkxNDU3OTY5NDYwNDYwMiwwLjY5MTQ1Nzk2OTQ2MDQ2MDIsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OS43MjQzMTA3NzY5NDIzLDAuNjc5MzMyOTk4ODc3MjQxNywwLjY3OTMzMjk5ODg3NzI0MTcsQW5hbHl0aWMgdGhyb3VnaA0KMTU4OS45NzQ5MzczNDMzNTg1LDAuNjY3MDg5NjM1Njc5NTg2NiwwLjY2NzA4OTYzNTY3OTU4NjYsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MC4yMjU1NjM5MDk3NzQzLDAuNjU0NzM2MzMyMTE5NjkzNSwwLjY1NDczNjMzMjExOTY5MzUsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MC40NzYxOTA0NzYxOTA2LDAuNjQyMjgxNjAyMDMzNDg5MiwwLjY0MjI4MTYwMjAzMzQ4OTIsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MC43MjY4MTcwNDI2MDY2LDAuNjI5NzM0MDE0OTAyNDQ2NiwwLjYyOTczNDAxNDkwMjQ0NjYsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MC45Nzc0NDM2MDkwMjI3LDAuNjE3MTAyMTg5ODk0MDY1NCwwLjYxNzEwMjE4OTg5NDA2NTQsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MS4yMjgwNzAxNzU0Mzg3LDAuNjA0Mzk0Nzg5ODg1NTYyNSwwLjYwNDM5NDc4OTg4NTU2MjUsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MS40Nzg2OTY3NDE4NTQ3LDAuNTkxNjIwNTE1NDc0NTA0MywwLjU5MTYyMDUxNTQ3NDUwNDMsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MS43MjkzMjMzMDgyNzA4LDAuNTc4Nzg4MDk4OTgwODU3NiwwLjU3ODc4ODA5ODk4MDg1NzYsQW5hbHl0aWMgdGhyb3VnaA0KMTU5MS45Nzk5NDk4NzQ2ODY4LDAuNTY1OTA2Mjk4NDQ0MzMzNCwwLjU2NTkwNjI5ODQ0NDMzMzQsQW5hbHl0aWMgdGhyb3VnaA0KMTU5Mi4yMzA1NzY0NDExMDI4LDAuNTUyOTgzODkxNjIxMjMxNCwwLjU1Mjk4Mzg5MTYyMTIzMTQsQW5hbHl0aWMgdGhyb3VnaA0KMTU5Mi40ODEyMDMwMDc1MTg4LDAuNTQwMDI5NjY5OTg0OTczLDAuNTQwMDI5NjY5OTg0OTczLEFuYWx5dGljIHRocm91Z2gNCjE1OTIuNzMxODI5NTczOTM1LDAuNTI3MDUyNDMyNzM0MTM0NiwwLjUyNzA1MjQzMjczNDEzNDYsQW5hbHl0aWMgdGhyb3VnaA0KMTU5Mi45ODI0NTYxNDAzNTEsMC41MTQwNjA5ODA4MTIzMDIsMC41MTQwNjA5ODA4MTIzMDIsQW5hbHl0aWMgdGhyb3VnaA0KMTU5My4yMzMwODI3MDY3NjcsMC41MDEwNjQxMTA5NDM2MTAzLDAuNTAxMDY0MTEwOTQzNjEwMyxBbmFseXRpYyB0aHJvdWdoDQoxNTkzLjQ4MzcwOTI3MzE4MywwLjQ4ODA3MDYwOTY4Nzk1NTcsMC40ODgwNzA2MDk2ODc5NTU3LEFuYWx5dGljIHRocm91Z2gNCjE1OTMuNzM0MzM1ODM5NTk5LDAuNDc1MDg5MjQ3NTIwMDI2ODUsMC40NzUwODkyNDc1MjAwMjY4NSxBbmFseXRpYyB0aHJvdWdoDQoxNTkzLjk4NDk2MjQwNjAxNTMsMC40NjIxMjg3NzI5MzU3OTAxMywwLjQ2MjEyODc3MjkzNTc5MDEzLEFuYWx5dGljIHRocm91Z2gNCjE1OTQuMjM1NTg4OTcyNDMxLDAuNDQ5MTk3OTA2NTkwNjk4OCwwLjQ0OTE5NzkwNjU5MDY5ODgsQW5hbHl0aWMgdGhyb3VnaA0KMTU5NC40ODYyMTU1Mzg4NDczLDAuNDM2MzA1MzM1NDczMDQ5MiwwLjQzNjMwNTMzNTQ3MzA0OTIsQW5hbHl0aWMgdGhyb3VnaA0KMTU5NC43MzY4NDIxMDUyNjMxLDAuNDIzNDU5NzA3MTE2ODMwOSwwLjQyMzQ1OTcwNzExNjgzMDksQW5hbHl0aWMgdGhyb3VnaA0KMTU5NC45ODc0Njg2NzE2NzkyLDAuNDEwNjY5NjIzODU3MzA2MiwwLjQxMDY2OTYyMzg1NzMwNjIsQW5hbHl0aWMgdGhyb3VnaA0KMTU5NS4yMzgwOTUyMzgwOTU0LDAuMzk3OTQzNjM3MTMzNDM4NywwLjM5Nzk0MzYzNzEzMzQzODcsQW5hbHl0aWMgdGhyb3VnaA0KMTU5NS40ODg3MjE4MDQ1MTEyLDAuMzg1MjkwMjQxODQwODI4MzMsMC4zODUyOTAyNDE4NDA4MjgzMyxBbmFseXRpYyB0aHJvdWdoDQoxNTk1LjczOTM0ODM3MDkyNzUsMC4zNzI3MTc4NzA3Mzg0NTI5NywwLjM3MjcxNzg3MDczODQ1Mjk3LEFuYWx5dGljIHRocm91Z2gNCjE1OTUuOTg5OTc0OTM3MzQzNSwwLjM2MDIzNDg4ODkxMzM2ODk3LDAuMzYwMjM0ODg4OTEzMzY4OTcsQW5hbHl0aWMgdGhyb3VnaA0KMTU5Ni4yNDA2MDE1MDM3NTk1LDAuMzQ3ODQ5NTg4MzA2Mjk0NTMsMC4zNDc4NDk1ODgzMDYyOTQ1MyxBbmFseXRpYyB0aHJvdWdoDQoxNTk2LjQ5MTIyODA3MDE3NTYsMC4zMzU1NzAxODIzMDIwOTQ5LDAuMzM1NTcwMTgyMzAyMDk0OSxBbmFseXRpYyB0aHJvdWdoDQoxNTk2Ljc0MTg1NDYzNjU5MTQsMC4zMjM0MDQ4MDAzODgxNzIyLDAuMzIzNDA0ODAwMzg4MTcyMixBbmFseXRpYyB0aHJvdWdoDQoxNTk2Ljk5MjQ4MTIwMzAwNzYsMC4zMTEzNjE0ODI4ODQzOTQxNCwwLjMxMTM2MTQ4Mjg4NDM5NDE0LEFuYWx5dGljIHRocm91Z2gNCjE1OTcuMjQzMTA3NzY5NDIzNywwLjI5OTQ0ODE3NTc0Nzc3OTMsMC4yOTk0NDgxNzU3NDc3NzkzLEFuYWx5dGljIHRocm91Z2gNCjE1OTcuNDkzNzM0MzM1ODM5NywwLjI4NzY3MjcyNTQ1NTA4MjI3LDAuMjg3NjcyNzI1NDU1MDgyMjcsQW5hbHl0aWMgdGhyb3VnaA0KMTU5Ny43NDQzNjA5MDIyNTU3LDAuMjc2MDQyODczOTY2NjA3ODcsMC4yNzYwNDI4NzM5NjY2MDc4NyxBbmFseXRpYyB0aHJvdWdoDQoxNTk3Ljk5NDk4NzQ2ODY3MTgsMC4yNjQ1NjYyNTM3NzQyMjY0MywwLjI2NDU2NjI1Mzc3NDIyNjQzLEFuYWx5dGljIHRocm91Z2gNCjE1OTguMjQ1NjE0MDM1MDg3OCwwLjI1MzI1MDM4MzAzNjY4MjQ2LDAuMjUzMjUwMzgzMDM2NjgyNDYsQW5hbHl0aWMgdGhyb3VnaA0KMTU5OC40OTYyNDA2MDE1MDM4LDAuMjQyMTAyNjYwODA1MjAxOTMsMC4yNDIxMDI2NjA4MDUyMDE5MyxBbmFseXRpYyB0aHJvdWdoDQoxNTk4Ljc0Njg2NzE2NzkxOTgsMC4yMzExMzAzNjIzNDIxNjk1LDAuMjMxMTMwMzYyMzQyMTY5NSxBbmFseXRpYyB0aHJvdWdoDQoxNTk4Ljk5NzQ5MzczNDMzNTksMC4yMjAzNDA2MzQ1MzU3NzM1MiwwLjIyMDM0MDYzNDUzNTc3MzUyLEFuYWx5dGljIHRocm91Z2gNCjE1OTkuMjQ4MTIwMzAwNzUyMSwwLjIwOTc0MDQ5MTQxMzQyMzIsMC4yMDk3NDA0OTE0MTM0MjMyLEFuYWx5dGljIHRocm91Z2gNCjE1OTkuNDk4NzQ2ODY3MTY4LDAuMTk5MzM2ODA5NzU2NDIzNiwwLjE5OTMzNjgwOTc1NjQyMzYsQW5hbHl0aWMgdGhyb3VnaA0KMTU5OS43NDkzNzM0MzM1ODQyLDAuMTg5MTM2MzI0ODE4NTc3OSwwLjE4OTEzNjMyNDgxODU3NzksQW5hbHl0aWMgdGhyb3VnaA0KMTYwMC4wLDAuMTc5MTQ1NjI2MTUxNDAyNjcsMC4xNzkxNDU2MjYxNTE0MDI2NyxBbmFseXRpYyB0aHJvdWdoDQo=\u0026quot;' data-filename='\u0026quot;mzi_spectrum.csv\u0026quot;' data-disabled='false' data-lazy='false'\u003E\u003C/marimo-download\u003E\u003C/marimo-ui-element\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003C/span\u003E\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cdiv style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='TXez-0' random-id='079f0a16-e314-cf12-ffcf-66cdbbc7c481'\u003E\u003Cmarimo-checkbox data-initial-value='true' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Live update\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-disabled='false'\u003E\u003C/marimo-checkbox\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='TXez-1' random-id='1465f708-70fa-121e-8a85-ca43021a738a'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Apply\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-tooltip='\u0026quot;When Live update is off, click Apply to recompute.\u0026quot;' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cmarimo-ui-element object-id='TXez-4' random-id='e66eac95-e235-49e3-1829-22116635bc10'\u003E\u003Cmarimo-tabs data-initial-value='\u0026quot;0\u0026quot;' data-label='null' data-tabs='[\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Basic\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;,\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Advanced\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;]'\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='TXez-2' random-id='22021c91-e7bb-c398-daec-a2eacc923339'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cdiv data-kind='tab'\u003E\u003Cmarimo-ui-element object-id='TXez-3' random-id='2ec8abdb-7949-51fb-67d4-490f2c69ba39'\u003E\u003Cmarimo-lazy data-initial-value='false' data-label='null' data-show-loading-indicator='false'\u003E\u003C/marimo-lazy\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003C/marimo-tabs\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003ENext:\u003C/strong\u003E scroll down for the \u003Cstrong\u003EFSR measurement tool\u003C/strong\u003E.\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "d5b74a4cdde836bb9e9c1c90b16eea27", "console": [], "id": "dGlV", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4e1e2b21b1546a20db1d601bee473562", "console": [], "id": "SdmI", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"fsr-measurement-tool\"\u003EFSR measurement tool\u003C/h3\u003E\u003C/span\u003E\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Tool:\u0026lt;/strong\u0026gt; Measure the FSR from the plot\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026#92;n  Hover a curve to read wavelengths from the tooltip. Enter two \u0026lt;em\u0026gt;adjacent maxima\u0026lt;/em\u0026gt; wavelengths\u0026#92;n  (in nm) below; the tool computes the measured FSR and compares it to the rule-of-thumb estimate\u0026#92;n  shown below.\u0026#92;n\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;'\u003E\u003C/marimo-callout-output\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003ERule-of-thumb: \u003Cmarimo-tex class=\"arithmatex\"\u003E||(\\mathrm{FSR} \\approx \\lambda_0^2/(n_g\\,\\Delta L)||)\u003C/marimo-tex\u003E.\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EDerivation link: an FSR is the \u0394\u03bb that makes the relative phase change by \u003Cstrong\u003E2\u03c0\u003C/strong\u003E near \u03bb0.\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EUsing: \u003Cstrong\u003E\u0394L = 10.00 \u00b5m\u003C/strong\u003E (effective), \u003Cstrong\u003E\u03bb0 = 1550.0 nm\u003C/strong\u003E, \u003Cstrong\u003Eng = 4.19\u003C/strong\u003E.\u003C/span\u003E\u003C/span\u003E\u003Cdiv style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='dGlV-0' random-id='a93d051f-dd31-ce32-0a08-13ae7711504a'\u003E\u003Cmarimo-dropdown data-initial-value='[\u0026quot;Best available\u0026quot;]' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Auto-measure from\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-options='[\u0026quot;Best available\u0026quot;,\u0026quot;Analytic\u0026quot;,\u0026quot;Simphony\u0026quot;,\u0026quot;Student expression\u0026quot;]' data-allow-select-none='false' data-searchable='false' data-full-width='false'\u003E\u003C/marimo-dropdown\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003EAuto-measured FSR (Analytic, 2 peaks found):\u003C/strong\u003E \u003Cstrong\u003E57.14 nm\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003Cmarimo-ui-element object-id='SdmI-0' random-id='efabc223-674c-4f4b-2a1d-5d93f01506b7'\u003E\u003Cmarimo-button data-initial-value='0' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;Use auto peaks (\u03bb1=1521.05 nm, \u03bb2=1578.20 nm)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;neutral\u0026quot;' data-disabled='false' data-full-width='false'\u003E\u003C/marimo-button\u003E\u003C/marimo-ui-element\u003E\u003Cdiv style='display: flex;flex: 1;flex-direction: row;justify-content: space-between;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cmarimo-ui-element object-id='dGlV-1' random-id='c364113b-75e4-8ab3-f34f-59ecdc657dfd'\u003E\u003Cmarimo-text data-initial-value='\u0026quot;\u0026quot;' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u03bb1 (nm)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-placeholder='\u0026quot;\u0026quot;' data-kind='\u0026quot;text\u0026quot;' data-full-width='false' data-disabled='false' data-debounce='true'\u003E\u003C/marimo-text\u003E\u003C/marimo-ui-element\u003E\u003Cmarimo-ui-element object-id='dGlV-2' random-id='7f96086f-2317-8dd2-7e7c-b4c06ee34b18'\u003E\u003Cmarimo-text data-initial-value='\u0026quot;\u0026quot;' data-label='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u03bb2 (nm)\u0026lt;/span\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-placeholder='\u0026quot;\u0026quot;' data-kind='\u0026quot;text\u0026quot;' data-full-width='false' data-disabled='false' data-debounce='true'\u003E\u003C/marimo-text\u003E\u003C/marimo-ui-element\u003E\u003C/div\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EEstimated ideal FSR (using ng): \u003Cstrong\u003E57.34 nm\u003C/strong\u003E\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EEnter \u003Ccode\u003E\u03bb1\u003C/code\u003E and \u003Ccode\u003E\u03bb2\u003C/code\u003E to compute the measured FSR.\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "9f3af3f7ee605e2bc815c3cbc0a743ae", "console": [], "id": "lgWD", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f26bd616e02a3b9180054f6a179ebf27", "console": [], "id": "yOPj", "outputs": [{"data": {"text/html": "\u003Cmarimo-callout-output data-html='\u0026quot;\u0026lt;span class=\u0026#92;\u0026quot;markdown prose dark:prose-invert contents\u0026#92;\u0026quot;\u0026gt;\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;\u0026lt;strong\u0026gt;Common mistakes:\u0026lt;/strong\u0026gt; Debugging \u201cmy FSR doesn\u2019t match\u201d\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;span class=\u0026#92;\u0026quot;paragraph\u0026#92;\u0026quot;\u0026gt;- \u0026lt;strong\u0026gt;Preset override:\u0026lt;/strong\u0026gt; if a \u0394L preset is active, moving the \u0394L slider won\u2019t change the plot\u2014set \u0026lt;em\u0026gt;Parameter preset \u2192 Custom\u0026lt;/em\u0026gt;.\u0026lt;/span\u0026gt;\u0026#92;n\u0026lt;ul\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Stale \u03bb1/\u03bb2:\u0026lt;/strong\u0026gt; if you change \u0394L, \u03bb0, ng, or View mode, re-pick new adjacent maxima; old values won\u2019t match.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;ng vs neff:\u0026lt;/strong\u0026gt; \u0026lt;code\u0026gt;n_g\u0026lt;/code\u0026gt; sets fringe spacing (FSR); \u0026lt;code\u0026gt;n_eff(\u03bb0)\u0026lt;/code\u0026gt; sets phase offset. Don\u2019t expect them to do the same thing.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;li\u0026gt;\u0026lt;strong\u0026gt;Simphony availability:\u0026lt;/strong\u0026gt; if Simphony is unavailable or errors, Overlay won\u2019t show a second curve\u2014check the \u0026lt;em\u0026gt;Simphony:\u0026lt;/em\u0026gt; status in the Model panel.\u0026lt;/li\u0026gt;\u0026#92;n\u0026lt;/ul\u0026gt;\u0026lt;/span\u0026gt;\u0026quot;' data-kind='\u0026quot;warn\u0026quot;'\u003E\u003C/marimo-callout-output\u003E"}, "type": "data"}]}, {"code_hash": "355669dd5e05f609629e9db4018174fd", "console": [], "id": "fwwy", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch3 id=\"guided-exploration\"\u003EGuided exploration\u003C/h3\u003E\n\u003Cspan class=\"paragraph\"\u003ETry adjusting the sliders above and observe how the spectrum changes:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003EIncrease \u0394L\u003C/strong\u003E: what happens to the fringe spacing (FSR)?\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003EChange base arm length\u003C/strong\u003E: does this change the fringe spacing in a lossless model?\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EYou can think ahead to fabrication: base arm length affects footprint (and later, loss).\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "9b0247687420c67d458449ec6ce17f00", "console": [], "id": "LJZf", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EAnalytic model currently uses \u0394L = \u003Cstrong\u003E10.0 \u00b5m\u003C/strong\u003E.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "20abd318b2aad131e7b927a08be9898b", "console": [], "id": "urSm", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ca id=\"layout\"\u003E\u003C/a\u003E\u003C/span\u003E\n\u003Ch2 id=\"from-model-to-layout-gdsfactory\"\u003EFrom model to layout: gdsfactory\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EThe interactive plot above can show \u003Cstrong\u003Etwo different curves\u003C/strong\u003E (choose \u003Cem\u003EView \u2192 Overlay\u003C/em\u003E):\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003EAnalytic curve:\u003C/strong\u003E our \u201cby-hand\u201d ideal model, derived from interference and a simple phase term.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ESimphony curve:\u003C/strong\u003E a \u003Cstrong\u003Ecircuit simulation\u003C/strong\u003E assembled from \u003Cstrong\u003Ecomponent models\u003C/strong\u003E (compact models) using SAX.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EIn the Simphony view, the MZI isn\u2019t \u201cdrawn\u201d \u2014 it\u2019s built from \u003Cem\u003Ebuilding blocks\u003C/em\u003E (splitter, waveguides, combiner),\nwhere each block has a wavelength-dependent response (often represented as an \u003Cstrong\u003ES-matrix\u003C/strong\u003E). SAX connects these\nblocks according to a netlist and computes the overall response.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003E\u003Cstrong\u003ESo where does gdsfactory fit?\u003C/strong\u003E\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003Egdsfactory is our layout engine: it builds \u003Cstrong\u003Egeometry\u003C/strong\u003E (Components with ports and waveguides) and exports \u003Cstrong\u003EGDS\u003C/strong\u003E.\nIn this notebook, gdsfactory appears here as a transition: you\u2019ve modelled an MZI\u2019s behavior, and next you\u2019ll\nlearn how to \u003Cem\u003Erealize\u003C/em\u003E an MZI in layout with the right ports, routing, and parameter control.\u003C/span\u003E\n\u003Cspan class=\"paragraph\"\u003EThis section builds a simple example MZI layout using \u003Ccode\u003Egf.components.mzi(...)\u003C/code\u003E and shows an SVG preview inside marimo when possible. You can also export a GDS file for inspection in KLayout.\u003C/span\u003E\u003C/span\u003E"}, "type": "data"}]}, {"code_hash": "a18af6ed6636909e059c082c0a70562b", "console": [], "id": "jxvo", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "c072ef1177198b6811d1b12c27105c8d", "console": [], "id": "mWxS", "outputs": [{"data": {"text/html": "\u003Cdiv style='display: flex;flex: 1;flex-direction: column;justify-content: flex-start;align-items: normal;flex-wrap: nowrap;gap: 0.5rem'\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003E\u003Ccode\u003Egdsfactory\u003C/code\u003E is not available in this environment.\u003C/span\u003E\u003C/span\u003E\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Cspan class=\"paragraph\"\u003EDetails: \u003Ccode\u003EPB_SKIP_GF=1\u003C/code\u003E\u003C/span\u003E\u003C/span\u003E\u003C/div\u003E"}, "type": "data"}]}, {"code_hash": "0ddd51ec2256c05a71ef21c1307fa8be", "console": [], "id": "CcZR", "outputs": [{"data": {"text/markdown": "\u003Cspan class=\"markdown prose dark:prose-invert contents\"\u003E\u003Ch2 id=\"whats-next\"\u003EWhat\u2019s next\u003C/h2\u003E\n\u003Cspan class=\"paragraph\"\u003EIn \u003Ccode\u003Emarimo_course/lessons/w02_pdk_mzi_layout.py\u003C/code\u003E, you\u2019ll shift from modelling to implementation:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003EBuild an MZI layout from PDK building blocks with correct ports and routing.\u003C/li\u003E\n\u003Cli\u003EControl \u0394L in geometry and verify it matches the modelling intuition from this notebook.\u003C/li\u003E\n\u003Cli\u003EExport GDS and inspect it (KLayout), preparing for more realistic PDK-accurate circuits.\u003C/li\u003E\n\u003C/ul\u003E\n\u003Cspan class=\"paragraph\"\u003EIn upcoming modelling lessons, we\u2019ll add realism step-by-step:\u003C/span\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003EDispersion:\u003C/strong\u003E use a wavelength-dependent \u003Ccode\u003En_eff(\u03bb)\u003C/code\u003E so \u003Ccode\u003En_g\u003C/code\u003E emerges naturally (and FSR becomes a local approximation).\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ELoss + visibility:\u003C/strong\u003E include propagation loss (and later, imbalance) so fringes aren\u2019t perfectly 0\u20131.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ENon-ideal couplers:\u003C/strong\u003E explore splitter imbalance and phase conventions, and how they affect \u201cthrough vs cross\u201d.\u003C/li\u003E\n\u003Cli\u003E\u003Cstrong\u003ETuning/modulation:\u003C/strong\u003E connect phase tuning (thermal/electrical) to a shift in the interference pattern.\u003C/li\u003E\n\u003C/ul\u003E\u003C/span\u003E"}, "type": "data"}]}], "metadata": {"marimo_version": "0.18.4"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.18.4%22%0Aapp%20%3D%20marimo.App()%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20inject_css%0A%0A%20%20%20%20inject_css(mo)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20make_doc_helpers%0A%0A%20%20%20%20doc_badges%2C%20doc_callout_html%2C%20doc_callout_list%20%3D%20make_doc_helpers(mo)%0A%20%20%20%20return%20doc_badges%2C%20doc_callout_html%2C%20doc_callout_list%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20make_section_tabs%0A%0A%20%20%20%20section_tabs%2C%20view_state%2C%20set_view%20%3D%20make_section_tabs(mo)%0A%20%20%20%20section_tabs%0A%20%20%20%20return%20set_view%2C%20view_state%0A%0A%0A%40app.cell%0Adef%20_(view_state)%3A%0A%20%20%20%20view%20%3D%20view_state()%0A%20%20%20%20show_overview%20%3D%20view%20in%20%5B%22All%22%2C%20%22Overview%22%5D%0A%20%20%20%20show_theory%20%3D%20view%20in%20%5B%22All%22%2C%20%22Theory%22%5D%0A%20%20%20%20show_interactive%20%3D%20view%20in%20%5B%22All%22%2C%20%22Interactive%22%5D%0A%20%20%20%20show_layout_section%20%3D%20view%20in%20%5B%22All%22%2C%20%22Layout%22%5D%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20show_interactive%2C%0A%20%20%20%20%20%20%20%20show_layout_section%2C%0A%20%20%20%20%20%20%20%20show_overview%2C%0A%20%20%20%20%20%20%20%20show_theory%2C%0A%20%20%20%20%20%20%20%20view%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20doc_badges%2C%0A%20%20%20%20show_interactive%2C%0A%20%20%20%20show_layout_section%2C%0A%20%20%20%20show_overview%2C%0A%20%20%20%20show_theory%2C%0A%20%20%20%20view%2C%0A)%3A%0A%20%20%20%20doc_badges(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Notebook%20view%3A%20%3Cstrong%3E%7Bview%7D%3C%2Fstrong%3E%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Flags%3A%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22overview%3D%7Bshow_overview%7D%2C%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22theory%3D%7Bshow_theory%7D%2C%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22interactive%3D%7Bshow_interactive%7D%2C%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22layout%3D%7Bshow_layout_section%7D%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20from%20_style%20import%20header%0A%0A%20%20%20%20header(%0A%20%20%20%20%20%20%20%20mo%2C%0A%20%20%20%20%20%20%20%20title%3D%22MZI%20modelling%22%2C%0A%20%20%20%20%20%20%20%20subtitle%3D(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Build%20intuition%20for%20a%20Mach%E2%80%93Zehnder%20interferometer%20(MZI)%2C%20derive%20its%20transfer%20function%2C%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22and%20connect%20one%20key%20layout%20parameter%20(%CE%94L)%20to%20a%20measurable%20signature%20(FSR).%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%22We%E2%80%99ll%20also%20preview%20how%20this%20maps%20to%20layout%2C%20but%20layout%20work%20happens%20in%20the%20next%20lesson.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20badges%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Week%202%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Lab%20companion%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Interference%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Transfer%20functions%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%221550%20nm%20(default)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Simphony%20(optional)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Layout%20bridge%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20toc%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Overview%22%2C%20%22overview%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Glossary%22%2C%20%22glossary%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Theory%22%2C%20%22theory%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Interactive%22%2C%20%22interactive%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%22Layout%22%2C%20%22layout%22)%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20build%3D%222025-12-14%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20make_health_refresh_button%0A%0A%20%20%20%20health_refresh%20%3D%20make_health_refresh_button(mo)%0A%20%20%20%20return%20(health_refresh%2C)%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20health_refresh%2C%20mo)%3A%0A%20%20%20%20from%20_notebook_template%20import%20safe_editing_panel%0A%0A%20%20%20%20safe_editing_panel(%0A%20%20%20%20%20%20%20%20mo%2C%0A%20%20%20%20%20%20%20%20doc_callout_html%2C%0A%20%20%20%20%20%20%20%20health_refresh%2C%0A%20%20%20%20%20%20%20%20restore_command%3D%22git%20-C%20Photonics-Bootcamp%20restore%20marimo_course%2Flessons%2Fw02_mzi_modelling.py%22%2C%0A%20%20%20%20%20%20%20%20external_check_command%3D%22python3%20marimo_course%2Flessons%2Fcheck_notebook_health.py%20marimo_course%2Flessons%2Fw02_mzi_modelling.py%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_list%2C%20mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Roadmap%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22How%20this%20notebook%20fits%20together%22%2C%0A%20%20%20%20%20%20%20%20ordered%3DTrue%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EAnalytic%20model%3A%3C%2Fstrong%3E%20derive%20a%20simple%20MZI%20transfer%20function%20from%20interference.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3ECircuit%20model%20(Simphony%20%2B%20SAX)%3A%3C%2Fstrong%3E%20build%20the%20same%20MZI%20from%20component%20(compact)%20models%20and%20compare.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3ELayout%20(gdsfactory)%3A%3C%2Fstrong%3E%20transition%20from%20%E2%80%9Cresponse%20vs%20wavelength%E2%80%9D%20to%20%E2%80%9Cgeometry%20you%20can%20export%20as%20GDS%E2%80%9D.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22warning%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Quickstart%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Running%20and%20troubleshooting%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22If%20you%20don%E2%80%99t%20see%20plots%2C%20make%20sure%20you%E2%80%99re%20in%20%3Cstrong%3EApp%20view%3C%2Fstrong%3E%20(not%20just%20the%20code%20editor)%2C%20then%20restart%2Fre-run%20the%20app.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22If%20%3Cstrong%3ESimphony%3C%2Fstrong%3E%20isn%E2%80%99t%20available%2C%20the%20analytic%20model%20still%20works%3B%20use%20%3Cem%3EView%20%E2%86%92%20Analytic%20only%3C%2Fem%3E.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Units%3A%20the%20plot%20shows%20wavelength%20in%20%3Cstrong%3Enm%3C%2Fstrong%3E%3B%20internal%20calculations%20use%20%3Cstrong%3E%C2%B5m%3C%2Fstrong%3E.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Expected%20outputs%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22What%20%E2%80%9Cworking%E2%80%9D%20looks%20like%20(in%20lab)%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22An%20interactive%20transmission%20plot%20that%20changes%20when%20you%20move%20%3Cstrong%3E%CE%94L%3C%2Fstrong%3E.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22FSR%20decreases%20when%20%CE%94L%20increases%20(approximately%20inverse%20proportional).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Optional%20overlay%20with%20a%20Simphony%2FSAX%20curve%20if%20the%20compact-model%20libraries%20are%20available.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22A%20gdsfactory%20MZI%20layout%20preview%20(SVG)%20and%20a%20button%20to%20export%20a%20%3Cstrong%3EGDS%3C%2Fstrong%3E.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20set_view%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20go_interactive%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Go%20to%20Interactive%20section%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(set_view(%22Interactive%22)%2C%20(v%20or%200)%20%2B%201)%5B-1%5D%2C%0A%20%20%20%20)%0A%20%20%20%20go_layout%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20kind%3D%22neutral%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Go%20to%20Layout%20section%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(set_view(%22Layout%22)%2C%20(v%20or%200)%20%2B%201)%5B-1%5D%2C%0A%20%20%20%20)%0A%20%20%20%20mo.hstack(%5Bgo_interactive%2C%20go_layout%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_badges%2C%20doc_callout_html%2C%20health_refresh)%3A%0A%20%20%20%20from%20_notebook_template%20import%20notebook_self_check_view%0A%0A%20%20%20%20_self_check_view%20%3D%20notebook_self_check_view(%0A%20%20%20%20%20%20%20%20doc_badges%3Ddoc_badges%2C%0A%20%20%20%20%20%20%20%20doc_callout_html%3Ddoc_callout_html%2C%0A%20%20%20%20%20%20%20%20notebook_path%3D__file__%2C%0A%20%20%20%20%20%20%20%20refresh_token%3Dhealth_refresh.value%2C%0A%20%20%20%20)%0A%20%20%20%20_self_check_view%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22overview%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20What%20is%20an%20MZI%20(and%20why%20do%20we%20start%20here)%3F%0A%0A%20%20%20%20A%20**Mach%E2%80%93Zehnder%20interferometer%20(MZI)**%20is%20a%20small%20optical%20circuit%20that%20turns%20a%20**phase%20difference**%0A%20%20%20%20between%20two%20paths%20into%20a%20**measurable%20power%20difference**.%0A%0A%20%20%20%20At%20a%20high%20level%3A%0A%20%20%20%201.%20A%20**splitter**%20divides%20the%20input%20light%20into%20two%20waveguides%20(two%20*arms*).%0A%20%20%20%202.%20The%20arms%20accumulate%20a%20**relative%20phase%20difference**%20(often%20because%20one%20arm%20is%20longer%20by%20%CE%94L).%0A%20%20%20%203.%20A%20**combiner**%20recombines%20the%20two%20fields%2C%20and%20they%20**interfere**%20at%20the%20outputs.%0A%0A%20%20%20%20**Why%20MZIs%20are%20useful**%0A%20%20%20%20-%20**Sensing%3A**%20small%20phase%20shifts%20(temperature%2C%20strain%2C%20cladding%20index)%20become%20intensity%20changes.%0A%20%20%20%20-%20**Modulation%2Fswitching%3A**%20if%20you%20can%20tune%20phase%20(thermal%2Felectrical)%2C%20an%20MZI%20becomes%20an%20optical%20modulator%2Fswitch.%0A%20%20%20%20-%20**A%20reusable%20building%20block%3A**%20many%20larger%20photonic%20circuits%20are%20built%20from%20couplers%20%2B%20phase%20shifters%20%2B%20MZIs.%0A%0A%20%20%20%20**Why%20we%20choose%20MZIs%20as%20the%20first%20layout**%0A%20%20%20%20-%20They%20use%20standard%20PDK%20primitives%20you%E2%80%99ll%20need%20all%20semester%20(splitters%2Fcombiners%2C%20waveguides%2C%20routing).%0A%20%20%20%20-%20There%E2%80%99s%20a%20clean%2C%20testable%20signature%3A%20the%20arm%20length%20difference%20**%CE%94L%20sets%20the%20fringe%20spacing%20(FSR)**.%0A%20%20%20%20-%20They%20expose%20key%20layout%20skills%20early%3A%20ports%2C%20symmetry%2C%20routing%20discipline%2C%20and%20tolerance%20to%20fabrication%20errors.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Learning%20goals%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22What%20you%20should%20be%20able%20to%20do%20after%20this%20notebook%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3EExplain%20how%20interference%20converts%20a%20phase%20difference%20into%20a%20power%20difference.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3ECompute%20the%20ideal%20transfer%20function%20for%20a%2050%2F50%20MZI.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3ERelate%20a%20layout%20parameter%20(%CE%94L)%20to%20a%20measurable%20spectral%20feature%20(FSR).%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20%20%20This%20is%20a%20%3Cstrong%3Elab%20companion%3C%2Fstrong%3E%20notebook.%20For%20graded%20work%20and%20%E2%80%9Cturn-in%E2%80%9D%20items%2C%20use%0A%20%20%20%20%20%20%20%20%20%20%3Ccode%3Emarimo_course%2Fassignments%2Fhw02_mzi_modelling.py%3C%2Fcode%3E.%0A%20%20%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22glossary%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20Key%20terms%20(quick%20glossary)%0A%0A%20%20%20%20-%20**%CE%94L**%3A%20physical%20path-length%20difference%20between%20the%20two%20arms%20(%C2%B5m).%0A%20%20%20%20-%20**%CE%BB**%3A%20wavelength%20(%C2%B5m%20here).%0A%20%20%20%20-%20**n_eff**%3A%20(phase)%20effective%20index%20used%20in%20the%20toy%20phase%20term.%0A%20%20%20%20-%20**n_g**%3A%20group%20index%20(sets%20fringe%20spacing%20%2F%20FSR).%0A%20%20%20%20-%20**FSR**%3A%20free%20spectral%20range%2C%20the%20wavelength%20spacing%20between%20fringes.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20What%20is%20gdsfactory%20(and%20why%20are%20we%20using%20it)%3F%0A%0A%20%20%20%20**gdsfactory**%20is%20a%20Python%20library%20for%20building%20**parametric%20photonic%20layouts**.%0A%20%20%20%20Instead%20of%20drawing%20every%20waveguide%20and%20bend%20by%20hand%2C%20you%20describe%20a%20circuit%20using%20reusable%20components%0A%20%20%20%20and%20parameters%2C%20and%20gdsfactory%20generates%20a%20**GDS**%20layout%20for%20you.%0A%0A%20%20%20%20A%20useful%20mental%20model%3A%0A%20%20%20%20-%20A%20**Component**%20is%20a%20layout%20cell%20(like%20a%20reusable%20block).%0A%20%20%20%20-%20Components%20have%20named%20**ports**%20(optical%2Felectrical%20connection%20points).%0A%20%20%20%20-%20You%20can%20**compose**%20components%2C%20route%20between%20ports%2C%20and%20then%20**export%20GDS**.%0A%0A%20%20%20%20**How%20we%E2%80%99ll%20use%20gdsfactory%20in%20Week%202**%0A%20%20%20%20-%20Build%20a%20simple%20MZI%20layout%20from%20standard%20building%20blocks%20(splitter%2Fcombiner%20%2B%20waveguides).%0A%20%20%20%20-%20Tie%20a%20*layout%20parameter*%20(%CE%94L)%20to%20a%20*measurable%20prediction*%20(FSR)%20from%20the%20analytic%20model.%0A%20%20%20%20-%20Export%20a%20GDS%20file%20you%20can%20inspect%20in%20KLayout%20and%20eventually%20adapt%20to%20PDK-accurate%20cells%20for%20openEBL.%0A%0A%20%20%20%20In%20this%20notebook%2C%20gdsfactory%20is%20used%20for%20a%20small%20%E2%80%9Cconcrete%20layout%E2%80%9D%20example%20near%20the%20end.%0A%20%20%20%20The%20more%20detailed%20layout%20workflow%20lives%20in%20%60marimo_course%2Flessons%2Fw02_pdk_mzi_layout.py%60.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20mo%2C%20show_theory)%3A%0A%20%20%20%20mo.stop(not%20show_theory)%0A%20%20%20%20from%20textwrap%20import%20dedent%20as%20_dedent%0A%0A%20%20%20%20theory_md%20%3D%20mo.md(_dedent(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22theory%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20Analytic%20MZI%20model%0A%0A%20%20%20%20In%20this%20notebook%20we'll%20consider%20a%20symmetric%2050%2F50%20MZI%20with%3A%0A%0A%20%20%20%20-%20Two%20identical%2050%2F50%20couplers.%0A%20%20%20%20-%20One%20arm%20longer%20than%20the%20other%20by%20a%20physical%20length%20difference%20%CE%94L%20(in%20%C2%B5m).%0A%20%20%20%20-%20A%20constant%20phase%20index%20parameter%20%60n_eff%60%20(toy%20model%3B%20we%E2%80%99ll%20refine%20this%20later).%0A%0A%20%20%20%20A%20simple%20schematic%20is%3A%0A%0A%20%20%20%20%60%60%60text%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20upper%20arm%20(longer%20path%20by%20%CE%94L)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%20%20%20%20Input%20%E2%94%80%E2%94%80%20%E2%96%B6%E2%94%82%2050%2F50%20%20%E2%94%82%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%AC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20short%20arm%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20Output%201%20%E2%94%8C%E2%94%80%E2%94%80%E2%94%80%E2%94%B4%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%90%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%0A%20%20%20%20%20%20%20%20%E2%97%80%20%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%82%20%2050%2F50%20%E2%94%82%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%94%E2%94%80%E2%94%80%E2%94%80%E2%94%AC%E2%94%80%E2%94%80%E2%94%80%E2%94%80%E2%94%98%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%94%82%20Output%202%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%96%BC%0A%20%20%20%20%60%60%60%0A%0A%20%20%20%20The%20phase%20difference%20between%20the%20two%20arms%20is%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5CDelta%20%5Cphi(%5Clambda)%20%3D%20%5Cfrac%7B2%20%5Cpi%20n_%7B%5Cmathrm%7Beff%7D%7D%20%5C%2C%20%5CDelta%20L%7D%7B%5Clambda%7D%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20where%20%CE%BB%20and%20%CE%94L%20are%20expressed%20in%20the%20same%20units%20(here%2C%20%C2%B5m).%0A%0A%20%20%20%20%23%23%23%20Where%20the%20phase%20difference%20comes%20from%0A%0A%20%20%20%20A%20guided%20mode%20in%20a%20waveguide%20accumulates%20phase%20according%20to%20the%20propagation%20constant%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cbeta(%5Clambda)%20%3D%20%5Cfrac%7B2%5Cpi%20n_%7B%5Cmathrm%7Beff%7D%7D(%5Clambda)%7D%7B%5Clambda%7D.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20Over%20a%20physical%20path%20length%20%24L%24%2C%20the%20phase%20is%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cphi(%5Clambda)%20%3D%20%5Cbeta(%5Clambda)%5C%2CL.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20For%20two%20arms%20with%20lengths%20%24L_1%24%20and%20%24L_2%24%2C%20the%20*relative*%20phase%20is%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5CDelta%20%5Cphi(%5Clambda)%20%3D%20%5Cphi_2%20-%20%5Cphi_1%20%3D%20%5Cbeta(%5Clambda)%5C%2C(L_2%20-%20L_1)%20%3D%20%5Cbeta(%5Clambda)%5C%2C%5CDelta%20L.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20%23%23%23%20From%20fields%20to%20power%20transmission%20(ideal%2050%2F50%20model)%0A%0A%20%20%20%20Treat%20each%20coupler%20as%20an%20ideal%2050%2F50%20%E2%80%9Cbeam%20splitter%E2%80%9D%20acting%20on%20the%20complex%20field%20amplitudes%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20E_1%20%5C%5C%5C%5C%0A%20%20%20%20E_2%0A%20%20%20%20%5Cend%7Bbmatrix%7D%0A%20%20%20%20%3D%0A%20%20%20%20%5Cfrac%7B1%7D%7B%5Csqrt%7B2%7D%7D%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%201%20%26%201%20%5C%5C%5C%5C%0A%20%20%20%201%20%26%20-1%0A%20%20%20%20%5Cend%7Bbmatrix%7D%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20E_%7B%5Cmathrm%7Bin%7D%7D%20%5C%5C%5C%5C%0A%20%20%20%200%0A%20%20%20%20%5Cend%7Bbmatrix%7D%0A%20%20%20%20%5CRightarrow%0A%20%20%20%20E_1%20%3D%20%5Cfrac%7BE_%7B%5Cmathrm%7Bin%7D%7D%7D%7B%5Csqrt%7B2%7D%7D%2C%5C%3B%0A%20%20%20%20E_2%20%3D%20%5Cfrac%7BE_%7B%5Cmathrm%7Bin%7D%7D%7D%7B%5Csqrt%7B2%7D%7D.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20After%20propagation%20through%20the%20two%20arms%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20E_1'%20%3D%20%5Cfrac%7BE_%7B%5Cmathrm%7Bin%7D%7D%7D%7B%5Csqrt%7B2%7D%7D%20e%5E%7Bi%5Cphi_1%7D%2C%5Cquad%0A%20%20%20%20E_2'%20%3D%20%5Cfrac%7BE_%7B%5Cmathrm%7Bin%7D%7D%7D%7B%5Csqrt%7B2%7D%7D%20e%5E%7Bi%5Cphi_2%7D.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20The%20second%2050%2F50%20coupler%20recombines%20them%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20E_%7B%5Cmathrm%7Bthrough%7D%7D%20%5C%5C%5C%5C%0A%20%20%20%20E_%7B%5Cmathrm%7Bcross%7D%7D%0A%20%20%20%20%5Cend%7Bbmatrix%7D%0A%20%20%20%20%3D%0A%20%20%20%20%5Cfrac%7B1%7D%7B%5Csqrt%7B2%7D%7D%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%201%20%26%201%20%5C%5C%5C%5C%0A%20%20%20%201%20%26%20-1%0A%20%20%20%20%5Cend%7Bbmatrix%7D%0A%20%20%20%20%5Cbegin%7Bbmatrix%7D%0A%20%20%20%20E_1'%20%5C%5C%5C%5C%0A%20%20%20%20E_2'%0A%20%20%20%20%5Cend%7Bbmatrix%7D.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20So%20the%20through-port%20field%20is%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20E_%7B%5Cmathrm%7Bthrough%7D%7D%0A%20%20%20%20%3D%20%5Cfrac%7BE_%7B%5Cmathrm%7Bin%7D%7D%7D%7B2%7D%5Cleft(e%5E%7Bi%5Cphi_1%7D%20%2B%20e%5E%7Bi%5Cphi_2%7D%5Cright)%0A%20%20%20%20%3D%20E_%7B%5Cmathrm%7Bin%7D%7D%5C%2Ce%5E%7Bi(%5Cphi_1%2B%5Cphi_2)%2F2%7D%5Ccos%5Cleft(%5Cfrac%7B%5CDelta%5Cphi%7D%7B2%7D%5Cright).%0A%20%20%20%20%24%24%0A%0A%20%20%20%20The%20(normalized)%20through-port%20power%20transmission%20is%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20T_%7B%5Cmathrm%7Bideal%7D%7D(%5Clambda)%0A%20%20%20%20%3D%20%5Cfrac%7B%7CE_%7B%5Cmathrm%7Bthrough%7D%7D%7C%5E2%7D%7B%7CE_%7B%5Cmathrm%7Bin%7D%7D%7C%5E2%7D%0A%20%20%20%20%3D%20%5Ccos%5E2%5Cleft(%5Cfrac%7B%5CDelta%5Cphi(%5Clambda)%7D%7B2%7D%5Cright)%0A%20%20%20%20%3D%20%5Cfrac%7B1%7D%7B2%7D%5Cleft(1%20%2B%20%5Ccos%20%5CDelta%20%5Cphi(%5Clambda)%5Cright).%0A%20%20%20%20%24%24%0A%0A%20%20%20%20(The%20other%20output%20is%20complementary%3A%20%24T_%7B%5Cmathrm%7Bcross%7D%7D%20%3D%20%5Csin%5E2(%5CDelta%5Cphi%2F2)%20%3D%20%5Cfrac%7B1%7D%7B2%7D(1-%5Ccos%5CDelta%5Cphi)%24.%20Different%20coupler%20sign%20conventions%20simply%20swap%20which%20port%20you%20call%20%E2%80%9Cthrough%E2%80%9D%20vs%20%E2%80%9Ccross%E2%80%9D.)%0A%0A%20%20%20%20%23%23%23%20Linking%20%CE%94L%20to%20fringe%20spacing%20(FSR)%0A%0A%20%20%20%20Around%20a%20center%20wavelength%20%CE%BB%E2%82%80%2C%20a%20useful%20rule%20of%20thumb%20is%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cmathrm%7BFSR%7D%20%5Capprox%20%5Cfrac%7B%5Clambda_0%5E2%7D%7Bn_g%20%5C%2C%20%5CDelta%20L%7D%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20where%20**n_g**%20is%20the%20group%20index.%20(This%20is%20why%20**n_eff**%20shows%20up%20in%20phase%2C%20but%20**n_g**%20shows%20up%20in%20FSR.)%0A%0A%20%20%20%20%23%23%23%23%20Derivation%3A%20where%20the%20FSR%20rule-of-thumb%20comes%20from%0A%0A%20%20%20%20Key%20idea%3A%20**adjacent%20fringes%20occur%20when%20the%20relative%20phase%20changes%20by**%20%242%5Cpi%24.%0A%0A%20%20%20%20Write%20the%20wavelength-dependent%20propagation%20constant%20as%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cbeta(%5Clambda)%3D%5Cfrac%7B2%5Cpi%7D%7B%5Clambda%7Dn_%5Cmathrm%7Beff%7D(%5Clambda)%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20so%20the%20arm%20phase%20difference%20is%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5CDelta%5Cphi(%5Clambda)%3D%5Cbeta(%5Clambda)%5C%2C%5CDelta%20L.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20A%20%E2%80%9Cfringe-to-fringe%E2%80%9D%20step%20in%20wavelength%20(the%20FSR)%20is%20the%20smallest%20%24%5CDelta%5Clambda%24%20such%20that%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5CDelta%5Cphi(%5Clambda%2B%5CDelta%5Clambda)-%5CDelta%5Cphi(%5Clambda)%3D2%5Cpi.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20For%20small%20%24%5CDelta%5Clambda%24%20we%20linearize%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cfrac%7Bd%5CDelta%5Cphi%7D%7Bd%5Clambda%7D%5C%2C%5CDelta%5Clambda%20%5Capprox%202%5Cpi%0A%20%20%20%20%5Cquad%5CRightarrow%5Cquad%0A%20%20%20%20%5CDelta%5Clambda%20%5Capprox%20%5Cfrac%7B2%5Cpi%7D%7B%5CDelta%20L%5C%2C%5Cleft%7Cd%5Cbeta%2Fd%5Clambda%5Cright%7C%7D.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20Now%20differentiate%20%24%5Cbeta(%5Clambda)%24%3A%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cfrac%7Bd%5Cbeta%7D%7Bd%5Clambda%7D%0A%20%20%20%20%3D%5Cfrac%7Bd%7D%7Bd%5Clambda%7D%5Cleft(%5Cfrac%7B2%5Cpi%7D%7B%5Clambda%7Dn_%5Cmathrm%7Beff%7D(%5Clambda)%5Cright)%0A%20%20%20%20%3D%5Cfrac%7B2%5Cpi%7D%7B%5Clambda%5E2%7D%5Cleft(%5Clambda%5Cfrac%7Bdn_%5Cmathrm%7Beff%7D%7D%7Bd%5Clambda%7D-n_%5Cmathrm%7Beff%7D%5Cright).%0A%20%20%20%20%24%24%0A%0A%20%20%20%20Define%20the%20**group%20index**%0A%0A%20%20%20%20%24%24%0A%20%20%20%20n_g%20%5Cequiv%20n_%5Cmathrm%7Beff%7D-%5Clambda%5Cfrac%7Bdn_%5Cmathrm%7Beff%7D%7D%7Bd%5Clambda%7D%2C%0A%20%20%20%20%24%24%0A%0A%20%20%20%20which%20makes%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cleft%7C%5Cfrac%7Bd%5Cbeta%7D%7Bd%5Clambda%7D%5Cright%7C%3D%5Cfrac%7B2%5Cpi%7D%7B%5Clambda%5E2%7Dn_g.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20Substituting%20gives%0A%0A%20%20%20%20%24%24%0A%20%20%20%20%5Cmathrm%7BFSR%7D%3D%5CDelta%5Clambda%20%5Capprox%20%5Cfrac%7B%5Clambda%5E2%7D%7Bn_g%5C%2C%5CDelta%20L%7D.%0A%20%20%20%20%24%24%0A%0A%20%20%20%20Evaluated%20at%20%24%5Clambda%3D%5Clambda_0%24%2C%20this%20is%20the%20rule-of-thumb%20used%20in%20the%20notebook.%0A%0A%20%20%20%20In%20frequency%20units%20the%20same%20idea%20gives%20%24%5CDelta%20f%20%5Capprox%20c%2F(n_g%5C%2C%5CDelta%20L)%24%2C%20which%20is%20why%20this%20is%20often%20quoted%20as%20an%20%E2%80%9Cinverse%20length%E2%80%9D%20relationship.%0A%0A%20%20%20%20Later%20lessons%20will%20introduce%20group%20index%20and%20propagation%20loss%20in%20a%20more%20realistic%20way.%0A%20%20%20%20%22%22%22))%0A%20%20%20%20theory_note%20%3D%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22warning%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Note%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22%3Ccode%3En_eff%3C%2Fcode%3E%20vs%20%3Ccode%3En_g%3C%2Fcode%3E%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20%20%20The%20phase%20term%20uses%20%3Cstrong%3Eeffective%20index%3C%2Fstrong%3E%20(%3Ccode%3En_eff%3C%2Fcode%3E)%2C%20but%20the%20fringe%20spacing%20(FSR)%20depends%20on%0A%20%20%20%20%20%20%20%20%20%20%3Cstrong%3Egroup%20index%3C%2Fstrong%3E%20(%3Ccode%3En_g%3C%2Fcode%3E).%20In%20a%20dispersive%20waveguide%2C%20these%20are%20not%20the%20same.%0A%20%20%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%20%20%20%20mo.vstack(%5Btheory_md%2C%20theory_note%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20mo%2C%20show_interactive%2C%20show_theory)%3A%0A%20%20%20%20mo.stop(not%20(show_theory%20or%20show_interactive))%0A%20%20%20%20interactive_anchor%20%3D%20mo.md('%3Ca%20id%3D%22interactive%22%3E%3C%2Fa%3E')%20if%20show_interactive%20else%20mo.md(%22%22)%0A%20%20%20%20verify_callout%20%3D%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22exercise%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Verify%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Use%20the%20plot%20to%20confirm%20the%20derivation%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Col%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3ESwitch%20to%20the%20%3Cstrong%3EInteractive%3C%2Fstrong%3E%20section%20using%20the%20%3Cem%3ENotebook%20sections%3C%2Fem%3E%20tabs.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3ESet%20%3Cstrong%3E%CE%94L%20%3D%2010%20%C2%B5m%3C%2Fstrong%3E%20and%20note%20the%20displayed%20%3Cstrong%3EFSR%20estimate%3C%2Fstrong%3E.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3EDouble%20%CE%94L%20to%20%3Cstrong%3E20%20%C2%B5m%3C%2Fstrong%3E.%20Prediction%3A%20the%20FSR%20should%20be%20roughly%20%3Cstrong%3Ehalf%3C%2Fstrong%3E.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3EUse%20the%20%3Cstrong%3EFSR%20measurement%20tool%3C%2Fstrong%3E%20(enter%20two%20adjacent%20maxima%20wavelengths)%20to%20measure%20the%20FSR%20and%20compare.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3EChange%20%3Cstrong%3Ebase%20arm%20length%3C%2Fstrong%3E%20(both%20arms%20equally).%20In%20the%20ideal%20model%2C%20the%20FSR%20should%20not%20change%20%E2%80%94%20explain%20why%20in%20one%20sentence.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Fol%3E%0A%20%20%20%20%20%20%20%20%3Cp%3E%3Csmall%3E%0A%20%20%20%20%20%20%20%20%20%20Tip%3A%20if%20you%20don%E2%80%99t%20see%20at%20least%20~2%20fringes%2C%20increase%20the%20spectrum%20span%20or%20increase%20%CE%94L.%0A%20%20%20%20%20%20%20%20%3C%2Fsmall%3E%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%20%20%20%20mo.vstack(%5Binteractive_anchor%2C%20verify_callout%5D)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20mo%2C%20show_theory)%3A%0A%20%20%20%20mo.stop(not%20show_theory)%0A%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Concept%20check%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Three%20quick%20checks%20before%20moving%20on%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Col%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20In%20the%20ideal%20analytic%20model%20here%2C%20which%20knob%20mostly%20changes%20the%20%3Cem%3Efringe%20spacing%3C%2Fem%3E%20(FSR)%3A%20%3Cstrong%3E%CE%94L%3C%2Fstrong%3E%20or%20%3Cstrong%3En%3Csub%3Eeff%3C%2Fsub%3E%3C%2Fstrong%3E%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdetails%3E%3Csummary%3E%3Cem%3EAnswer%3C%2Fem%3E%3C%2Fsummary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%3Cstrong%3E%CE%94L%3C%2Fstrong%3E%20(and%20%3Cstrong%3En%3Csub%3Eg%3C%2Fsub%3E%3C%2Fstrong%3E)%20set%20the%20spacing%3B%20%3Cstrong%3En%3Csub%3Eeff%3C%2Fsub%3E%3C%2Fstrong%3E%20mostly%20shifts%20the%20phase%20%2F%20where%20the%20fringes%20land.%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20Why%20does%20the%20FSR%20formula%20use%20%3Cstrong%3En%3Csub%3Eg%3C%2Fsub%3E%3C%2Fstrong%3E%20instead%20of%20%3Cstrong%3En%3Csub%3Eeff%3C%2Fsub%3E%3C%2Fstrong%3E%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdetails%3E%3Csummary%3E%3Cem%3EAnswer%3C%2Fem%3E%3C%2Fsummary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EFSR%20comes%20from%20how%20quickly%20phase%20changes%20with%20wavelength%2C%20which%20depends%20on%20dispersion%20(a%20derivative)%3B%20that%20derivative%20is%20captured%20by%20the%20%3Cstrong%3Egroup%20index%3C%2Fstrong%3E.%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20If%20the%20Simphony%2FSAX%20curve%20(when%20available)%20doesn%E2%80%99t%20match%20the%20analytic%20curve%20perfectly%2C%20name%20%3Cem%3Eone%3C%2Fem%3E%20likely%20reason.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdetails%3E%3Csummary%3E%3Cem%3EAnswer%3C%2Fem%3E%3C%2Fsummary%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3ECommon%20causes%3A%20splitter%2Fcoupler%20model%20conventions%2C%20wavelength-dependent%20component%20responses%2C%20dispersion%2C%20and%20loss%20(depending%20on%20models).%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdetails%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Fol%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20os%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20import%20altair%20as%20alt%0A%20%20%20%20import%20polars%20as%20pl%0A%20%20%20%20import%20base64%20as%20b64%0A%20%20%20%20from%20pathlib%20import%20Path%0A%0A%20%20%20%20gf%20%3D%20None%0A%20%20%20%20gf_import_error%20%3D%20%22%22%0A%20%20%20%20if%20os.environ.get(%22PB_SKIP_GF%22)%20%3D%3D%20%221%22%3A%0A%20%20%20%20%20%20%20%20gf_import_error%20%3D%20%22PB_SKIP_GF%3D1%22%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20import%20gdsfactory%20as%20gf%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20exc%3A%20%20%23%20pragma%3A%20no%20cover%20-%20depends%20on%20environment%0A%20%20%20%20%20%20%20%20%20%20%20%20gf_import_error%20%3D%20f%22%7Btype(exc).__name__%7D%3A%20%7Bexc%7D%22%0A%20%20%20%20return%20Path%2C%20alt%2C%20b64%2C%20gf%2C%20gf_import_error%2C%20mo%2C%20np%2C%20pl%0A%0A%0A%40app.cell%0Adef%20_(np)%3A%0A%20%20%20%20import%20ast%0A%0A%20%20%20%20_ALLOWED_FUNCS%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22sin%22%2C%0A%20%20%20%20%20%20%20%20%22cos%22%2C%0A%20%20%20%20%20%20%20%20%22tan%22%2C%0A%20%20%20%20%20%20%20%20%22exp%22%2C%0A%20%20%20%20%20%20%20%20%22sqrt%22%2C%0A%20%20%20%20%20%20%20%20%22log%22%2C%0A%20%20%20%20%20%20%20%20%22log10%22%2C%0A%20%20%20%20%20%20%20%20%22abs%22%2C%0A%20%20%20%20%20%20%20%20%22where%22%2C%0A%20%20%20%20%20%20%20%20%22clip%22%2C%0A%20%20%20%20%20%20%20%20%22min%22%2C%0A%20%20%20%20%20%20%20%20%22max%22%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20_ALLOWED_NODES%20%3D%20(%0A%20%20%20%20%20%20%20%20ast.Expression%2C%0A%20%20%20%20%20%20%20%20ast.BinOp%2C%0A%20%20%20%20%20%20%20%20ast.UnaryOp%2C%0A%20%20%20%20%20%20%20%20ast.Call%2C%0A%20%20%20%20%20%20%20%20ast.Name%2C%0A%20%20%20%20%20%20%20%20ast.Load%2C%0A%20%20%20%20%20%20%20%20ast.Constant%2C%0A%20%20%20%20%20%20%20%20ast.IfExp%2C%0A%20%20%20%20%20%20%20%20ast.Compare%2C%0A%20%20%20%20%20%20%20%20ast.BoolOp%2C%0A%20%20%20%20%20%20%20%20ast.And%2C%0A%20%20%20%20%20%20%20%20ast.Or%2C%0A%20%20%20%20%20%20%20%20ast.Not%2C%0A%20%20%20%20%20%20%20%20ast.USub%2C%0A%20%20%20%20%20%20%20%20ast.UAdd%2C%0A%20%20%20%20%20%20%20%20ast.Add%2C%0A%20%20%20%20%20%20%20%20ast.Sub%2C%0A%20%20%20%20%20%20%20%20ast.Mult%2C%0A%20%20%20%20%20%20%20%20ast.Div%2C%0A%20%20%20%20%20%20%20%20ast.Pow%2C%0A%20%20%20%20%20%20%20%20ast.Mod%2C%0A%20%20%20%20%20%20%20%20ast.Eq%2C%0A%20%20%20%20%20%20%20%20ast.NotEq%2C%0A%20%20%20%20%20%20%20%20ast.Lt%2C%0A%20%20%20%20%20%20%20%20ast.LtE%2C%0A%20%20%20%20%20%20%20%20ast.Gt%2C%0A%20%20%20%20%20%20%20%20ast.GtE%2C%0A%20%20%20%20)%0A%0A%20%20%20%20def%20safe_math_eval(expression%3A%20str%2C%20env%3A%20dict)%3A%0A%20%20%20%20%20%20%20%20%22%22%22Evaluate%20a%20restricted%20math%20expression%20(no%20attrs%2Fimports%2Fsubscripts).%22%22%22%0A%0A%20%20%20%20%20%20%20%20tree%20%3D%20ast.parse(expression%2C%20mode%3D%22eval%22)%0A%0A%20%20%20%20%20%20%20%20for%20node%20in%20ast.walk(tree)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(node%2C%20ast.Attribute)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Attribute%20access%20is%20not%20allowed%20(use%20sin%2Fcos%2F...%20directly).%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(node%2C%20ast.Subscript)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Indexing%20is%20not%20allowed%20in%20the%20playground.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(node%2C%20ast.Call)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20isinstance(node.func%2C%20ast.Name)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Only%20direct%20function%20calls%20are%20allowed%20(e.g.%2C%20cos(...)).%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20node.func.id%20not%20in%20_ALLOWED_FUNCS%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(f%22Function%20%60%7Bnode.func.id%7D%60%20is%20not%20allowed.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20node.keywords%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%22Keyword%20arguments%20are%20not%20allowed.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(node%2C%20ast.Name)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20node.id%20not%20in%20env%20and%20node.id%20not%20in%20_ALLOWED_FUNCS%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(f%22Unknown%20symbol%20%60%7Bnode.id%7D%60.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20isinstance(node%2C%20_ALLOWED_NODES)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(f%22Unsupported%20syntax%3A%20%7Btype(node).__name__%7D.%22)%0A%0A%20%20%20%20%20%20%20%20safe_globals%20%3D%20%7B%22__builtins__%22%3A%20%7B%7D%7D%0A%20%20%20%20%20%20%20%20safe_locals%20%3D%20dict(env)%0A%20%20%20%20%20%20%20%20safe_locals.update(%0A%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sin%22%3A%20np.sin%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22cos%22%3A%20np.cos%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22tan%22%3A%20np.tan%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22exp%22%3A%20np.exp%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22sqrt%22%3A%20np.sqrt%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22log%22%3A%20np.log%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22log10%22%3A%20np.log10%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22abs%22%3A%20np.abs%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22where%22%3A%20np.where%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22clip%22%3A%20np.clip%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22min%22%3A%20np.minimum%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22max%22%3A%20np.maximum%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20code%20%3D%20compile(tree%2C%20%22%3Cstudent-expression%3E%22%2C%20%22eval%22)%0A%20%20%20%20%20%20%20%20return%20eval(code%2C%20safe_globals%2C%20safe_locals)%20%20%23%20noqa%3A%20S307%20(restricted%20env)%0A%20%20%20%20return%20(safe_math_eval%2C)%0A%0A%0A%40app.cell%0Adef%20_(np)%3A%0A%20%20%20%20def%20fsr_estimate_nm(wl0_um%3A%20float%2C%20ng%3A%20float%2C%20delta_length_um%3A%20float)%20-%3E%20float%20%7C%20None%3A%0A%20%20%20%20%20%20%20%20if%20delta_length_um%20%3C%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20None%0A%20%20%20%20%20%20%20%20return%20(wl0_um%20*%20wl0_um)%20%2F%20(ng%20*%20delta_length_um)%20*%201e3%0A%0A%20%20%20%20def%20phase_slope_rad_per_nm(wl0_um%3A%20float%2C%20ng%3A%20float%2C%20delta_length_um%3A%20float)%20-%3E%20float%20%7C%20None%3A%0A%20%20%20%20%20%20%20%20if%20delta_length_um%20%3C%3D%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20None%0A%20%20%20%20%20%20%20%20%23%20%7Cd%CE%94%CF%86%2Fd%CE%BB%7C%20%E2%89%88%202%CF%80%20n_g%20%CE%94L%20%2F%20%CE%BB0%5E2%2C%20with%20%CE%BB0%20and%20%CE%94L%20in%20%C2%B5m.%0A%20%20%20%20%20%20%20%20return%20(2%20*%20np.pi%20*%20ng%20*%20delta_length_um%20%2F%20(wl0_um**2))%20%2F%201e3%0A%0A%20%20%20%20def%20neff_linear_from_ng(%0A%20%20%20%20%20%20%20%20wl_um%3A%20np.ndarray%2C%20wl0_um%3A%20float%2C%20n_eff0%3A%20float%2C%20ng%3A%20float%0A%20%20%20%20)%20-%3E%20tuple%5Bnp.ndarray%2C%20float%5D%3A%0A%20%20%20%20%20%20%20%20%23%20n_g%20%3D%20n_eff%20-%20%CE%BB%20dn_eff%2Fd%CE%BB%20%20%E2%87%92%20%20dn_eff%2Fd%CE%BB%20%3D%20(n_eff%20-%20n_g)%2F%CE%BB%0A%20%20%20%20%20%20%20%20dn_eff_dlambda_per_um%20%3D%20(n_eff0%20-%20ng)%20%2F%20wl0_um%0A%20%20%20%20%20%20%20%20n_eff_lambda%20%3D%20n_eff0%20%2B%20dn_eff_dlambda_per_um%20*%20(wl_um%20-%20wl0_um)%0A%20%20%20%20%20%20%20%20return%20n_eff_lambda%2C%20float(dn_eff_dlambda_per_um)%0A%20%20%20%20return%20fsr_estimate_nm%2C%20neff_linear_from_ng%2C%20phase_slope_rad_per_nm%0A%0A%0A%40app.cell%0Adef%20_(np)%3A%0A%20%20%20%20def%20_local_maxima_indices(y%3A%20np.ndarray)%20-%3E%20np.ndarray%3A%0A%20%20%20%20%20%20%20%20%22%22%22Return%20indices%20i%20where%20y%5Bi%5D%20is%20a%20strict%20local%20maximum.%22%22%22%0A%20%20%20%20%20%20%20%20y%20%3D%20np.asarray(y%2C%20dtype%3Dfloat).reshape(-1)%0A%20%20%20%20%20%20%20%20if%20y.size%20%3C%203%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20np.array(%5B%5D%2C%20dtype%3Dint)%0A%20%20%20%20%20%20%20%20left%20%3D%20y%5B1%3A-1%5D%20%3E%20y%5B%3A-2%5D%0A%20%20%20%20%20%20%20%20right%20%3D%20y%5B1%3A-1%5D%20%3E%3D%20y%5B2%3A%5D%0A%20%20%20%20%20%20%20%20idx%20%3D%20np.where(left%20%26%20right)%5B0%5D%20%2B%201%0A%20%20%20%20%20%20%20%20return%20idx.astype(int)%0A%0A%20%20%20%20def%20auto_fsr_from_curve(%0A%20%20%20%20%20%20%20%20*%2C%0A%20%20%20%20%20%20%20%20wl_nm%3A%20np.ndarray%2C%0A%20%20%20%20%20%20%20%20y%3A%20np.ndarray%2C%0A%20%20%20%20%20%20%20%20wl0_nm%3A%20float%2C%0A%20%20%20%20)%20-%3E%20dict%3A%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20Detect%20adjacent%20maxima%20and%20estimate%20FSR%20near%20wl0.%0A%0A%20%20%20%20%20%20%20%20Returns%20keys%3A%0A%20%20%20%20%20%20%20%20%20%20ok%3A%20bool%0A%20%20%20%20%20%20%20%20%20%20message%3A%20str%0A%20%20%20%20%20%20%20%20%20%20lam1_nm%2C%20lam2_nm%2C%20fsr_nm%3A%20float%7CNone%0A%20%20%20%20%20%20%20%20%20%20n_peaks%3A%20int%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20wl_nm%20%3D%20np.asarray(wl_nm%2C%20dtype%3Dfloat).reshape(-1)%0A%20%20%20%20%20%20%20%20y%20%3D%20np.asarray(y%2C%20dtype%3Dfloat).reshape(-1)%0A%20%20%20%20%20%20%20%20if%20wl_nm.size%20!%3D%20y.size%20or%20wl_nm.size%20%3C%205%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ok%22%3A%20False%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22message%22%3A%20%22Curve%20data%20unavailable%20(need%20arrays%20of%20the%20same%20length).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam1_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam2_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fsr_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n_peaks%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20idx%20%3D%20_local_maxima_indices(y)%0A%20%20%20%20%20%20%20%20if%20idx.size%20%3C%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ok%22%3A%20False%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22message%22%3A%20%22Could%20not%20find%20at%20least%20two%20maxima%20(try%20increasing%20%CE%94L%20or%20spectrum%20span).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam1_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam2_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fsr_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n_peaks%22%3A%20int(idx.size)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%23%20Filter%20out%20maxima%20that%20are%20effectively%20flat%20due%20to%20numerical%20issues.%0A%20%20%20%20%20%20%20%20y_min%20%3D%20float(np.nanmin(y))%0A%20%20%20%20%20%20%20%20y_max%20%3D%20float(np.nanmax(y))%0A%20%20%20%20%20%20%20%20y_rng%20%3D%20max(y_max%20-%20y_min%2C%200.0)%0A%20%20%20%20%20%20%20%20eps%20%3D%201e-9%20if%20y_rng%20%3D%3D%200%20else%201e-6%20*%20y_rng%0A%20%20%20%20%20%20%20%20idx%20%3D%20np.array(%5Bi%20for%20i%20in%20idx%20if%20(y%5Bi%5D%20-%20max(y%5Bi%20-%201%5D%2C%20y%5Bi%20%2B%201%5D))%20%3E%20eps%5D%2C%20dtype%3Dint)%0A%20%20%20%20%20%20%20%20if%20idx.size%20%3C%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ok%22%3A%20False%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22message%22%3A%20%22Found%20maxima%20but%20they%20are%20too%20flat%20to%20measure%20reliably.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam1_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam2_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fsr_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n_peaks%22%3A%20int(idx.size)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20peaks_nm%20%3D%20wl_nm%5Bidx%5D%0A%20%20%20%20%20%20%20%20peaks_nm%20%3D%20peaks_nm%5Bnp.argsort(peaks_nm)%5D%0A%20%20%20%20%20%20%20%20if%20peaks_nm.size%20%3C%202%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ok%22%3A%20False%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22message%22%3A%20%22Could%20not%20compute%20peak%20spacing%20(unexpected).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam1_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22lam2_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22fsr_nm%22%3A%20None%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n_peaks%22%3A%20int(peaks_nm.size)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20mids%20%3D%20(peaks_nm%5B%3A-1%5D%20%2B%20peaks_nm%5B1%3A%5D)%20%2F%202.0%0A%20%20%20%20%20%20%20%20k%20%3D%20int(np.argmin(np.abs(mids%20-%20float(wl0_nm))))%0A%20%20%20%20%20%20%20%20lam1%20%3D%20float(peaks_nm%5Bk%5D)%0A%20%20%20%20%20%20%20%20lam2%20%3D%20float(peaks_nm%5Bk%20%2B%201%5D)%0A%20%20%20%20%20%20%20%20fsr%20%3D%20float(abs(lam2%20-%20lam1))%0A%0A%20%20%20%20%20%20%20%20return%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22ok%22%3A%20True%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22message%22%3A%20%22OK%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22lam1_nm%22%3A%20lam1%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22lam2_nm%22%3A%20lam2%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22fsr_nm%22%3A%20fsr%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22n_peaks%22%3A%20int(peaks_nm.size)%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20return%20(auto_fsr_from_curve%2C)%0A%0A%0A%40app.cell%0Adef%20_(gf%2C%20gf_import_error%2C%20mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20blocks%20%3D%20%5Bmo.md(%22%23%23%20gdsfactory%20quick%20check%22)%5D%0A%20%20%20%20if%20gf%20is%20None%3A%0A%20%20%20%20%20%20%20%20blocks.append(mo.md(%22%60gdsfactory%60%20is%20not%20available%20in%20this%20environment.%22))%0A%20%20%20%20%20%20%20%20if%20gf_import_error%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks.append(mo.md(f%22Details%3A%20%60%7Bgf_import_error%7D%60%22))%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20gf_version%20%3D%20getattr(gf%2C%20%22__version__%22%2C%20None)%0A%20%20%20%20%20%20%20%20if%20gf_version%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22%60gdsfactory%60%20version%20(this%20environment)%3A%20**%7Bgf_version%7D**%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Minimal%20usage%20example%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%60%60python%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20import%20gdsfactory%20as%20gf%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20gf.components.mzi(delta_length%3D50)%20%20%23%20%C2%B5m%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20c.write_gds(%22mzi.gds%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%60%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20mo.vstack(blocks)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(doc_callout_html%2C%20doc_callout_list%2C%20mo%2C%20show_interactive)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20Interactive%20MZI%20spectrum%0A%0A%20%20%20%20Use%20the%20controls%20to%20explore%20how%20**%CE%94L**%20sets%20the%20**fringe%20spacing**%20(FSR).%0A%20%20%20%20You%20can%20compare%20a%20simple%20analytic%20model%20to%20an%20optional%20**Simphony%2FSAX%20circuit%20model**%20built%20from%20compact%20component%20models%20(if%20available%20in%20your%20environment).%0A%20%20%20%20%22%22%22)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22openEBL%20context%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Default%20band%20and%20why%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22This%20course%E2%80%99s%20first%20openEBL%20design%20targets%20the%20**1550%20nm%20band**%20by%20default%20(e.g.%2C%20TE%201550%20grating-coupler%20cells%20in%20the%20SiEPIC%20EBeam%20PDK).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22So%20the%20default%20center%20wavelength%20here%20is%20**%CE%BB0%20%E2%89%88%201550%20nm**.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Advanced%20option%3A%20explore%20**1310%20nm**%20by%20switching%20the%20wavelength%20band%20under%20**Controls%20%E2%86%92%20Advanced**.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Assumptions%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22What%20this%20plot%20is%20(and%20isn%E2%80%99t)%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EIdeal%20analytic%20curve%3A%3C%2Fstrong%3E%20lossless%2C%20perfect%2050%2F50%20couplers%2C%20and%20a%20simplified%20phase%20term%20with%20a%20constant%20%3Ccode%3En_eff%3C%2Fcode%3E.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EFSR%20physics%3A%3C%2Fstrong%3E%20the%20rule-of-thumb%20comes%20from%20the%20condition%20%E2%80%9Cadjacent%20fringes%20%E2%86%94%20%CE%94%CF%86%20changes%20by%202%CF%80%E2%80%9D%20and%20uses%20%3Ccode%3En_g%3C%2Fcode%3E%20(group%20index).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EWhat%E2%80%99s%20missing%3A%3C%2Fstrong%3E%20wavelength-dependent%20dispersion%20in%20%3Ccode%3En_eff(%CE%BB)%3C%2Fcode%3E%2C%20propagation%20loss%2C%20and%20non-ideal%20couplers%20(unless%20you%20use%20the%20Simphony%2FSAX%20view).%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22warning%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Why%20two%20curves%3F%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Analytic%20vs%20circuit%20compact-model%20simulation%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Cul%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3EAnalytic%3C%2Fstrong%3E%3A%20ideal%2C%20lossless%2C%20and%20uses%20a%20simple%20phase%20term%20with%20a%20tunable%20%3Ccode%3En_eff%3C%2Fcode%3E.%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%3Cstrong%3ESimphony%2FSAX%3C%2Fstrong%3E%3A%20assembles%20an%20MZI%20from%20wavelength-dependent%20component%20models%20(splitter%20%2B%20waveguides%20%2B%20combiner).%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Ful%3E%0A%20%20%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20%20%20Differences%20typically%20come%20from%20dispersion%2C%20the%20specific%20splitter%2Fcoupler%20model%2C%20and%20model%20conventions.%0A%20%20%20%20%20%20%20%20%20%20Use%20the%20%3Ccode%3En_eff%3C%2Fcode%3E%20tuning%20knob%20to%20align%20the%20analytic%20fringe%20spacing%20near%20%CE%BB0.%0A%20%20%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Concept%20check%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Quick%20questions%20before%20you%20touch%20the%20sliders%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Col%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20%3Cstrong%3Edouble%20%CE%94L%3C%2Fstrong%3E%2C%20does%20the%20FSR%20get%20bigger%2C%20smaller%2C%20or%20stay%20the%20same%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdetails%3E%3Csummary%3E%3Cem%3EAnswer%3C%2Fem%3E%3C%2Fsummary%3E%3Cp%3ESmaller%20(approximately%20halves)%2C%20because%20FSR%20%E2%88%9D%201%2F%CE%94L.%3C%2Fp%3E%3C%2Fdetails%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cli%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20If%20you%20change%20the%20%3Cstrong%3Ebase%20arm%20length%3C%2Fstrong%3E%20(both%20arms%20equally)%2C%20does%20the%20FSR%20change%20in%20the%20ideal%20analytic%20model%3F%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdetails%3E%3Csummary%3E%3Cem%3EAnswer%3C%2Fem%3E%3C%2Fsummary%3E%3Cp%3ENo.%20Only%20the%20%3Cem%3Edifference%3C%2Fem%3E%20%CE%94L%20changes%20the%20interference%20period.%3C%2Fp%3E%3C%2Fdetails%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2Fli%3E%0A%20%20%20%20%20%20%20%20%3C%2Fol%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22exercise%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Exercise%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22FSR%20vs%20%CE%94L%20(mini-lab)%22%2C%0A%20%20%20%20%20%20%20%20ordered%3DTrue%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Set%20%CE%94L%20to%2010%20%C2%B5m%20and%20estimate%20the%20FSR%20from%20the%20plot%20(distance%20between%20adjacent%20maxima).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Double%20%CE%94L.%20Predict%20the%20new%20FSR%20using%20the%20rule%20of%20thumb%2C%20then%20verify%20it%20on%20the%20plot.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Change%20the%20base%20arm%20length.%20Does%20the%20FSR%20change%20in%20the%20ideal%20analytic%20model%3F%20Why%20or%20why%20not%3F%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20base_length%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D100.0%2C%0A%20%20%20%20%20%20%20%20stop%3D20000.0%2C%0A%20%20%20%20%20%20%20%20value%3D5000.0%2C%0A%20%20%20%20%20%20%20%20step%3D100.0%2C%0A%20%20%20%20%20%20%20%20label%3D%22Base%20arm%20length%20(%C2%B5m)%22%2C%0A%20%20%20%20)%0A%20%20%20%20delta_length%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D0.0%2C%0A%20%20%20%20%20%20%20%20stop%3D500.0%2C%0A%20%20%20%20%20%20%20%20value%3D10.0%2C%0A%20%20%20%20%20%20%20%20step%3D1.0%2C%0A%20%20%20%20%20%20%20%20label%3D%22%CE%94L%20(%C2%B5m%2C%20path%20length%20difference)%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20base_length%2C%20delta_length%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20param_preset%20%3D%20mo.ui.dropdown(%0A%20%20%20%20%20%20%20%20options%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Custom%20(use%20sliders)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Reset%20to%20defaults%20(%CE%94L%3D10%20%C2%B5m)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%CE%94L%20%3D%2025%20%C2%B5m%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%CE%94L%20%3D%2050%20%C2%B5m%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%CE%94L%20%3D%20100%20%C2%B5m%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20value%3D%22Custom%20(use%20sliders)%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Parameter%20preset%20(overrides%20%CE%94L%20slider)%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20(param_preset%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20spectrum_center%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D1.50%2C%0A%20%20%20%20%20%20%20%20stop%3D1.60%2C%0A%20%20%20%20%20%20%20%20value%3D1.55%2C%0A%20%20%20%20%20%20%20%20step%3D0.001%2C%0A%20%20%20%20%20%20%20%20label%3D%22Spectrum%20center%20%CE%BB0%20(%C2%B5m%2C%201550%20band)%22%2C%0A%20%20%20%20)%0A%20%20%20%20wl_band%20%3D%20mo.ui.radio(%0A%20%20%20%20%20%20%20%20options%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%221550%20nm%20(default)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%221310%20nm%20(advanced)%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20value%3D%221550%20nm%20(default)%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Wavelength%20band%22%2C%0A%20%20%20%20%20%20%20%20inline%3DTrue%2C%0A%20%20%20%20)%0A%20%20%20%20spectrum_center_1310%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D1.26%2C%0A%20%20%20%20%20%20%20%20stop%3D1.36%2C%0A%20%20%20%20%20%20%20%20value%3D1.31%2C%0A%20%20%20%20%20%20%20%20step%3D0.001%2C%0A%20%20%20%20%20%20%20%20label%3D%22Spectrum%20center%20%CE%BB0%20(%C2%B5m%2C%201310%20band)%22%2C%0A%20%20%20%20)%0A%20%20%20%20spectrum_span_nm%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D10.0%2C%0A%20%20%20%20%20%20%20%20stop%3D200.0%2C%0A%20%20%20%20%20%20%20%20value%3D100.0%2C%0A%20%20%20%20%20%20%20%20step%3D5.0%2C%0A%20%20%20%20%20%20%20%20label%3D%22Spectrum%20span%20(nm)%22%2C%0A%20%20%20%20)%0A%20%20%20%20ng%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D2.0%2C%0A%20%20%20%20%20%20%20%20stop%3D5.0%2C%0A%20%20%20%20%20%20%20%20value%3D4.19%2C%0A%20%20%20%20%20%20%20%20step%3D0.01%2C%0A%20%20%20%20%20%20%20%20label%3D%22Group%20index%20ng%20(FSR%20estimate)%22%2C%0A%20%20%20%20)%0A%20%20%20%20n_eff%20%3D%20mo.ui.slider(%0A%20%20%20%20%20%20%20%20start%3D1.0%2C%0A%20%20%20%20%20%20%20%20stop%3D6.0%2C%0A%20%20%20%20%20%20%20%20value%3D2.40%2C%0A%20%20%20%20%20%20%20%20step%3D0.0001%2C%0A%20%20%20%20%20%20%20%20label%3D%22Phase%20effective%20index%20n_eff%20(toy%20model%3B%20tune%20fringes)%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20n_eff%2C%0A%20%20%20%20%20%20%20%20ng%2C%0A%20%20%20%20%20%20%20%20spectrum_center%2C%0A%20%20%20%20%20%20%20%20spectrum_center_1310%2C%0A%20%20%20%20%20%20%20%20spectrum_span_nm%2C%0A%20%20%20%20%20%20%20%20wl_band%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20view_mode%20%3D%20mo.ui.dropdown(%0A%20%20%20%20%20%20%20%20options%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Analytic%20only%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Simphony%20only%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Overlay%20(analytic%20%2B%20Simphony)%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20value%3D%22Analytic%20only%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22View%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20(view_mode%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20simphony_io%20%3D%20mo.ui.radio(%0A%20%20%20%20%20%20%20%20options%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Direct%20waveguide%20I%2FO%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Include%20grating%20couplers%20(in%20%2B%20out)%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20value%3D%22Direct%20waveguide%20I%2FO%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Simphony%20I%2FO%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20(simphony_io%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20run_simphony%20%3D%20mo.ui.checkbox(%0A%20%20%20%20%20%20%20%20label%3D%22Compute%20Simphony%20curve%22%2C%0A%20%20%20%20%20%20%20%20value%3DFalse%2C%0A%20%20%20%20)%0A%20%20%20%20return%20(run_simphony%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20y_scale%20%3D%20mo.ui.radio(%0A%20%20%20%20%20%20%20%20options%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Linear%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Semilog%20(log%20y)%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20value%3D%22Linear%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Y%20scale%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20(y_scale%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20show_plot_debug%20%3D%20mo.ui.checkbox(label%3D%22Show%20plot%20debug%20info%22%2C%20value%3DFalse)%0A%20%20%20%20return%20(show_plot_debug%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20show_advanced%20%3D%20mo.ui.checkbox(label%3D%22Show%20advanced%20controls%22%2C%20value%3DFalse)%0A%20%20%20%20return%20(show_advanced%2C)%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20playground_enabled%20%3D%20mo.ui.checkbox(%0A%20%20%20%20%20%20%20%20label%3D%22Enable%20expression%20playground%20(student%20editable)%22%2C%0A%20%20%20%20%20%20%20%20value%3DFalse%2C%0A%20%20%20%20)%0A%20%20%20%20playground_preset%20%3D%20mo.ui.radio(%0A%20%20%20%20%20%20%20%20options%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Ideal%20MZI%20(default)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Reduced%20visibility%20(V%3D0.8)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Add%20loss%20floor%20(2%25)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Custom%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20value%3D%22Ideal%20MZI%20(default)%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Playground%20preset%22%2C%0A%20%20%20%20)%0A%20%20%20%20playground_expr%20%3D%20mo.ui.text_area(%0A%20%20%20%20%20%20%20%20value%3D%220.5*(1%20%2B%20cos(2*pi*n_eff*delta_L%2Fwl_um))%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Custom%20transmission%20T(wl)%20(unitless)%22%2C%0A%20%20%20%20%20%20%20%20rows%3D2%2C%0A%20%20%20%20)%0A%20%20%20%20return%20playground_enabled%2C%20playground_expr%2C%20playground_preset%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20base_length%2C%0A%20%20%20%20delta_length%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20n_eff%2C%0A%20%20%20%20ng%2C%0A%20%20%20%20param_preset%2C%0A%20%20%20%20playground_enabled%2C%0A%20%20%20%20playground_expr%2C%0A%20%20%20%20playground_preset%2C%0A%20%20%20%20run_simphony%2C%0A%20%20%20%20show_advanced%2C%0A%20%20%20%20show_interactive%2C%0A%20%20%20%20show_plot_debug%2C%0A%20%20%20%20simphony_io%2C%0A%20%20%20%20spectrum_center%2C%0A%20%20%20%20spectrum_center_1310%2C%0A%20%20%20%20spectrum_span_nm%2C%0A%20%20%20%20view_mode%2C%0A%20%20%20%20wl_band%2C%0A%20%20%20%20y_scale%2C%0A)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20live_update%20%3D%20mo.ui.checkbox(label%3D%22Live%20update%22%2C%20value%3DTrue)%0A%20%20%20%20apply_update%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20label%3D%22Apply%22%2C%0A%20%20%20%20%20%20%20%20kind%3D%22neutral%22%2C%0A%20%20%20%20%20%20%20%20tooltip%3D%22When%20Live%20update%20is%20off%2C%20click%20Apply%20to%20recompute.%22%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(v%20or%200)%20%2B%201%2C%0A%20%20%20%20)%0A%0A%20%20%20%20basic_controls%20%3D%20mo.vstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5Bspectrum_center%2C%20spectrum_span_nm%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5By_scale%2C%20view_mode%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5Bbase_length%2C%20delta_length%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5Bparam_preset%2C%20ng%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20n_eff%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20advanced_controls%20%3D%20mo.vstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5Bshow_advanced%2C%20show_plot_debug%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20wl_band%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20spectrum_center_1310%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.hstack(%5Bplayground_enabled%2C%20playground_preset%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20playground_expr%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%0A%20%20%20%20controls_tabs%20%3D%20mo.ui.tabs(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Basic%22%3A%20mo.vstack(%5Bbasic_controls%2C%20mo.hstack(%5Bsimphony_io%2C%20run_simphony%5D)%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Advanced%22%3A%20advanced_controls%2C%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20value%3D%22Basic%22%2C%0A%20%20%20%20%20%20%20%20lazy%3DTrue%2C%0A%20%20%20%20)%0A%0A%20%20%20%20controls_ui%20%3D%20mo.vstack(%5Bmo.hstack(%5Blive_update%2C%20apply_update%5D)%2C%20controls_tabs%5D)%0A%20%20%20%20return%20apply_update%2C%20controls_ui%2C%20live_update%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20apply_update%2C%0A%20%20%20%20base_length%2C%0A%20%20%20%20delta_length%2C%0A%20%20%20%20live_update%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20n_eff%2C%0A%20%20%20%20ng%2C%0A%20%20%20%20param_preset%2C%0A%20%20%20%20playground_enabled%2C%0A%20%20%20%20playground_expr%2C%0A%20%20%20%20playground_preset%2C%0A%20%20%20%20run_simphony%2C%0A%20%20%20%20show_advanced%2C%0A%20%20%20%20show_interactive%2C%0A%20%20%20%20show_plot_debug%2C%0A%20%20%20%20simphony_io%2C%0A%20%20%20%20spectrum_center%2C%0A%20%20%20%20spectrum_center_1310%2C%0A%20%20%20%20spectrum_span_nm%2C%0A%20%20%20%20view_mode%2C%0A%20%20%20%20wl_band%2C%0A%20%20%20%20y_scale%2C%0A)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%0A%20%20%20%20raw%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22base_length%22%3A%20float(base_length.value)%2C%0A%20%20%20%20%20%20%20%20%22delta_length%22%3A%20float(delta_length.value)%2C%0A%20%20%20%20%20%20%20%20%22param_preset%22%3A%20str(param_preset.value)%2C%0A%20%20%20%20%20%20%20%20%22spectrum_center%22%3A%20float(spectrum_center.value)%2C%0A%20%20%20%20%20%20%20%20%22spectrum_center_1310%22%3A%20float(spectrum_center_1310.value)%2C%0A%20%20%20%20%20%20%20%20%22wl_band%22%3A%20str(wl_band.value)%2C%0A%20%20%20%20%20%20%20%20%22spectrum_span_nm%22%3A%20float(spectrum_span_nm.value)%2C%0A%20%20%20%20%20%20%20%20%22y_scale%22%3A%20str(y_scale.value)%2C%0A%20%20%20%20%20%20%20%20%22ng%22%3A%20float(ng.value)%2C%0A%20%20%20%20%20%20%20%20%22n_eff%22%3A%20float(n_eff.value)%2C%0A%20%20%20%20%20%20%20%20%22view_mode%22%3A%20str(view_mode.value)%2C%0A%20%20%20%20%20%20%20%20%22simphony_io%22%3A%20str(simphony_io.value)%2C%0A%20%20%20%20%20%20%20%20%22run_simphony%22%3A%20bool(run_simphony.value)%2C%0A%20%20%20%20%20%20%20%20%22show_plot_debug%22%3A%20bool(show_plot_debug.value)%2C%0A%20%20%20%20%20%20%20%20%22show_advanced%22%3A%20bool(show_advanced.value)%2C%0A%20%20%20%20%20%20%20%20%22playground_enabled%22%3A%20bool(playground_enabled.value)%2C%0A%20%20%20%20%20%20%20%20%22playground_preset%22%3A%20str(playground_preset.value)%2C%0A%20%20%20%20%20%20%20%20%22playground_expr%22%3A%20str(playground_expr.value%20or%20%22%22)%2C%0A%20%20%20%20%7D%0A%0A%20%20%20%20applied_state%2C%20set_applied_state%20%3D%20mo.state(raw)%0A%20%20%20%20last_apply_click%2C%20set_last_apply_click%20%3D%20mo.state(0)%0A%0A%20%20%20%20if%20not%20bool(live_update.value)%20and%20int(apply_update.value)%20!%3D%20int(last_apply_click())%3A%0A%20%20%20%20%20%20%20%20set_applied_state(raw)%0A%20%20%20%20%20%20%20%20set_last_apply_click(int(apply_update.value))%0A%0A%20%20%20%20effective%20%3D%20raw%20if%20bool(live_update.value)%20else%20dict(applied_state())%0A%0A%20%20%20%20_band%20%3D%20str(effective.get(%22wl_band%22%2C%20%221550%20nm%20(default)%22))%0A%20%20%20%20if%20_band.startswith(%221310%22)%3A%0A%20%20%20%20%20%20%20%20wl0_um_effective%20%3D%20float(effective%5B%22spectrum_center_1310%22%5D)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20wl0_um_effective%20%3D%20float(effective%5B%22spectrum_center%22%5D)%0A%0A%20%20%20%20preset_deltaL_um%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Reset%20to%20defaults%20(%CE%94L%3D10%20%C2%B5m)%22%3A%2010.0%2C%0A%20%20%20%20%20%20%20%20%22%CE%94L%20%3D%2025%20%C2%B5m%22%3A%2025.0%2C%0A%20%20%20%20%20%20%20%20%22%CE%94L%20%3D%2050%20%C2%B5m%22%3A%2050.0%2C%0A%20%20%20%20%20%20%20%20%22%CE%94L%20%3D%20100%20%C2%B5m%22%3A%20100.0%2C%0A%20%20%20%20%7D%0A%20%20%20%20preset_label%20%3D%20str(effective%5B%22param_preset%22%5D)%0A%20%20%20%20if%20preset_label%20in%20preset_deltaL_um%3A%0A%20%20%20%20%20%20%20%20delta_length_um_effective%20%3D%20float(preset_deltaL_um%5Bpreset_label%5D)%0A%20%20%20%20%20%20%20%20preset_active%20%3D%20True%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20delta_length_um_effective%20%3D%20float(effective%5B%22delta_length%22%5D)%0A%20%20%20%20%20%20%20%20preset_active%20%3D%20False%0A%0A%20%20%20%20w02_params%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22base_length_um%22%3A%20float(effective%5B%22base_length%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22delta_length_um_slider%22%3A%20float(effective%5B%22delta_length%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22delta_length_um_effective%22%3A%20delta_length_um_effective%2C%0A%20%20%20%20%20%20%20%20%22preset_active%22%3A%20preset_active%2C%0A%20%20%20%20%20%20%20%20%22param_preset%22%3A%20preset_label%2C%0A%20%20%20%20%20%20%20%20%22wl_band%22%3A%20_band%2C%0A%20%20%20%20%20%20%20%20%22wl0_um%22%3A%20wl0_um_effective%2C%0A%20%20%20%20%20%20%20%20%22spectrum_span_nm%22%3A%20float(effective%5B%22spectrum_span_nm%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22y_scale%22%3A%20str(effective%5B%22y_scale%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22semilog%22%3A%20str(effective%5B%22y_scale%22%5D)%20%3D%3D%20%22Semilog%20(log%20y)%22%2C%0A%20%20%20%20%20%20%20%20%22n_g%22%3A%20float(effective%5B%22ng%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22n_eff0%22%3A%20float(effective%5B%22n_eff%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22view_mode%22%3A%20str(effective%5B%22view_mode%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22simphony_io%22%3A%20str(effective%5B%22simphony_io%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22run_simphony%22%3A%20bool(effective%5B%22run_simphony%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22show_plot_debug%22%3A%20bool(effective%5B%22show_plot_debug%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22show_advanced%22%3A%20bool(effective%5B%22show_advanced%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22playground_enabled%22%3A%20bool(effective%5B%22playground_enabled%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22playground_preset%22%3A%20str(effective%5B%22playground_preset%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22playground_expr%22%3A%20str(effective%5B%22playground_expr%22%5D%20or%20%22%22)%2C%0A%20%20%20%20%20%20%20%20%22live_update%22%3A%20bool(live_update.value)%2C%0A%20%20%20%20%20%20%20%20%22applied%22%3A%20(not%20bool(live_update.value))%20and%20int(apply_update.value)%20%3E%200%2C%0A%20%20%20%20%7D%0A%20%20%20%20return%20delta_length_um_effective%2C%20w02_params%0A%0A%0A%40app.cell%0Adef%20_(np%2C%20w02_params)%3A%0A%20%20%20%20jnp%20%3D%20np%20%20%23%20Fallback%20if%20JAX%20is%20not%20available.%0A%20%20%20%20mzi_circuit%20%3D%20None%0A%20%20%20%20mzi_circuit_with_gc%20%3D%20None%0A%20%20%20%20simphony_error%20%3D%20%22%22%0A%0A%20%20%20%20needs_simphony%20%3D%20w02_params%5B%22view_mode%22%5D%20in%20%5B%22Simphony%20only%22%2C%20%22Overlay%20(analytic%20%2B%20Simphony)%22%5D%0A%20%20%20%20if%20needs_simphony%3A%0A%20%20%20%20%20%20%20%20try%3A%20%20%23%20pragma%3A%20no%20cover%20-%20depends%20on%20environment%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20jax%20import%20config%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20config.update(%22jax_enable_x64%22%2C%20True)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20import%20jax.numpy%20as%20jnp_mod%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20jnp%20%3D%20jnp_mod%0A%20%20%20%20%20%20%20%20%20%20%20%20import%20sax%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20simphony.libraries%20import%20siepic%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%3A%20%20%23%20pragma%3A%20no%20cover%20-%20depends%20on%20simphony%20%2F%20sax%20versions%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Y-branch%20MZI%3A%201x2%20splitter%20(forward)%20%2B%202x1%20combiner%20(reverse).%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20This%20provides%20a%20single%20output%20port%20at%20the%20combiner.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20hasattr(siepic%2C%20%22y_branch%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20AttributeError(%22simphony.libraries.siepic%20missing%20y_branch%20model%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20hasattr(siepic%2C%20%22waveguide%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20AttributeError(%22simphony.libraries.siepic%20missing%20waveguide%20model%22)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit%2C%20_%20%3D%20sax.circuit(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20netlist%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22instances%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22splitter%22%3A%20%22y_branch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22short_wg%22%3A%20%22waveguide%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22long_wg%22%3A%20%22waveguide%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22combiner%22%3A%20%22y_branch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22connections%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Splitter%20outputs%20to%20arms.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22splitter%2Cport_2%22%3A%20%22short_wg%2Co0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22splitter%2Cport_3%22%3A%20%22long_wg%2Co0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Arms%20into%20combiner%20(used%20in%20reverse%20as%20a%202x1%20combiner).%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22short_wg%2Co1%22%3A%20%22combiner%2Cport_2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22long_wg%2Co1%22%3A%20%22combiner%2Cport_3%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ports%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22input%22%3A%20%22splitter%2Cport_1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22through%22%3A%20%22combiner%2Cport_1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20models%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22y_branch%22%3A%20siepic.y_branch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22waveguide%22%3A%20siepic.waveguide%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20hasattr(siepic%2C%20%22grating_coupler%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit_with_gc%2C%20_%20%3D%20sax.circuit(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20netlist%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22instances%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gc_in%22%3A%20%22grating_coupler%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22splitter%22%3A%20%22y_branch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22short_wg%22%3A%20%22waveguide%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22long_wg%22%3A%20%22waveguide%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22combiner%22%3A%20%22y_branch%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gc_out%22%3A%20%22grating_coupler%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22connections%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22gc_in%2Co1%22%3A%20%22splitter%2Cport_1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22combiner%2Cport_1%22%3A%20%22gc_out%2Co1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Splitter%20outputs%20to%20arms.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22splitter%2Cport_2%22%3A%20%22short_wg%2Co0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22splitter%2Cport_3%22%3A%20%22long_wg%2Co0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23%20Arms%20into%20combiner%20(used%20in%20reverse%20as%20a%202x1%20combiner).%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22short_wg%2Co1%22%3A%20%22combiner%2Cport_2%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22long_wg%2Co1%22%3A%20%22combiner%2Cport_3%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22ports%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22input%22%3A%20%22gc_in%2Co0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22through%22%3A%20%22gc_out%2Co0%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20models%3D%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22grating_coupler%22%3A%20siepic.grating_coupler%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22y_branch%22%3A%20siepic.y_branch%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22waveguide%22%3A%20siepic.waveguide%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit_with_gc%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20simphony_error%20%3D%20f%22Simphony%2FSAX%20circuit%20unavailable%3A%20%7Be%7D%22%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit_with_gc%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20simphony_error%20%3D%20f%22Simphony%2FJAX%20imports%20unavailable%3A%20%7Be%7D%22%0A%20%20%20%20return%20jnp%2C%20mzi_circuit%2C%20mzi_circuit_with_gc%2C%20simphony_error%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20neff_linear_from_ng%2C%20np%2C%20pl%2C%20show_interactive%2C%20w02_params)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20_n_points%20%3D%20400%0A%20%20%20%20_wl_center_um%20%3D%20float(w02_params%5B%22wl0_um%22%5D)%0A%20%20%20%20_span_um%20%3D%20float(w02_params%5B%22spectrum_span_nm%22%5D)%20%2F%201e3%0A%20%20%20%20_wl_min_um%20%3D%20_wl_center_um%20-%20_span_um%20%2F%202%0A%20%20%20%20_wl_max_um%20%3D%20_wl_center_um%20%2B%20_span_um%20%2F%202%0A%0A%20%20%20%20_wl_um%20%3D%20np.linspace(_wl_min_um%2C%20_wl_max_um%2C%20_n_points)%0A%20%20%20%20_wl_nm%20%3D%20_wl_um%20*%201e3%0A%0A%20%20%20%20_semilog%20%3D%20bool(w02_params%5B%22semilog%22%5D)%0A%20%20%20%20_log_floor%20%3D%201e-6%0A%0A%20%20%20%20_n_index%20%3D%20float(w02_params%5B%22n_eff0%22%5D)%0A%20%20%20%20_ng_for_analytic%20%3D%20float(w02_params%5B%22n_g%22%5D)%0A%20%20%20%20_analytic_n_eff_lambda%2C%20_analytic_dn_eff_dlambda%20%3D%20neff_linear_from_ng(%0A%20%20%20%20%20%20%20%20wl_um%3D_wl_um%2C%0A%20%20%20%20%20%20%20%20wl0_um%3D_wl_center_um%2C%0A%20%20%20%20%20%20%20%20n_eff0%3D_n_index%2C%0A%20%20%20%20%20%20%20%20ng%3D_ng_for_analytic%2C%0A%20%20%20%20)%0A%20%20%20%20_delta_phi%20%3D%20(%0A%20%20%20%20%20%20%20%202%0A%20%20%20%20%20%20%20%20*%20np.pi%0A%20%20%20%20%20%20%20%20*%20_analytic_n_eff_lambda%0A%20%20%20%20%20%20%20%20*%20float(w02_params%5B%22delta_length_um_effective%22%5D)%0A%20%20%20%20%20%20%20%20%2F%20_wl_um%0A%20%20%20%20)%0A%20%20%20%20_T%20%3D%200.5%20*%20(1%20%2B%20np.cos(_delta_phi))%0A%20%20%20%20_analytic_value_plot%20%3D%20np.clip(_T%2C%20_log_floor%2C%20None)%20if%20_semilog%20else%20_T%0A%0A%20%20%20%20_analytic_df%20%3D%20pl.DataFrame(%0A%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22wavelength_nm%22%3A%20_wl_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%20_T%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22value_plot%22%3A%20_analytic_value_plot%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22curve%22%3A%20%5B%22Analytic%20through%22%5D%20*%20len(_wl_nm)%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20)%0A%0A%20%20%20%20w02_spectrum%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22n_points%22%3A%20_n_points%2C%0A%20%20%20%20%20%20%20%20%22wl_center_um%22%3A%20_wl_center_um%2C%0A%20%20%20%20%20%20%20%20%22wl_min_um%22%3A%20_wl_min_um%2C%0A%20%20%20%20%20%20%20%20%22wl_max_um%22%3A%20_wl_max_um%2C%0A%20%20%20%20%20%20%20%20%22wl_um%22%3A%20_wl_um%2C%0A%20%20%20%20%20%20%20%20%22wl_nm%22%3A%20_wl_nm%2C%0A%20%20%20%20%20%20%20%20%22semilog%22%3A%20_semilog%2C%0A%20%20%20%20%20%20%20%20%22log_floor%22%3A%20_log_floor%2C%0A%20%20%20%20%7D%0A%20%20%20%20w02_analytic%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22n_eff0%22%3A%20_n_index%2C%0A%20%20%20%20%20%20%20%20%22n_g%22%3A%20_ng_for_analytic%2C%0A%20%20%20%20%20%20%20%20%22dn_eff_dlambda_um_inv%22%3A%20float(_analytic_dn_eff_dlambda)%2C%0A%20%20%20%20%20%20%20%20%22df%22%3A%20_analytic_df%2C%0A%20%20%20%20%7D%0A%20%20%20%20return%20w02_analytic%2C%20w02_spectrum%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20np%2C%20pl%2C%20safe_math_eval%2C%20show_interactive%2C%20w02_params%2C%20w02_spectrum)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20_wl_um%20%3D%20w02_spectrum%5B%22wl_um%22%5D%0A%20%20%20%20_wl_nm%20%3D%20w02_spectrum%5B%22wl_nm%22%5D%0A%20%20%20%20_semilog%20%3D%20w02_spectrum%5B%22semilog%22%5D%0A%20%20%20%20_log_floor%20%3D%20w02_spectrum%5B%22log_floor%22%5D%0A%0A%20%20%20%20_playground_error%20%3D%20%22%22%0A%20%20%20%20_playground_df%20%3D%20None%0A%0A%20%20%20%20if%20bool(w02_params%5B%22playground_enabled%22%5D)%3A%0A%20%20%20%20%20%20%20%20_preset%20%3D%20str(w02_params%5B%22playground_preset%22%5D)%0A%20%20%20%20%20%20%20%20_preset_exprs%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Ideal%20MZI%20(default)%22%3A%20%220.5*(1%20%2B%20cos(2*pi*n_eff*delta_L%2Fwl_um))%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Reduced%20visibility%20(V%3D0.8)%22%3A%20%220.5*(1%20%2B%200.8*cos(2*pi*n_eff*delta_L%2Fwl_um))%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Add%20loss%20floor%20(2%25)%22%3A%20%220.02%20%2B%200.98*0.5*(1%20%2B%20cos(2*pi*n_eff*delta_L%2Fwl_um))%22%2C%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20_expr_str%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20_preset_exprs%5B_preset%5D.strip()%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20_preset%20in%20_preset_exprs%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20str(w02_params%5B%22playground_expr%22%5D%20or%20%22%22).strip()%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20not%20_expr_str%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_playground_error%20%3D%20%22Enter%20an%20expression%20to%20plot.%22%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_env%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wl_um%22%3A%20_wl_um%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wl_nm%22%3A%20_wl_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pi%22%3A%20float(np.pi)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22delta_L%22%3A%20float(w02_params%5B%22delta_length_um_effective%22%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n_eff%22%3A%20float(w02_params%5B%22n_eff0%22%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22n_g%22%3A%20float(w02_params%5B%22n_g%22%5D)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_y%20%3D%20safe_math_eval(_expr_str%2C%20_env)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_y_arr%20%3D%20np.asarray(_y%2C%20dtype%3Dfloat)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20_y_arr.shape%20%3D%3D%20()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_y_arr%20%3D%20np.full_like(_wl_um%2C%20float(_y_arr))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_y_arr%20%3D%20_y_arr.reshape(-1)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20len(_y_arr)%20!%3D%20len(_wl_um)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20raise%20ValueError(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22Expression%20returned%20%7Blen(_y_arr)%7D%20values%3B%20expected%20%7Blen(_wl_um)%7D%20(or%20a%20scalar).%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_y_plot%20%3D%20np.clip(_y_arr%2C%20_log_floor%2C%20None)%20if%20_semilog%20else%20_y_arr%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_playground_df%20%3D%20pl.DataFrame(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wavelength_nm%22%3A%20_wl_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%20_y_arr%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value_plot%22%3A%20_y_plot%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22curve%22%3A%20%5B%22Student%20expression%22%5D%20*%20len(_wl_nm)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20_playground_error%20%3D%20f%22%7Btype(e).__name__%7D%3A%20%7Be%7D%22%0A%0A%20%20%20%20w02_playground%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22enabled%22%3A%20bool(w02_params%5B%22playground_enabled%22%5D)%2C%0A%20%20%20%20%20%20%20%20%22error%22%3A%20_playground_error%2C%0A%20%20%20%20%20%20%20%20%22df%22%3A%20_playground_df%2C%0A%20%20%20%20%7D%0A%20%20%20%20return%20(w02_playground%2C)%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20jnp%2C%0A%20%20%20%20mzi_circuit%2C%0A%20%20%20%20mzi_circuit_with_gc%2C%0A%20%20%20%20np%2C%0A%20%20%20%20pl%2C%0A%20%20%20%20simphony_error%2C%0A%20%20%20%20w02_params%2C%0A%20%20%20%20w02_spectrum%2C%0A)%3A%0A%20%20%20%20_simphony_selected%20%3D%20w02_params%5B%22view_mode%22%5D%20in%20%5B%0A%20%20%20%20%20%20%20%20%22Simphony%20only%22%2C%0A%20%20%20%20%20%20%20%20%22Overlay%20(analytic%20%2B%20Simphony)%22%2C%0A%20%20%20%20%5D%0A%20%20%20%20_use_gratings%20%3D%20w02_params%5B%22simphony_io%22%5D%20%3D%3D%20%22Include%20grating%20couplers%20(in%20%2B%20out)%22%0A%0A%20%20%20%20_sim_circuit%20%3D%20None%0A%20%20%20%20if%20_simphony_selected%3A%0A%20%20%20%20%20%20%20%20_sim_circuit%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20mzi_circuit_with_gc%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(_use_gratings%20and%20mzi_circuit_with_gc%20is%20not%20None)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20mzi_circuit%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20_wl_min_um%20%3D%20float(w02_spectrum%5B%22wl_min_um%22%5D)%0A%20%20%20%20_wl_max_um%20%3D%20float(w02_spectrum%5B%22wl_max_um%22%5D)%0A%20%20%20%20_n_points%20%3D%20int(w02_spectrum%5B%22n_points%22%5D)%0A%20%20%20%20_semilog%20%3D%20bool(w02_spectrum%5B%22semilog%22%5D)%0A%20%20%20%20_log_floor%20%3D%20float(w02_spectrum%5B%22log_floor%22%5D)%0A%0A%20%20%20%20_simphony_runtime_error%20%3D%20%22%22%0A%20%20%20%20_simphony_plotted%20%3D%20False%0A%20%20%20%20_sim_df%20%3D%20None%0A%0A%20%20%20%20_should_run%20%3D%20bool(w02_params%5B%22run_simphony%22%5D)%20and%20_simphony_selected%0A%0A%20%20%20%20if%20_should_run%20and%20_sim_circuit%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_wl_sim%20%3D%20jnp.linspace(_wl_min_um%2C%20_wl_max_um%2C%20_n_points)%0A%20%20%20%20%20%20%20%20%20%20%20%20_base_length_um%20%3D%20float(w02_params%5B%22base_length_um%22%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20_delta_length_um_effective%20%3D%20float(w02_params%5B%22delta_length_um_effective%22%5D)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20wg_pol%20%3D%20%22te%22%0A%20%20%20%20%20%20%20%20%20%20%20%20wg_width_nm%20%3D%20500.0%0A%20%20%20%20%20%20%20%20%20%20%20%20wg_height_nm%20%3D%20220.0%0A%20%20%20%20%20%20%20%20%20%20%20%20wg_loss%20%3D%200.0%0A%20%20%20%20%20%20%20%20%20%20%20%20gc_pol%20%3D%20%22te%22%0A%20%20%20%20%20%20%20%20%20%20%20%20gc_thickness_nm%20%3D%20220.0%0A%20%20%20%20%20%20%20%20%20%20%20%20gc_dwidth_nm%20%3D%200.0%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20sim_kwargs%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wl%22%3A%20_wl_sim%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22short_wg%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22length%22%3A%20_base_length_um%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pol%22%3A%20wg_pol%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22width%22%3A%20wg_width_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22height%22%3A%20wg_height_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22loss%22%3A%20wg_loss%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22long_wg%22%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22length%22%3A%20(_base_length_um%20%2B%20_delta_length_um_effective)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pol%22%3A%20wg_pol%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22width%22%3A%20wg_width_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22height%22%3A%20wg_height_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22loss%22%3A%20wg_loss%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20_use_gratings%20and%20mzi_circuit_with_gc%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sim_kwargs%5B%22gc_in%22%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pol%22%3A%20gc_pol%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22thickness%22%3A%20gc_thickness_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dwidth%22%3A%20gc_dwidth_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sim_kwargs%5B%22gc_out%22%5D%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22pol%22%3A%20gc_pol%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22thickness%22%3A%20gc_thickness_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22dwidth%22%3A%20gc_dwidth_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20S%20%3D%20_sim_circuit(**sim_kwargs)%0A%20%20%20%20%20%20%20%20%20%20%20%20transmission_through%20%3D%20S%5B%22through%22%2C%20%22input%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20intensity_through%20%3D%20jnp.abs(transmission_through)%20**%202%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20_wl_nm%20%3D%20np.array(_wl_sim)%20*%201e3%0A%20%20%20%20%20%20%20%20%20%20%20%20intensity_through_np%20%3D%20np.array(intensity_through)%0A%20%20%20%20%20%20%20%20%20%20%20%20sim_value_plot%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20np.clip(intensity_through_np%2C%20_log_floor%2C%20None)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20_semilog%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20intensity_through_np%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20curve_label%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22Through%20(Simphony%2C%20with%20grating%20couplers)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20_use_gratings%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%22Through%20(Simphony)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20_sim_df%20%3D%20pl.DataFrame(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22wavelength_nm%22%3A%20_wl_nm%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value%22%3A%20intensity_through_np%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22value_plot%22%3A%20sim_value_plot%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22curve%22%3A%20%5Bcurve_label%5D%20*%20len(_wl_nm)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_plotted%20%3D%20True%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_runtime_error%20%3D%20f%22%7Btype(e).__name__%7D%3A%20%7Be%7D%22%0A%0A%20%20%20%20_simphony_status%20%3D%20%22%22%0A%20%20%20%20if%20_simphony_selected%3A%0A%20%20%20%20%20%20%20%20if%20not%20_should_run%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_status%20%3D%20%22Not%20computed%20(enable%20%E2%80%9CCompute%20Simphony%20curve%E2%80%9D)%22%0A%20%20%20%20%20%20%20%20elif%20_sim_circuit%20is%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_status%20%3D%20f%22Unavailable%3A%20%60%7Bsimphony_error%7D%60%22%0A%20%20%20%20%20%20%20%20elif%20_simphony_runtime_error%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_status%20%3D%20f%22Runtime%20error%3A%20%60%7B_simphony_runtime_error%7D%60%22%0A%20%20%20%20%20%20%20%20elif%20_simphony_plotted%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_status%20%3D%20%22OK%20(Simphony%20curve%20computed)%22%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_simphony_status%20%3D%20%22No%20curve%20produced%20(unexpected)%22%0A%0A%20%20%20%20w02_simphony%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22selected%22%3A%20_simphony_selected%2C%0A%20%20%20%20%20%20%20%20%22should_run%22%3A%20_should_run%2C%0A%20%20%20%20%20%20%20%20%22use_gratings%22%3A%20_use_gratings%2C%0A%20%20%20%20%20%20%20%20%22circuit_available%22%3A%20_sim_circuit%20is%20not%20None%2C%0A%20%20%20%20%20%20%20%20%22plotted%22%3A%20_simphony_plotted%2C%0A%20%20%20%20%20%20%20%20%22status%22%3A%20_simphony_status%2C%0A%20%20%20%20%20%20%20%20%22runtime_error%22%3A%20_simphony_runtime_error%2C%0A%20%20%20%20%20%20%20%20%22df%22%3A%20_sim_df%2C%0A%20%20%20%20%20%20%20%20%22import_error%22%3A%20simphony_error%2C%0A%20%20%20%20%7D%0A%20%20%20%20return%20(w02_simphony%2C)%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20alt%2C%0A%20%20%20%20controls_ui%2C%0A%20%20%20%20fsr_estimate_nm%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20phase_slope_rad_per_nm%2C%0A%20%20%20%20show_interactive%2C%0A%20%20%20%20w02_analytic%2C%0A%20%20%20%20w02_params%2C%0A%20%20%20%20w02_playground%2C%0A%20%20%20%20w02_simphony%2C%0A%20%20%20%20w02_spectrum%2C%0A)%3A%0A%20%20%20%20from%20_notebook_template%20import%20badge_row%2C%20download_csv_button%0A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%0A%20%20%20%20_wl_center_um%20%3D%20float(w02_spectrum%5B%22wl_center_um%22%5D)%0A%20%20%20%20_wl_min_um%20%3D%20float(w02_spectrum%5B%22wl_min_um%22%5D)%0A%20%20%20%20_wl_max_um%20%3D%20float(w02_spectrum%5B%22wl_max_um%22%5D)%0A%20%20%20%20_semilog%20%3D%20bool(w02_spectrum%5B%22semilog%22%5D)%0A%20%20%20%20_log_floor%20%3D%20float(w02_spectrum%5B%22log_floor%22%5D)%0A%0A%20%20%20%20_analytic_df%20%3D%20w02_analytic%5B%22df%22%5D%0A%0A%20%20%20%20_plot_rows%3A%20list%5Bdict%5D%20%3D%20%5B%5D%0A%20%20%20%20_view_mode%20%3D%20str(w02_params%5B%22view_mode%22%5D)%0A%20%20%20%20if%20_view_mode%20in%20%5B%22Analytic%20only%22%2C%20%22Overlay%20(analytic%20%2B%20Simphony)%22%5D%3A%0A%20%20%20%20%20%20%20%20_plot_rows.extend(_analytic_df.to_dicts())%0A%0A%20%20%20%20if%20w02_playground.get(%22df%22)%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20_plot_rows.extend(w02_playground%5B%22df%22%5D.to_dicts())%0A%0A%20%20%20%20if%20_view_mode%20in%20%5B%22Simphony%20only%22%2C%20%22Overlay%20(analytic%20%2B%20Simphony)%22%5D%3A%0A%20%20%20%20%20%20%20%20if%20w02_simphony.get(%22df%22)%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_plot_rows.extend(w02_simphony%5B%22df%22%5D.to_dicts())%0A%0A%20%20%20%20_base_length_um%20%3D%20float(w02_params%5B%22base_length_um%22%5D)%0A%20%20%20%20_delta_length_um%20%3D%20float(w02_params%5B%22delta_length_um_effective%22%5D)%0A%20%20%20%20_short_length_mm%20%3D%20_base_length_um%20%2F%201e3%0A%20%20%20%20_long_length_mm%20%3D%20(_base_length_um%20%2B%20_delta_length_um)%20%2F%201e3%0A%0A%20%20%20%20fsr_nm%20%3D%20fsr_estimate_nm(%0A%20%20%20%20%20%20%20%20wl0_um%3D_wl_center_um%2C%20ng%3Dfloat(w02_params%5B%22n_g%22%5D)%2C%20delta_length_um%3D_delta_length_um%0A%20%20%20%20)%0A%20%20%20%20phase_slope_est_rad_per_nm%20%3D%20phase_slope_rad_per_nm(%0A%20%20%20%20%20%20%20%20wl0_um%3D_wl_center_um%2C%20ng%3Dfloat(w02_params%5B%22n_g%22%5D)%2C%20delta_length_um%3D_delta_length_um%0A%20%20%20%20)%0A%0A%20%20%20%20fringes_est%20%3D%20None%0A%20%20%20%20if%20fsr_nm%20is%20not%20None%20and%20fsr_nm%20%3E%200%3A%0A%20%20%20%20%20%20%20%20fringes_est%20%3D%20float(w02_params%5B%22spectrum_span_nm%22%5D)%20%2F%20fsr_nm%0A%0A%20%20%20%20download_button%20%3D%20mo.md(%22%22)%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20download_button%20%3D%20download_csv_button(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20_plot_rows%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20filename%3D%22mzi_spectrum.csv%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3D%22Download%20CSV%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20preferred_fields%3D%5B%22wavelength_nm%22%2C%20%22value%22%2C%20%22value_plot%22%2C%20%22curve%22%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20except%20Exception%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20download_button%20%3D%20mo.md(%22%22)%0A%0A%20%20%20%20_sim_requested%20%3D%20_view_mode%20in%20%5B%22Simphony%20only%22%2C%20%22Overlay%20(analytic%20%2B%20Simphony)%22%5D%0A%0A%20%20%20%20status_badges_list%20%3D%20%5B%0A%20%20%20%20%20%20%20%20f%22%CE%94L%20%3D%20%3Cstrong%3E%7B_delta_length_um%3A.1f%7D%20%C2%B5m%3C%2Fstrong%3E%22%2C%0A%20%20%20%20%20%20%20%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22FSR%20%E2%89%88%20%3Cstrong%3E%7Bfsr_nm%3A.2f%7D%20nm%3C%2Fstrong%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20fsr_nm%20is%20not%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20%22FSR%3A%20%3Cstrong%3E(%CE%94L%20%3D%200)%3C%2Fstrong%3E%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%5D%0A%20%20%20%20if%20phase_slope_est_rad_per_nm%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20status_badges_list.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22%7Cd%CE%94%CF%86%2Fd%CE%BB%7C%40%CE%BB0%20%E2%89%88%20%3Cstrong%3E%7Bphase_slope_est_rad_per_nm%3A.2f%7D%20rad%2Fnm%3C%2Fstrong%3E%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20status_badges_list.append(%0A%20%20%20%20%20%20%20%20f%22span%20%3D%20%3Cstrong%3E%7Bfloat(w02_params%5B'spectrum_span_nm'%5D)%3A.0f%7D%20nm%3C%2Fstrong%3E%22%0A%20%20%20%20)%0A%20%20%20%20if%20fringes_est%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20status_badges_list.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22~%20fringes%20in%20view%20%E2%89%88%20%3Cstrong%3E%7Bfringes_est%3A.1f%7D%3C%2Fstrong%3E%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20status_badges_list.extend(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22View%3A%20%3Cstrong%3E%7B_view_mode%7D%3C%2Fstrong%3E%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Update%3A%20%3Cstrong%3E%7B'Live'%20if%20w02_params%5B'live_update'%5D%20else%20'Apply'%7D%3C%2Fstrong%3E%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22Simphony%3A%20%3Cstrong%3E%7Bw02_simphony.get('status'%2C'')%7D%3C%2Fstrong%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20_sim_requested%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20%22Simphony%3A%20%3Cstrong%3E(not%20requested)%3C%2Fstrong%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20status_badges%20%3D%20badge_row(%0A%20%20%20%20%20%20%20%20mo%2C%20status_badges_list%2C%20style%3D%22margin%3A%200.35rem%200%200.25rem%200%3B%22%0A%20%20%20%20)%0A%0A%20%20%20%20if%20_view_mode%20%3D%3D%20%22Simphony%20only%22%20and%20not%20w02_simphony.get(%22plotted%22%2C%20False)%3A%0A%20%20%20%20%20%20%20%20_reason_lines%3A%20list%5Bstr%5D%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20if%20not%20w02_simphony.get(%22should_run%22%2C%20False)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(%22Status%3A%20**Not%20computed**%20(Compute%20Simphony%20curve%20is%20off).%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(%22Fix%3A%20enable%20**Compute%20Simphony%20curve**%20under%20Controls.%22)%0A%20%20%20%20%20%20%20%20elif%20not%20w02_simphony.get(%22circuit_available%22%2C%20False)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(%22Status%3A%20**Unavailable**%20(Simphony%2FSAX%20circuit%20not%20available%20here).%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(f%22Details%3A%20%60%7Bw02_simphony.get('import_error'%2C'')%7D%60%22)%0A%20%20%20%20%20%20%20%20elif%20w02_simphony.get(%22runtime_error%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(%22Status%3A%20**Runtime%20error**%20during%20circuit%20evaluation.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(f%22Details%3A%20%60%7Bw02_simphony.get('runtime_error'%2C'')%7D%60%22)%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(%22Status%3A%20**No%20curve%20produced**%20(unexpected).%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20_reason_lines.append(%22Fix%3A%20try%20toggling%20**Compute%20Simphony%20curve**%20off%2Fon%20and%20re-run.%22)%0A%0A%20%20%20%20%20%20%20%20chart_out%20%3D%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22**Simphony-only%20view%3A**%20no%20Simphony%20curve%20to%20display.%5Cn%5Cn%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%20%22%5Cn%22.join(f%22-%20%7Bline%7D%22%20for%20line%20in%20_reason_lines)%0A%20%20%20%20%20%20%20%20%20%20%20%20%2B%20%22%5Cn%5CnTip%3A%20switch%20to%20**Overlay**%20to%20compare%20with%20the%20analytic%20curve.%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20if%20not%20_plot_rows%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20_plot_rows.extend(_analytic_df.to_dicts())%0A%0A%20%20%20%20%20%20%20%20y_scale_obj%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Scale(type%3D%22log%22%2C%20domain%3D%5B_log_floor%2C%201%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20_semilog%0A%20%20%20%20%20%20%20%20%20%20%20%20else%20alt.Scale(domain%3D%5B0%2C%201%5D)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20y_field%20%3D%20%22value_plot%22%20if%20_semilog%20else%20%22value%22%0A%20%20%20%20%20%20%20%20chart%20%3D%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20alt.Chart(alt.Data(values%3D_plot_rows))%0A%20%20%20%20%20%20%20%20%20%20%20%20.mark_line(point%3DTrue)%0A%20%20%20%20%20%20%20%20%20%20%20%20.encode(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20x%3Dalt.X(%22wavelength_nm%22%2C%20type%3D%22quantitative%22%2C%20title%3D%22Wavelength%20(nm)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%3Dalt.Y(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y_field%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3D%22quantitative%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Through%20power%20(log%20scale)%22%20if%20_semilog%20else%20%22Through%20power%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20scale%3Dy_scale_obj%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20color%3Dalt.Color(%22curve%22%2C%20type%3D%22nominal%22%2C%20title%3D%22Curve%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tooltip%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22wavelength_nm%22%2C%20type%3D%22quantitative%22%2C%20title%3D%22Wavelength%20(nm)%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22value%22%2C%20type%3D%22quantitative%22%2C%20title%3D%22Through%20power%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20alt.Tooltip(%22curve%22%2C%20type%3D%22nominal%22%2C%20title%3D%22Curve%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20).properties(title%3D%22MZI%20transfer%20function%22%2C%20width%3D500%2C%20height%3D250).interactive()%0A%0A%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20chart_out%20%3D%20mo.ui.altair_chart(chart)%20if%20hasattr(mo.ui%2C%20%22altair_chart%22)%20else%20chart%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20chart_out%20%3D%20mo.md(f%22**Plot%20render%20error%3A**%20%60%7Btype(e).__name__%7D%3A%20%7Be%7D%60%22)%0A%0A%20%20%20%20simphony_help%20%3D%20mo.md(%22%22)%0A%0A%20%20%20%20if%20w02_params.get(%22preset_active%22)%20and%20abs(%0A%20%20%20%20%20%20%20%20float(w02_params%5B%22delta_length_um_slider%22%5D)%20-%20float(w02_params%5B%22delta_length_um_effective%22%5D)%0A%20%20%20%20)%20%3E%201e-9%3A%0A%20%20%20%20%20%20%20%20preset_note%20%3D%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22**%CE%94L%20preset%20active%3A**%20using%20**%CE%94L%20%3D%20%7Bfloat(w02_params%5B'delta_length_um_effective'%5D)%3A.1f%7D%20%C2%B5m**%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22(slider%20shows%20%7Bfloat(w02_params%5B'delta_length_um_slider'%5D)%3A.1f%7D%20%C2%B5m).%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20preset_note%20%3D%20mo.md(%22%22)%0A%0A%20%20%20%20playground_error%20%3D%20(%0A%20%20%20%20%20%20%20%20mo.md(f%22**Playground%20error%3A**%20%60%7Bw02_playground%5B'error'%5D%7D%60%22)%0A%20%20%20%20%20%20%20%20if%20w02_playground.get(%22error%22)%0A%20%20%20%20%20%20%20%20else%20mo.md(%22%22)%0A%20%20%20%20)%0A%0A%20%20%20%20mo.vstack(%0A%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20chart_out%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20status_badges%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20download_button%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20preset_note%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20playground_error%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20controls_ui%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22**Next%3A**%20scroll%20down%20for%20the%20**FSR%20measurement%20tool**.%22)%2C%0A%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_interactive)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20from%20_notebook_template%20import%20make_fsr_tool_widgets%0A%0A%20%20%20%20auto_source%2C%20lam1_nm%2C%20lam2_nm%2C%20lam1_state%2C%20lam2_state%2C%20set_lam1%2C%20set_lam2%20%3D%20(%0A%20%20%20%20%20%20%20%20make_fsr_tool_widgets(mo)%0A%20%20%20%20)%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20auto_source%2C%0A%20%20%20%20%20%20%20%20lam1_nm%2C%0A%20%20%20%20%20%20%20%20lam1_state%2C%0A%20%20%20%20%20%20%20%20lam2_nm%2C%0A%20%20%20%20%20%20%20%20lam2_state%2C%0A%20%20%20%20%20%20%20%20set_lam1%2C%0A%20%20%20%20%20%20%20%20set_lam2%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20auto_fsr_from_curve%2C%0A%20%20%20%20auto_source%2C%0A%20%20%20%20doc_callout_html%2C%0A%20%20%20%20fsr_estimate_nm%2C%0A%20%20%20%20lam1_nm%2C%0A%20%20%20%20lam1_state%2C%0A%20%20%20%20lam2_nm%2C%0A%20%20%20%20lam2_state%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20phase_slope_rad_per_nm%2C%0A%20%20%20%20set_lam1%2C%0A%20%20%20%20set_lam2%2C%0A%20%20%20%20show_interactive%2C%0A%20%20%20%20w02_analytic%2C%0A%20%20%20%20w02_params%2C%0A%20%20%20%20w02_playground%2C%0A%20%20%20%20w02_simphony%2C%0A)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20wl0_um%20%3D%20float(w02_params%5B%22wl0_um%22%5D)%0A%20%20%20%20ng_for_fsr_tool%20%3D%20float(w02_params%5B%22n_g%22%5D)%0A%20%20%20%20dL_um%20%3D%20float(w02_params%5B%22delta_length_um_effective%22%5D)%0A%20%20%20%20dL_slider_um%20%3D%20float(w02_params%5B%22delta_length_um_slider%22%5D)%0A%20%20%20%20_preset_active%20%3D%20bool(w02_params%5B%22preset_active%22%5D)%0A%0A%20%20%20%20fsr_est_nm%20%3D%20fsr_estimate_nm(wl0_um%3Dwl0_um%2C%20ng%3Dng_for_fsr_tool%2C%20delta_length_um%3DdL_um)%0A%0A%20%20%20%20measured%20%3D%20None%0A%20%20%20%20error_pct%20%3D%20None%0A%20%20%20%20delta_phi_est_rad%20%3D%20None%0A%20%20%20%20delta_phi_est_cycles%20%3D%20None%0A%20%20%20%20parse_error%20%3D%20%22%22%0A%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20if%20lam1_state().strip()%20and%20lam2_state().strip()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20l1%20%3D%20float(lam1_state())%0A%20%20%20%20%20%20%20%20%20%20%20%20l2%20%3D%20float(lam2_state())%0A%20%20%20%20%20%20%20%20%20%20%20%20measured%20%3D%20abs(l2%20-%20l1)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20dL_um%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_phase_slope%20%3D%20phase_slope_rad_per_nm(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20wl0_um%3Dwl0_um%2C%20ng%3Dng_for_fsr_tool%2C%20delta_length_um%3DdL_um%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20fsr_tool_phase_slope%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_two_pi%20%3D%206.283185307179586%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta_phi_est_rad%20%3D%20float(fsr_tool_phase_slope%20*%20measured)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delta_phi_est_cycles%20%3D%20float(delta_phi_est_rad%20%2F%20fsr_tool_two_pi)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20fsr_est_nm%20is%20not%20None%20and%20fsr_est_nm%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20error_pct%20%3D%20100.0%20*%20(measured%20-%20fsr_est_nm)%20%2F%20fsr_est_nm%0A%20%20%20%20except%20Exception%20as%20e%3A%0A%20%20%20%20%20%20%20%20parse_error%20%3D%20f%22%7Btype(e).__name__%7D%3A%20%7Be%7D%22%0A%0A%20%20%20%20def%20_curve_df(source%3A%20str)%3A%0A%20%20%20%20%20%20%20%20if%20source%20%3D%3D%20%22Analytic%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20w02_analytic.get(%22df%22)%2C%20%22%22%0A%20%20%20%20%20%20%20%20if%20source%20%3D%3D%20%22Simphony%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20bool(w02_simphony.get(%22plotted%22%2C%20False))%20or%20w02_simphony.get(%22df%22)%20is%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20None%2C%20%22Simphony%20curve%20not%20available%20(compute%20it%20first%2C%20or%20switch%20view).%22%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20w02_simphony%5B%22df%22%5D%2C%20%22%22%0A%20%20%20%20%20%20%20%20if%20source%20%3D%3D%20%22Student%20expression%22%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20not%20bool(w02_playground.get(%22enabled%22%2C%20False))%20or%20w02_playground.get(%22df%22)%20is%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20None%2C%20%22Student%20expression%20curve%20not%20available%20(enable%20the%20playground).%22%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20w02_playground%5B%22df%22%5D%2C%20%22%22%0A%20%20%20%20%20%20%20%20return%20None%2C%20%22Unknown%20source.%22%0A%0A%20%20%20%20auto_choice%20%3D%20str(auto_source.value)%0A%20%20%20%20if%20auto_choice%20%3D%3D%20%22Best%20available%22%3A%0A%20%20%20%20%20%20%20%20if%20bool(w02_simphony.get(%22plotted%22%2C%20False))%20and%20w02_simphony.get(%22df%22)%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20auto_choice%20%3D%20%22Simphony%22%0A%20%20%20%20%20%20%20%20elif%20bool(w02_playground.get(%22enabled%22%2C%20False))%20and%20w02_playground.get(%22df%22)%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20auto_choice%20%3D%20%22Student%20expression%22%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20auto_choice%20%3D%20%22Analytic%22%0A%0A%20%20%20%20auto_df%2C%20auto_df_error%20%3D%20_curve_df(auto_choice)%0A%20%20%20%20auto_result%20%3D%20None%0A%20%20%20%20if%20auto_df%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20wl_nm%20%3D%20auto_df.get_column(%22wavelength_nm%22).to_numpy()%0A%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20auto_df.get_column(%22value%22).to_numpy()%0A%20%20%20%20%20%20%20%20%20%20%20%20auto_result%20%3D%20auto_fsr_from_curve(wl_nm%3Dwl_nm%2C%20y%3Dy%2C%20wl0_nm%3Dfloat(wl0_um%20*%201e3))%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20auto_df_error%20%3D%20f%22%7Btype(e).__name__%7D%3A%20%7Be%7D%22%0A%0A%20%20%20%20fsr_tool_blocks%20%3D%20%5B%0A%20%20%20%20%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22exercise%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20tag%3D%22Tool%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20title%3D%22Measure%20the%20FSR%20from%20the%20plot%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20html%3Dr%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20Hover%20a%20curve%20to%20read%20wavelengths%20from%20the%20tooltip.%20Enter%20two%20%3Cem%3Eadjacent%20maxima%3C%2Fem%3E%20wavelengths%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20(in%20nm)%20below%3B%20the%20tool%20computes%20the%20measured%20FSR%20and%20compares%20it%20to%20the%20rule-of-thumb%20estimate%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20shown%20below.%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.md(r%22Rule-of-thumb%3A%20%24%5Cmathrm%7BFSR%7D%20%5Capprox%20%5Clambda_0%5E2%2F(n_g%5C%2C%5CDelta%20L)%24.%22)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%22Derivation%20link%3A%20an%20FSR%20is%20the%20%CE%94%CE%BB%20that%20makes%20the%20relative%20phase%20change%20by%20**2%CF%80**%20near%20%CE%BB0.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Using%3A%20**%CE%94L%20%3D%20%7BdL_um%3A.2f%7D%20%C2%B5m**%20(effective)%2C%20**%CE%BB0%20%3D%20%7Bwl0_um*1e3%3A.1f%7D%20nm**%2C%20**ng%20%3D%20%7Bng_for_fsr_tool%3A.2f%7D**.%22%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.hstack(%5Bauto_source%5D)%2C%0A%20%20%20%20%5D%0A%20%20%20%20if%20_preset_active%20and%20abs(dL_slider_um%20-%20dL_um)%20%3E%201e-9%3A%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22**Note%3A**%20a%20%CE%94L%20preset%20is%20active%2C%20so%20the%20%CE%94L%20slider%20is%20ignored%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22(slider%20shows%20%7BdL_slider_um%3A.2f%7D%20%C2%B5m).%20Set%20*Parameter%20preset*%20to%20**Custom**%20to%20use%20the%20slider.%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20if%20auto_df_error%3A%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(mo.md(f%22**Auto-measure%20(%7Bauto_choice%7D)%3A**%20%7Bauto_df_error%7D%22))%0A%20%20%20%20elif%20isinstance(auto_result%2C%20dict)%20and%20bool(auto_result.get(%22ok%22%2C%20False))%3A%0A%20%20%20%20%20%20%20%20_a1%20%3D%20float(auto_result%5B%22lam1_nm%22%5D)%0A%20%20%20%20%20%20%20%20_a2%20%3D%20float(auto_result%5B%22lam2_nm%22%5D)%0A%20%20%20%20%20%20%20%20_afsr%20%3D%20float(auto_result%5B%22fsr_nm%22%5D)%0A%20%20%20%20%20%20%20%20use_auto%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20kind%3D%22neutral%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20label%3Df%22Use%20auto%20peaks%20(%CE%BB1%3D%7B_a1%3A.2f%7D%20nm%2C%20%CE%BB2%3D%7B_a2%3A.2f%7D%20nm)%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20set_lam1(f%22%7B_a1%3A.2f%7D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20set_lam2(f%22%7B_a2%3A.2f%7D%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(v%20or%200)%20%2B%201%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20)%5B-1%5D%2C%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22**Auto-measured%20FSR%20(%7Bauto_choice%7D%2C%20%7Bint(auto_result.get('n_peaks'%2C0))%7D%20peaks%20found)%3A**%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22**%7B_afsr%3A.2f%7D%20nm**%22%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(use_auto)%0A%20%20%20%20elif%20isinstance(auto_result%2C%20dict)%3A%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22**Auto-measure%20(%7Bauto_choice%7D)%3A**%20%7Bauto_result.get('message'%2C'Could%20not%20measure.')%7D%22)%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20fsr_tool_blocks.append(mo.hstack(%5Blam1_nm%2C%20lam2_nm%5D))%0A%0A%20%20%20%20if%20parse_error%3A%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(mo.md(f%22**Parse%20error%3A**%20%60%7Bparse_error%7D%60%22))%0A%20%20%20%20elif%20fsr_est_nm%20is%20None%3A%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(mo.md(%22Estimated%20FSR%3A%20**(%CE%94L%20%3D%200%20%E2%86%92%20no%20fringes)**%22))%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22Estimated%20ideal%20FSR%20(using%20ng)%3A%20**%7Bfsr_est_nm%3A.2f%7D%20nm**%22)%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20if%20measured%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_blocks.append(mo.md(f%22Measured%20FSR%3A%20**%7Bmeasured%3A.2f%7D%20nm**%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20delta_phi_est_rad%20is%20not%20None%20and%20delta_phi_est_cycles%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22Phase%20change%20estimate%20near%20%CE%BB0%3A%20**%CE%94%CF%86%20%E2%89%88%20%7Bdelta_phi_est_rad%3A.2f%7D%20rad**%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22(%E2%89%88%20**%7Bdelta_phi_est_cycles%3A.2f%7D%C3%972%CF%80**)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20error_pct%20is%20not%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22Percent%20difference%20vs%20estimate%3A%20**%7Berror_pct%3A%2B.1f%7D%25**%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20abs(error_pct)%20%3E%2025%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22**Tip%3A**%20if%20you%20changed%20%CE%94L%20or%20the%20view%20mode%2C%20re-pick%20%CE%BB1%20and%20%CE%BB2%20from%20the%20*current*%20plot%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22(old%20values%20often%20produce%20a%20mismatch).%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20fsr_tool_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22Enter%20%60%CE%BB1%60%20and%20%60%CE%BB2%60%20to%20compute%20the%20measured%20FSR.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20fsr_tool_view%20%3D%20mo.vstack(%5Bmo.md(%22%23%23%23%20FSR%20measurement%20tool%22)%5D%20%2B%20fsr_tool_blocks)%0A%20%20%20%20fsr_tool_view%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_interactive)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20task_fsr%20%3D%20mo.ui.checkbox(label%3D%22Measured%20FSR%20for%20two%20%CE%94L%20values%22%2C%20value%3DFalse)%0A%20%20%20%20task_compare%20%3D%20mo.ui.checkbox(label%3D%22Compared%20Analytic%20vs%20Simphony%20(Overlay)%22%2C%20value%3DFalse)%0A%20%20%20%20task_export%20%3D%20mo.ui.checkbox(label%3D%22Downloaded%20CSV%20(and%2For%20exported%20GDS)%22%2C%20value%3DFalse)%0A%20%20%20%20return%20task_compare%2C%20task_export%2C%20task_fsr%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20doc_callout_html%2C%0A%20%20%20%20doc_callout_list%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20show_interactive%2C%0A%20%20%20%20task_compare%2C%0A%20%20%20%20task_export%2C%0A%20%20%20%20task_fsr%2C%0A)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22info%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Key%20ideas%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22What%20you%20should%20learn%20from%20the%20plot%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EInterference%3A%3C%2Fstrong%3E%20the%20output%20power%20oscillates%20because%20the%20two%20arms%20recombine%20with%20a%20phase%20difference%20%CE%94%CF%86.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3E%CE%94L%20sets%20the%20fringe%20spacing%3A%3C%2Fstrong%3E%20increasing%20%CE%94L%20makes%20fringes%20get%20closer%20together%20(smaller%20FSR).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3En%3Csub%3Eeff%3C%2Fsub%3E%20vs%20n%3Csub%3Eg%3C%2Fsub%3E%3A%3C%2Fstrong%3E%20phase%20uses%20an%20effective%20index%2C%20but%20FSR%20depends%20on%20group%20index%20(dispersion%20matters).%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EWhy%20two%20curves%3A%3C%2Fstrong%3E%20analytic%20is%20an%20idealized%20model%3B%20Simphony%2FSAX%20assembles%20wavelength-dependent%20compact%20models.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20mo.md(%22%23%23%23%20Checklist%20(before%20moving%20on)%22)%0A%20%20%20%20mo.vstack(%5Btask_fsr%2C%20task_compare%2C%20task_export%5D)%0A%0A%20%20%20%20doc_callout_html(%0A%20%20%20%20%20%20%20%20%22exercise%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Checkpoint%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Record%20your%20results%22%2C%0A%20%20%20%20%20%20%20%20html%3D%22%22%22%0A%20%20%20%20%20%20%20%20%3Cp%3EFill%20in%20the%20table%20below%20(copy%20into%20your%20lab%20notes).%20Use%20the%20tool%20above%20to%20measure%20FSR%20from%20two%20adjacent%20maxima.%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%22%22%22%2C%0A%20%20%20%20)%0A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%7C%20Case%20%7C%20%CE%94L%20(%C2%B5m)%20%7C%20ng%20%7C%20%CE%BB0%20(nm)%20%7C%20Estimated%20FSR%20(nm)%20%7C%20Measured%20FSR%20(nm)%20%7C%20%25%20difference%20%7C%0A%20%20%20%20%20%20%20%20%7C---%7C---%3A%7C---%3A%7C---%3A%7C---%3A%7C---%3A%7C---%3A%7C%0A%20%20%20%20%20%20%20%20%7C%20A%20(default)%20%7C%2010%20%7C%204.19%20%7C%201550%20%7C%20%20%7C%20%20%7C%20%20%7C%0A%20%20%20%20%20%20%20%20%7C%20B%20(your%20choice)%20%7C%20%20%7C%20%20%7C%20%20%7C%20%20%7C%20%20%7C%20%20%7C%0A%0A%20%20%20%20%20%20%20%20%3Csmall%3ETip%3A%20if%20a%20%CE%94L%20preset%20is%20active%2C%20the%20notebook%20uses%20the%20**effective%20%CE%94L**%20shown%20in%20the%20tool%20readout%20(not%20the%20slider%20value).%3C%2Fsmall%3E%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%0A%20%20%20%20doc_callout_list(%0A%20%20%20%20%20%20%20%20%22warning%22%2C%0A%20%20%20%20%20%20%20%20tag%3D%22Common%20mistakes%22%2C%0A%20%20%20%20%20%20%20%20title%3D%22Debugging%20%E2%80%9Cmy%20FSR%20doesn%E2%80%99t%20match%E2%80%9D%22%2C%0A%20%20%20%20%20%20%20%20items%3D%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EPreset%20override%3A%3C%2Fstrong%3E%20if%20a%20%CE%94L%20preset%20is%20active%2C%20moving%20the%20%CE%94L%20slider%20won%E2%80%99t%20change%20the%20plot%E2%80%94set%20%3Cem%3EParameter%20preset%20%E2%86%92%20Custom%3C%2Fem%3E.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3EStale%20%CE%BB1%2F%CE%BB2%3A%3C%2Fstrong%3E%20if%20you%20change%20%CE%94L%2C%20%CE%BB0%2C%20ng%2C%20or%20View%20mode%2C%20re-pick%20new%20adjacent%20maxima%3B%20old%20values%20won%E2%80%99t%20match.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3Eng%20vs%20neff%3A%3C%2Fstrong%3E%20%3Ccode%3En_g%3C%2Fcode%3E%20sets%20fringe%20spacing%20(FSR)%3B%20%3Ccode%3En_eff(%CE%BB0)%3C%2Fcode%3E%20sets%20phase%20offset.%20Don%E2%80%99t%20expect%20them%20to%20do%20the%20same%20thing.%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cstrong%3ESimphony%20availability%3A%3C%2Fstrong%3E%20if%20Simphony%20is%20unavailable%20or%20errors%2C%20Overlay%20won%E2%80%99t%20show%20a%20second%20curve%E2%80%94check%20the%20%3Cem%3ESimphony%3A%3C%2Fem%3E%20status%20in%20the%20Model%20panel.%22%2C%0A%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_interactive)%3A%0A%20%20%20%20mo.stop(not%20show_interactive)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%23%20Guided%20exploration%0A%0A%20%20%20%20Try%20adjusting%20the%20sliders%20above%20and%20observe%20how%20the%20spectrum%20changes%3A%0A%0A%20%20%20%20-%20**Increase%20%CE%94L**%3A%20what%20happens%20to%20the%20fringe%20spacing%20(FSR)%3F%0A%20%20%20%20-%20**Change%20base%20arm%20length**%3A%20does%20this%20change%20the%20fringe%20spacing%20in%20a%20lossless%20model%3F%0A%0A%20%20%20%20You%20can%20think%20ahead%20to%20fabrication%3A%20base%20arm%20length%20affects%20footprint%20(and%20later%2C%20loss).%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_layout_section%2C%20w02_params)%3A%0A%20%20%20%20mo.stop(not%20show_layout_section)%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%20Connecting%20model%20and%20layout%0A%0A%20%20%20%20%20%20%20%20In%20the%20analytic%20model%2C%20the%20key%20parameter%20is%20the%20**path%20length%20difference**%20%CE%94L%20between%20the%20two%20arms.%0A%20%20%20%20%20%20%20%20In%20layout%2C%20%CE%94L%20corresponds%20to%20the%20extra%20physical%20length%20you%20route%20into%20one%20arm%20of%20the%20interferometer.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20_delta_length_um_effective%20%3D%20float(w02_params%5B%22delta_length_um_effective%22%5D)%0A%20%20%20%20if%20bool(w02_params%5B%22preset_active%22%5D)%3A%0A%20%20%20%20%20%20%20%20_deltaL_note%20%3D%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Analytic%20model%20currently%20uses%20%CE%94L%20%3D%20**%7B_delta_length_um_effective%3A.1f%7D%20%C2%B5m**%20%22%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22(preset%20overrides%20slider%3A%20%7Bfloat(w02_params%5B'delta_length_um_slider'%5D)%3A.1f%7D%20%C2%B5m).%22%0A%20%20%20%20%20%20%20%20)%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20_deltaL_note%20%3D%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20f%22Analytic%20model%20currently%20uses%20%CE%94L%20%3D%20**%7B_delta_length_um_effective%3A.1f%7D%20%C2%B5m**.%22%0A%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20_deltaL_note%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_layout_section)%3A%0A%20%20%20%20mo.stop(not%20show_layout_section)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%3Ca%20id%3D%22layout%22%3E%3C%2Fa%3E%0A%20%20%20%20%23%23%20From%20model%20to%20layout%3A%20gdsfactory%0A%0A%20%20%20%20The%20interactive%20plot%20above%20can%20show%20**two%20different%20curves**%20(choose%20*View%20%E2%86%92%20Overlay*)%3A%0A%0A%20%20%20%20-%20**Analytic%20curve%3A**%20our%20%E2%80%9Cby-hand%E2%80%9D%20ideal%20model%2C%20derived%20from%20interference%20and%20a%20simple%20phase%20term.%0A%20%20%20%20-%20**Simphony%20curve%3A**%20a%20**circuit%20simulation**%20assembled%20from%20**component%20models**%20(compact%20models)%20using%20SAX.%0A%0A%20%20%20%20In%20the%20Simphony%20view%2C%20the%20MZI%20isn%E2%80%99t%20%E2%80%9Cdrawn%E2%80%9D%20%E2%80%94%20it%E2%80%99s%20built%20from%20*building%20blocks*%20(splitter%2C%20waveguides%2C%20combiner)%2C%0A%20%20%20%20where%20each%20block%20has%20a%20wavelength-dependent%20response%20(often%20represented%20as%20an%20**S-matrix**).%20SAX%20connects%20these%0A%20%20%20%20blocks%20according%20to%20a%20netlist%20and%20computes%20the%20overall%20response.%0A%0A%20%20%20%20**So%20where%20does%20gdsfactory%20fit%3F**%0A%0A%20%20%20%20gdsfactory%20is%20our%20layout%20engine%3A%20it%20builds%20**geometry**%20(Components%20with%20ports%20and%20waveguides)%20and%20exports%20**GDS**.%0A%20%20%20%20In%20this%20notebook%2C%20gdsfactory%20appears%20here%20as%20a%20transition%3A%20you%E2%80%99ve%20modelled%20an%20MZI%E2%80%99s%20behavior%2C%20and%20next%20you%E2%80%99ll%0A%20%20%20%20learn%20how%20to%20*realize*%20an%20MZI%20in%20layout%20with%20the%20right%20ports%2C%20routing%2C%20and%20parameter%20control.%0A%0A%20%20%20%20This%20section%20builds%20a%20simple%20example%20MZI%20layout%20using%20%60gf.components.mzi(...)%60%20and%20shows%20an%20SVG%20preview%20inside%20marimo%20when%20possible.%20You%20can%20also%20export%20a%20GDS%20file%20for%20inspection%20in%20KLayout.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_layout_section)%3A%0A%20%20%20%20mo.stop(not%20show_layout_section)%0A%20%20%20%20show_layout%20%3D%20mo.ui.checkbox(label%3D%22Show%20layout%20preview%22%2C%20value%3DTrue)%0A%20%20%20%20gds_out%20%3D%20mo.ui.text(%0A%20%20%20%20%20%20%20%20value%3D%22marimo_course%2Fbuild%2Fweek2_mzi_example.gds%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22GDS%20output%20path%22%2C%0A%20%20%20%20)%0A%20%20%20%20export_gds%20%3D%20mo.ui.button(%0A%20%20%20%20%20%20%20%20value%3D0%2C%0A%20%20%20%20%20%20%20%20on_click%3Dlambda%20v%3A%20(v%20or%200)%20%2B%201%2C%0A%20%20%20%20%20%20%20%20kind%3D%22success%22%2C%0A%20%20%20%20%20%20%20%20label%3D%22Write%20GDS%22%2C%0A%20%20%20%20)%0A%20%20%20%20return%20export_gds%2C%20gds_out%2C%20show_layout%0A%0A%0A%40app.cell%0Adef%20_(%0A%20%20%20%20Path%2C%0A%20%20%20%20b64%2C%0A%20%20%20%20delta_length_um_effective%2C%0A%20%20%20%20export_gds%2C%0A%20%20%20%20gds_out%2C%0A%20%20%20%20gf%2C%0A%20%20%20%20gf_import_error%2C%0A%20%20%20%20mo%2C%0A%20%20%20%20show_layout%2C%0A%20%20%20%20show_layout_section%2C%0A)%3A%0A%20%20%20%20mo.stop(not%20show_layout_section)%0A%20%20%20%20layout_blocks%20%3D%20%5B%5D%0A%0A%20%20%20%20c%20%3D%20None%0A%20%20%20%20build_error%20%3D%20%22%22%0A%20%20%20%20if%20gf%20is%20None%3A%0A%20%20%20%20%20%20%20%20layout_blocks.append(mo.md(%22%60gdsfactory%60%20is%20not%20available%20in%20this%20environment.%22))%0A%20%20%20%20%20%20%20%20if%20gf_import_error%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.append(mo.md(f%22Details%3A%20%60%7Bgf_import_error%7D%60%22))%0A%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20c%20%3D%20gf.components.mzi(delta_length%3Dfloat(delta_length_um_effective))%0A%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20build_error%20%3D%20f%22%7Btype(e).__name__%7D%3A%20%7Be%7D%22%0A%0A%20%20%20%20%20%20%20%20if%20c%20is%20None%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.append(mo.md(f%22(Could%20not%20build%20%60gf.components.mzi%60%3A%20%60%7Bbuild_error%7D%60)%22))%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20show_layout.value%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20svg%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20hasattr(gf%2C%20%22export%22)%20and%20hasattr(gf.export%2C%20%22to_svg%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20svg%20%3D%20gf.export.to_svg(c)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20except%20Exception%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20svg%20%3D%20None%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20isinstance(svg%2C%20str)%20and%20%22%3Csvg%22%20in%20svg%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20svg_b64%20%3D%20b64.b64encode(svg.encode(%22utf-8%22)).decode(%22ascii%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.extend(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22%23%23%23%20Layout%20preview%22)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3Cdiv%20style%3D'max-width%3A100%25%3B%20overflow%3Aauto%3B'%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20f%22%3Cimg%20src%3D'data%3Aimage%2Fsvg%2Bxml%3Bbase64%2C%7Bsvg_b64%7D'%20style%3D'max-width%3A100%25%3B%20height%3Aauto%3B'%2F%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3C%2Fdiv%3E%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22(Preview%20unavailable%20in%20this%20environment%3B%20SVG%20export%20was%20not%20available.)%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20export_gds.value%20and%20export_gds.value%20%3E%200%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20out_path%20%3D%20Path(gds_out.value).expanduser()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20out_path.parent.mkdir(parents%3DTrue%2C%20exist_ok%3DTrue)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20written%20%3D%20c.write_gds(gdspath%3Dout_path)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.append(mo.md(f%22Wrote%3A%20%60%7Bwritten%7D%60%22))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20except%20Exception%20as%20e%3A%20%20%23%20pragma%3A%20no%20cover%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(f%22(GDS%20write%20failed%3A%20%60%7Btype(e).__name__%7D%3A%20%7Be%7D%60)%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20layout_blocks.append(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20mo.md(%22Click%20**Write%20GDS**%20to%20export%20the%20example%20layout.%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20if%20not%20layout_blocks%3A%0A%20%20%20%20%20%20%20%20layout_blocks.append(mo.md(%22%22))%0A%20%20%20%20mo.vstack(layout_blocks)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo%2C%20show_overview)%3A%0A%20%20%20%20mo.stop(not%20show_overview)%0A%20%20%20%20mo.md(r%22%22%22%0A%20%20%20%20%23%23%20What%E2%80%99s%20next%0A%0A%20%20%20%20In%20%60marimo_course%2Flessons%2Fw02_pdk_mzi_layout.py%60%2C%20you%E2%80%99ll%20shift%20from%20modelling%20to%20implementation%3A%0A%0A%20%20%20%20-%20Build%20an%20MZI%20layout%20from%20PDK%20building%20blocks%20with%20correct%20ports%20and%20routing.%0A%20%20%20%20-%20Control%20%CE%94L%20in%20geometry%20and%20verify%20it%20matches%20the%20modelling%20intuition%20from%20this%20notebook.%0A%20%20%20%20-%20Export%20GDS%20and%20inspect%20it%20(KLayout)%2C%20preparing%20for%20more%20realistic%20PDK-accurate%20circuits.%0A%0A%20%20%20%20In%20upcoming%20modelling%20lessons%2C%20we%E2%80%99ll%20add%20realism%20step-by-step%3A%0A%0A%20%20%20%20-%20**Dispersion%3A**%20use%20a%20wavelength-dependent%20%60n_eff(%CE%BB)%60%20so%20%60n_g%60%20emerges%20naturally%20(and%20FSR%20becomes%20a%20local%20approximation).%0A%20%20%20%20-%20**Loss%20%2B%20visibility%3A**%20include%20propagation%20loss%20(and%20later%2C%20imbalance)%20so%20fringes%20aren%E2%80%99t%20perfectly%200%E2%80%931.%0A%20%20%20%20-%20**Non-ideal%20couplers%3A**%20explore%20splitter%20imbalance%20and%20phase%20conventions%2C%20and%20how%20they%20affect%20%E2%80%9Cthrough%20vs%20cross%E2%80%9D.%0A%20%20%20%20-%20**Tuning%2Fmodulation%3A**%20connect%20phase%20tuning%20(thermal%2Felectrical)%20to%20a%20shift%20in%20the%20interference%20pattern.%0A%20%20%20%20%22%22%22)%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">ee3f5ee6ac6eed658975d4ac80164482</marimo-code-hash>
</body>
</html>
