
<!DOCTYPE html>

<html data-content_root="" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="Docutils 0.17.1: http://docutils.sourceforge.net/" name="generator"/>
<title>Ring Resonators — CamachoLab Photonics Bootcamp</title>
<script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
<!-- Loaded before other Sphinx assets -->
<link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet"/>
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet"/>
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet"/>
<link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" rel="preload" type="font/woff2"/>
<link as="font" crossorigin="" href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" rel="preload" type="font/woff2"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" rel="stylesheet" type="text/css"/>
<link href="../_static/togglebutton.css" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css" rel="stylesheet" type="text/css"/>
<link href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx-thebe.css" rel="stylesheet" type="text/css"/>
<link href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" rel="stylesheet" type="text/css"/>
<!-- Pre-loaded scripts that we'll load fully later -->
<link as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" rel="preload"/>
<link as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" rel="preload"/>
<script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
<script src="../_static/jquery.js"></script>
<script src="../_static/underscore.js"></script>
<script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
<script src="../_static/doctools.js"></script>
<script src="../_static/clipboard.min.js"></script>
<script src="../_static/copybutton.js"></script>
<script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
<script>let toggleHintShow = 'Click to show';</script>
<script>let toggleHintHide = 'Click to hide';</script>
<script>let toggleOpenOnPrint = 'true';</script>
<script src="../_static/togglebutton.js"></script>
<script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
<script src="../_static/design-tabs.js"></script>
<script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
<script async="async" src="../_static/sphinx-thebe.js"></script>
<script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
<script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>DOCUMENTATION_OPTIONS.pagename = 'pages/ring_resonators';</script>
<link href="https://byucamacholab.github.io/Photonics-Bootcamp/pages/ring_resonators.html" rel="canonical"/>
<link href="../_static/favicon-laser.svg" rel="shortcut icon"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="mmis.html" rel="next" title="Multimode Interferometers (MMIs)"/>
<link href="y_branch.html" rel="prev" title="Y-Branches"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
<link href="../_static/styles/chattutor.style.css" rel="stylesheet" type="text/css"/></head>
<body data-bs-root-margin="0px 0px -60%" data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-default-mode="" data-offset="180">
<div class="skip-link d-print-none" id="pst-skip-link"><a href="#main-content">Skip to main content</a></div>
<div id="pst-scroll-pixel-helper"></div>
<button class="btn rounded-pill" id="pst-back-to-top" type="button">
<i class="fa-solid fa-arrow-up"></i>Back to top</button>
<input class="sidebar-toggle" id="pst-primary-sidebar-checkbox" type="checkbox"/>
<label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
<input class="sidebar-toggle" id="pst-secondary-sidebar-checkbox" type="checkbox"/>
<label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
<div class="search-button__wrapper">
<div class="search-button__overlay"></div>
<div class="search-button__search-container">
<form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="fa-solid fa-magnifying-glass"></i>
<input aria-label="Search this book..." autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" id="search-input" name="q" placeholder="Search this book..." spellcheck="false" type="search"/>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
</div>
<div class="pst-async-banner-revealer d-none">
<aside aria-label="Version warning" class="d-none d-print-none" id="bd-header-version-warning"></aside>
</div>
<header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
</header>
<div class="bd-container">
<div class="bd-container__inner bd-page-width">
<div class="bd-sidebar-primary bd-sidebar">
<div class="sidebar-header-items sidebar-primary__section">
</div>
<div class="sidebar-primary-items__start sidebar-primary__section">
<div class="sidebar-primary-item">
<a class="navbar-brand logo" href="../index.html">
<img alt="CamachoLab Photonics Bootcamp - Home" class="logo__image only-light" src="../_static/logo.png"/>
<script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="CamachoLab Photonics Bootcamp - Home"/>`);</script>
</a></div>
<div class="sidebar-primary-item"><nav aria-label="Main" class="bd-links" id="bd-docs-nav">
<div class="bd-toc-item navbar-nav active">
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Front Matter</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Development Environment</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="open_source.html">Open source software</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="software.html">Software</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="wsl.html">WSL (Windows-only)</a></li>
<li class="toctree-l2"><a class="reference internal" href="vscode.html">Visual Studio Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_and_github.html">Git (and GitHub)</a></li>
<li class="toctree-l2"><a class="reference internal" href="python.html">Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="klayout.html">KLayout</a></li>
<li class="toctree-l2"><a class="reference internal" href="laboratory_tools.html">Laboratory Tools</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Passive Device Design and Simulation</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="photonic_devices.html">What are photonic devices?</a></li>
<li class="toctree-l1"><a class="reference internal" href="layer_stack.html">Defining the layer stack</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="components.html">Components</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="gds_to_meep.html">GDS to Meep</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="waveguides.html">Waveguides</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="waveguides_tir.html">Total Internal Reflection</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveguides_polarization.html">Polarization</a></li>
<li class="toctree-l2"><a class="reference internal" href="ray_optic_model.html">Improving the Ray-optic Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveguides_modelling.html">Modelling Wavegudies</a></li>
<li class="toctree-l2"><a class="reference internal" href="waveguides_mode_solvers.html">Waveguide modes</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="passive_components.html">Passive Components</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="directional_couplers.html">Directional couplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="y_branch.html">Y-Branches</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Ring Resonators</a></li>
<li class="toctree-l2"><a class="reference internal" href="mmis.html">Multimode Interferometers (MMIs)</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="optical_io.html">Optical I/O</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="grating_couplers.html">Grating couplers</a></li>
<li class="toctree-l2"><a class="reference internal" href="edge_couplers.html">Edge couplers</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="optimization.html">Optimization and inverse design</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="shape_optimization.html">Shape optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="adjoint_optimization.html">Adjoint optimization</a></li>
<li class="toctree-l2"><a class="reference internal" href="meep_to_gds.html">Meep to GDS</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="compact_models.html">Compact models</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="scattering_parameters.html">Scattering parameters</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="drc.html">Design rule checks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Circuit Design and Simulation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="pdks.html">Process design kits</a></li>
<li class="toctree-l1"><a class="reference internal" href="mzi.html">Mach-Zehnder interferometers</a></li>
<li class="toctree-l1"><a class="reference internal" href="mzi_layout.html">Laying out a Mach-Zehnder Interferometer</a></li>
<li class="toctree-l1"><a class="reference internal" href="layout_demo.html">Layout Demo</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Active Device Design and Simulation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="advanced_components.html">Advanced Components</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="phase_shifters.html">Phase Shifters</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="phase_shifters_heaters.html">Heaters</a></li>
<li class="toctree-l2"><a class="reference internal" href="phase_shifters_pn.html">PN and PIN Junctions</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Testing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="analyzing_circuits.html">Analyzing circuits</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">References</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/BYUCamachoLab/sky130ph">Repository</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/BYUCamachoLab/sky130ph/docs">PDK Documentation</a></li>
</ul>
</div>
</nav></div>
</div>
<div class="sidebar-primary-items__end sidebar-primary__section">
</div>
<div id="rtd-footer-container"></div>
</div>
<main class="bd-main" id="main-content" role="main">
<div class="sbt-scroll-pixel-helper"></div>
<div class="bd-content">
<div class="bd-article-container">
<div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
<div class="header-article-items__start">
<div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" data-bs-placement="bottom" data-bs-toggle="tooltip" for="__primary" title="Toggle primary sidebar">
<span class="fa-solid fa-bars"></span>
</label></div>
</div>
<div class="header-article-items__end">
<div class="header-article-item">
<div class="article-header-buttons">
<div class="dropdown dropdown-launch-buttons">
<button aria-expanded="false" aria-label="Launch interactive content" class="btn dropdown-toggle" data-bs-toggle="dropdown" type="button">
<i class="fas fa-rocket"></i>
</button>
<ul class="dropdown-menu">
<li><a class="btn btn-sm dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" href="https://mybinder.org/v2/gh/BYUCamachoLab/Photonics-Bootcamp/main?urlpath=tree/book/pages/ring_resonators.ipynb" target="_blank" title="Launch onBinder">
<span class="btn__icon-container">
<img src="../_static/images/logo_binder.svg"/>
</span>
<span class="btn__text-container">Binder</span>
</a>
</li>
<li><a class="btn btn-sm dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" href="https://colab.research.google.com/github/BYUCamachoLab/Photonics-Bootcamp/blob/main/book/pages/ring_resonators.ipynb" target="_blank" title="Launch onColab">
<span class="btn__icon-container">
<img src="../_static/images/logo_colab.png"/>
</span>
<span class="btn__text-container">Colab</span>
</a>
</li>
</ul>
</div>
<div class="dropdown dropdown-source-buttons">
<button aria-expanded="false" aria-label="Source repositories" class="btn dropdown-toggle" data-bs-toggle="dropdown" type="button">
<i class="fab fa-github"></i>
</button>
<ul class="dropdown-menu">
<li><a class="btn btn-sm btn-source-repository-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" href="https://github.com/BYUCamachoLab/Photonics-Bootcamp" target="_blank" title="Source repository">
<span class="btn__icon-container">
<i class="fab fa-github"></i>
</span>
<span class="btn__text-container">Repository</span>
</a>
</li>
<li><a class="btn btn-sm btn-source-edit-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" href="https://github.com/BYUCamachoLab/Photonics-Bootcamp/edit/main/book/pages/ring_resonators.ipynb" target="_blank" title="Suggest edit">
<span class="btn__icon-container">
<i class="fas fa-pencil-alt"></i>
</span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
<li><a class="btn btn-sm btn-source-issues-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" href="https://github.com/BYUCamachoLab/Photonics-Bootcamp/issues/new?title=Issue%20on%20page%20%2Fpages/ring_resonators.html&amp;body=Your%20issue%20content%20here." target="_blank" title="Open an issue">
<span class="btn__icon-container">
<i class="fas fa-lightbulb"></i>
</span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
</ul>
</div>
<div class="dropdown dropdown-download-buttons">
<button aria-expanded="false" aria-label="Download this page" class="btn dropdown-toggle" data-bs-toggle="dropdown" type="button">
<i class="fas fa-download"></i>
</button>
<ul class="dropdown-menu">
<li><a class="btn btn-sm btn-download-source-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" href="../_sources/pages/ring_resonators.ipynb" target="_blank" title="Download source file">
<span class="btn__icon-container">
<i class="fas fa-file"></i>
</span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
<li>
<button class="btn btn-sm btn-download-pdf-button dropdown-item" data-bs-placement="left" data-bs-toggle="tooltip" onclick="window.print()" title="Print to PDF">
<span class="btn__icon-container">
<i class="fas fa-file-pdf"></i>
</span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
</ul>
</div>
<button class="btn btn-sm btn-fullscreen-button" data-bs-placement="bottom" data-bs-toggle="tooltip" onclick="toggleFullScreen()" title="Fullscreen mode">
<span class="btn__icon-container">
<i class="fas fa-expand"></i>
</span>
</button>
<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>
<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" data-bs-placement="bottom" data-bs-toggle="tooltip" for="__secondary" title="Toggle secondary sidebar">
<span class="fa-solid fa-list"></span>
</label>
</div></div>
</div>
</div>
</div>
<div class="onlyprint" id="jb-print-docs-body">
<h1>Ring Resonators</h1>
<!-- Table of contents -->
<div id="print-main-content">
<div id="jb-print-toc">
<div>
<h2> Contents </h2>
</div>
<nav aria-label="Page">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intuitive-description">Intuitive Description</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-description">Mathematical Description</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resonance">Resonance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saturation">Saturation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#critical-coupling">Critical Coupling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fsr-free-spectral-range">FSR- Free Spectral Range</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bandwidth-and-quality-factor">Bandwidth and Quality Factor</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fields-in-a-ring-resonator">Fields in a Ring Resonator</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation">Simulation</a></li>
</ul>
</nav>
</div>
</div>
</div>
<div id="searchbox"></div>
<article class="bd-article">
<section class="tex2jax_ignore mathjax_ignore" id="ring-resonators">
<h1>Ring Resonators<a class="headerlink" href="#ring-resonators" title="Permalink to this heading">#</a></h1>
<section id="intuitive-description">
<h2>Intuitive Description<a class="headerlink" href="#intuitive-description" title="Permalink to this heading">#</a></h2>
<p>A ring resonator is a waveguide loop with one or two waveguides next to it in a directional coupler configuration. Light enters the ring via directional coupling from one of the waveguides, also called an access waveguide or a bus. Single and double bus designs are the most common, corresponding to the number of coupler waveguides next to the ring. As we learned in the directional coupler section, the amount of light coupled into the ring depends on the gap between the bus and the ring waveguides, and the effective coupling length.</p>
<div style="text-align: center;">
<p><img alt="dir_cplr" src="https://github.com/BYUCamachoLab/Photonics-Bootcamp/blob/main/book/images/Notebook_Images/ring_resonator.png?raw=true"/></p>
</div>
<p style="text-align: center;"> Layout of a racetrack ring resonator in gdsfactory </p>
<p>Imagine a scenario where we turn on a laser input to a ring resonator. As light couples into the ring, it will go around until it arrives back at the coupling point. At the start of the 2nd round trip, the light in the ring interferes with the light coming from the bus waveguide. When the interference of the waves is constructive, the intensity of light in the ring increases for the next round trip until the round trip propagation loss is equal to input power from the coupler waveguide. When the constructive interference is perfect, we say that the ring is in resonance. Resonance significantly increases the intensity of the electric field in the ring. The wavelengths which interfere destructively in the ring instead couple back into the bus waveguide, and the intensity of the electric field is low in the ring for those wavelengths.</p>
<div style="text-align: center;">
<p><img alt="dir_cplr" src="https://github.com/BYUCamachoLab/Photonics-Bootcamp/blob/main/book/images/Notebook_Images/ring_resonator_buildup.gif"/></p>
</div>
<p>The main uses for ring resonators are as narrow-bandpass filters and electric field intensity amplifiers (inside the ring, on resonance). However, they are very flexible and are widely used in photonics.</p>
</section>
<section id="mathematical-description">
<h2>Mathematical Description<a class="headerlink" href="#mathematical-description" title="Permalink to this heading">#</a></h2>
<p>Let’s build up some of ring resonators’ behavior mathematically. First, we want to find how far the light has to travel around the ring, which is the “effective circumference” of the resonator. This can be approximated by drawing a line through the resonator’s waveguide center around the ring, and finding its length. For a perfect circle resonator, this is given by</p>
<p><span class="math notranslate nohighlight">\(L = 2\pi r\)</span>.</p>
<p>While the light is propagating in the resonator, some of the light scatters out due to the bending of the waveguide. This is referred to as propagation loss or bend loss (since the waveguide is bent). We write it as <span class="math notranslate nohighlight">\(A\)</span> and calculate it using</p>
<p><span class="math notranslate nohighlight">\(A = e^{-\alpha L}\)</span></p>
<p>where  <span class="math notranslate nohighlight">\(\alpha\)</span> is the waveguide propagation loss, commonly in units of <span class="math notranslate nohighlight">\((cm^{-1})\)</span>.</p>
<p>Next, we’ll want to find how much power goes in and out of a ring resonator. To do this, we find the ratio of the electric field at both the input and the output ports. This ratio will tell you if more light is going into the ring or out of it. The two electric fields are:</p>
<p><span class="math notranslate nohighlight">\(E_{out,bus} = t\ E_{in,bus} + \kappa\ E_{in,ring}\)</span></p>
<p><span class="math notranslate nohighlight">\(E_{out,ring} = t^*\ E_{in,ring} - \kappa^*\ E_{in,bus}\)</span></p>
<p>Where <span class="math notranslate nohighlight">\(|\kappa|^2\)</span> is the power transferred to and from the ring and <span class="math notranslate nohighlight">\(|t|^2 = 1 - |\kappa|^2\)</span> is the power remaining (<span class="math notranslate nohighlight">\(\kappa\)</span> and <span class="math notranslate nohighlight">\(t\)</span> are also known as reflection/transmission or coupling coefficients).</p>
<p>Remembering that <span class="math notranslate nohighlight">\(\beta = \frac{2 \pi n}{\lambda}\)</span> is the propagation constant, we can then define the Ring Resonator Transfer Function as the ratio of the output and input electric fields squared. Substituting the above two formulas finally gives us the transfer function of the ring resonator.</p>
<p><span class="math notranslate nohighlight">\(T = \left|\frac{E_{out,bus}}{E_{in,bus}}\right|^2 = \left|\frac{t-e^{-\alpha L/2}e^{j \beta L}}{1-e^{-\alpha L/2}e^{j \beta L}} \right|^2\)</span></p>
<section id="resonance">
<h3>Resonance<a class="headerlink" href="#resonance" title="Permalink to this heading">#</a></h3>
<p>A ring is in resonance when the round trip length of the resonator accumulates an integer multiple of <span class="math notranslate nohighlight">\(2\pi\)</span> phase, i.e. <span class="math notranslate nohighlight">\(\beta L = m2\pi\)</span>, which is required for the round-trip light to be in phase with the newly coupled light from the bus waveguide. Another way we can write this is,</p>
<p><span class="math notranslate nohighlight">\(m \frac{\lambda}{n_{\text{eff}( \lambda )}} = 2\pi r\)</span></p>
<p><span class="math notranslate nohighlight">\(m\)</span> is the azimuthal mode number (which must be positive) of the resonator mode and <span class="math notranslate nohighlight">\(\lambda\)</span> is the resonant wavelength. We can then solve for the resonant wavelengths of the ring using</p>
<p><span class="math notranslate nohighlight">\(\lambda_m = \frac{2\pi\ r\ n_{\text{eff}( \lambda )}}{m}\)</span></p>
</section>
<section id="saturation">
<h3>Saturation<a class="headerlink" href="#saturation" title="Permalink to this heading">#</a></h3>
<p>Resonator saturation happens when the input light from the bus waveguide is lost over one round trip due to propagation loss, i.e.</p>
<p><span class="math notranslate nohighlight">\(|t| = e^{\frac{-\alpha L}{2}}\)</span></p>
<p>which leads to</p>
<p><span class="math notranslate nohighlight">\(|t|^2 = e^{-\alpha L}\)</span>.</p>
<p>Note that <span class="math notranslate nohighlight">\(\alpha\)</span> depends on the intensity of the electric field inside the ring, so if the intensity in the resonator increases, <span class="math notranslate nohighlight">\(\alpha\)</span> also increases, which brings it closer to saturation. Saturation state is also called the steady-state operation of a ring resonator which is established after the input light has made many round trips around the resonator. Note that non-resonant wavelengths can also be in saturation, they will just have much smaller intensity at saturation than resonant wavelengths.</p>
</section>
<section id="critical-coupling">
<h3>Critical Coupling<a class="headerlink" href="#critical-coupling" title="Permalink to this heading">#</a></h3>
<p>Critical coupling occurs when all of the light from the bus waveguide is coupled into the ring. For this to happen, a few conditions must be met:</p>
<ul class="simple">
<li><p>The wavelength of light must be resonant in the ring.</p></li>
<li><p>The power loss coefficient over a round trip in the resonator must be equal to the power transmission constant in the directional coupler section.</p></li>
</ul>
<p>A critically coupled resonator is also in saturation. Intuitively explained, the phase of the light incoming from the ring is just right to completely destructively interfere with the light in the input bus waveguide, causing all the light to couple into the resonator.</p>
<p>Under these conditions, <span class="math notranslate nohighlight">\(|t| = e^{-\alpha L/2}\)</span> and <span class="math notranslate nohighlight">\(e^{j \beta L} = 0\)</span>, so when we substitute into the transfer function above we get</p>
<p><span class="math notranslate nohighlight">\(T = \left|\frac{E_{out,bus}}{E_{in,bus}}\right|^2 = 0\)</span>.</p>
<p>Critical coupling is useful because it ensures that (almost) all the power at resonant wavelengths is filtered out from the bus waveguide.</p>
</section>
<section id="fsr-free-spectral-range">
<h3>FSR- Free Spectral Range<a class="headerlink" href="#fsr-free-spectral-range" title="Permalink to this heading">#</a></h3>
<p>The Free Spectral Range (FSR) of a resonator is the distance between resonant wavelengths, i.e. the peak-to-peak distance on a spectral response plot for a ring resonator.</p>
<p><span class="math notranslate nohighlight">\(FSR = \frac{\lambda ^2}{n_{\text{eff}}(\lambda)L}\)</span></p>
</section>
<section id="bandwidth-and-quality-factor">
<h3>Bandwidth and Quality Factor<a class="headerlink" href="#bandwidth-and-quality-factor" title="Permalink to this heading">#</a></h3>
<p>In photonics, the bandwidth of a resonant peak is defined as the Full Width at Half Maximum (FWHM) and can be calculated numerically from spectral response data of a resonator.</p>
<p>An analogous quantity to describe resonance bandwidth/sharpness is Quality Factor (or Q-factor), defined as</p>
<p><span class="math notranslate nohighlight">\(Q = \frac{\lambda}{\Delta\lambda} = \frac{f}{\Delta f}\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\Delta\)</span> represents FWHM in either frequency or lambda. A low quality factor indicates more loss in the resonator. A higher Q means less loss and a sharper peak. Q factors are more commonly used than FWHM when comparing resonators because it is a unitless quantity that doesn’t scale with the operating wavelength of the resonator (NOTE: Q factors DO change with respect to wavelength due to dispersion, but it includes wavelength scaling: e.g. a FWHM of 10nm at 1500nm gives a Q of 150, while 10nm at 2000nm gives a Q of 200).</p>
</section>
</section>
<section id="fields-in-a-ring-resonator">
<h2>Fields in a Ring Resonator<a class="headerlink" href="#fields-in-a-ring-resonator" title="Permalink to this heading">#</a></h2>
<p>The following Meep script sets up a single bus ring resonator and runs a simulation that computes the electric field and creates a gif showing how it changes in the ring. Find a combination of the radius and wavelength that will lead to resonance. Also, feel free to change the coupling gap.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">meep</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mp</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">Video</span>

<span class="c1"># Create a ring resonator with a radius of 10um</span>

<span class="c1"># Define materials</span>
<span class="n">Si</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Medium</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mf">3.45</span><span class="p">)</span>
<span class="n">SiO2</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Medium</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mf">1.45</span><span class="p">)</span>

<span class="c1"># Define geometrical parameters</span>
<span class="n">d_pml</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># thickness of the pml</span>
<span class="n">d_pad</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># thickness of padding around geometry</span>
<span class="n">wg_width</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># width of the coupling waveguide</span>
<span class="n">r</span> <span class="o">=</span> <span class="mi">10</span>          <span class="c1">## CHANGE RADIUS</span>
<span class="n">r_in</span> <span class="o">=</span> <span class="n">r</span> <span class="o">-</span> <span class="n">wg_width</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">r_out</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">wg_width</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">wg_length</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">r_out</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pad</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pml</span> <span class="c1"># length of the waveguide</span>
<span class="n">gap</span> <span class="o">=</span> <span class="mf">0.3</span> <span class="c1"># gap between waveguide and ring</span>
<span class="n">wvl</span> <span class="o">=</span> <span class="mf">1.55</span>      <span class="c1">## CHANGE WAVELENGTH</span>

<span class="n">pml</span> <span class="o">=</span> <span class="p">[</span><span class="n">mp</span><span class="o">.</span><span class="n">PML</span><span class="p">(</span><span class="n">d_pml</span><span class="p">)]</span>
<span class="n">Sx</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">r_out</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pad</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pml</span> <span class="c1"># width of the cell</span>
<span class="n">Sy</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">r_out</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">d_pad</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pml</span> <span class="c1"># length of the cell</span>

<span class="n">geometry</span> <span class="o">=</span> <span class="p">[</span><span class="n">mp</span><span class="o">.</span><span class="n">Cylinder</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">r_out</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">Si</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">d_pad</span><span class="o">*</span><span class="mf">1.5</span><span class="p">)),</span>
            <span class="n">mp</span><span class="o">.</span><span class="n">Cylinder</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">r_in</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">SiO2</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">d_pad</span><span class="o">*</span><span class="mf">1.5</span><span class="p">)),</span>
            <span class="n">mp</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">wg_length</span><span class="p">,</span><span class="n">wg_width</span><span class="p">),</span> <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="n">r_out</span><span class="o">+</span><span class="n">d_pad</span><span class="o">*</span><span class="mf">1.5</span><span class="o">-</span><span class="n">gap</span><span class="p">),</span> <span class="n">material</span><span class="o">=</span><span class="n">Si</span><span class="p">)]</span>

<span class="c1"># Create Eigenmode pulse source</span>
<span class="n">fcen</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">fwidth</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">fcen</span>
<span class="n">src</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">GaussianSource</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="n">fcen</span><span class="p">,</span> <span class="n">fwidth</span><span class="o">=</span><span class="n">fwidth</span><span class="p">)</span>
<span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="n">mp</span><span class="o">.</span><span class="n">EigenModeSource</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">eig_band</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">eig_kpoint</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">size</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
        <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="o">-</span><span class="mf">0.4</span><span class="o">*</span><span class="n">Sx</span><span class="p">,</span> <span class="o">-</span><span class="n">r_out</span><span class="o">+</span><span class="n">d_pad</span><span class="o">*</span><span class="mf">1.5</span><span class="o">-</span><span class="n">gap</span><span class="p">))</span>
        <span class="p">]</span>

<span class="c1"># Set up simulation</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Simulation</span><span class="p">(</span>
    <span class="n">resolution</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">default_material</span><span class="o">=</span><span class="n">SiO2</span><span class="p">,</span>
    <span class="n">cell_size</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="n">Sx</span><span class="p">,</span><span class="n">Sy</span><span class="p">),</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">geometry</span><span class="p">,</span>
    <span class="n">boundary_layers</span><span class="o">=</span><span class="n">pml</span><span class="p">,</span>
    <span class="n">sources</span><span class="o">=</span><span class="n">source</span>
<span class="p">)</span>

<span class="n">sim</span><span class="o">.</span><span class="n">plot2D</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">PIL</span><span class="w"> </span><span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">glob</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">getpass</span>

<span class="c1"># # Capture electric field intensity over time and output into a gif</span>
<span class="c1"># sim.run(mp.at_beginning(mp.output_epsilon),</span>
<span class="c1">#         mp.to_appended("ez", mp.at_every(2, mp.output_efield_z)),</span>
<span class="c1">#         until=600)</span>

<span class="c1"># Generate pngs from the simulation output</span>
<span class="c1"># This line assumes that colormaps are working, </span>
<span class="c1"># you are in the same directory as the output files, </span>
<span class="c1"># and that h5py is installed</span>
<span class="c1"># If you have a problem with h5utils, see note below</span>
<span class="n">username</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getuser</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="sa">f</span><span class="s2">"h5topng -t 0:299 -R -Zc /home/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/miniconda3/envs/photonics/share/h5utils/colormaps/RdBu -A eps-000000.00.h5 -a /home/</span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s2">/miniconda3/envs/photonics/share/h5utils/colormaps/gray ez.h5"</span><span class="p">)</span>

<span class="c1"># Create a gif from the pngs</span>
<span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">imgs</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s2">"ez.t*"</span><span class="p">)</span>
<span class="n">imgs</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">imgs</span><span class="p">:</span>
    <span class="n">new_frame</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_frame</span><span class="p">)</span>
 
<span class="c1"># Save into a GIF file that loops forever</span>
<span class="n">frames</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">'ez.gif'</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">'GIF'</span><span class="p">,</span>
               <span class="n">append_images</span><span class="o">=</span><span class="n">frames</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
               <span class="n">save_all</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
               <span class="n">loop</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Clean up workspace by deleting all generated images</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">imgs</span><span class="p">:</span> 
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Here is the resulting GIF:</p>
<div style="text-align: center;">
<p><img alt="ezgif" src="https://github.com/BYUCamachoLab/Photonics-Bootcamp/blob/main/book/images/Notebook_Images/ez.gif?raw=true"/></p>
</div></section>
<section id="simulation">
<h2>Simulation<a class="headerlink" href="#simulation" title="Permalink to this heading">#</a></h2>
<p>To fully simulate a ring resonator and find its resonances, it is often best to only simulate half of the ring. Otherwise, the time that it takes for the fields to decay in the resonator is too long and the computation gets out of hand (as shown above where the fields were not close to decaying despite running the simulation for 600 time steps). Below is a Meep script that sets up the geometry for a half a ring resonator. See if you can complete the script to fully simulate the ring.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">meep</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mp</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Create a ring resonator with a radius of 10um</span>

<span class="c1"># Define materials</span>
<span class="n">Si</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Medium</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mf">3.45</span><span class="p">)</span>
<span class="n">SiO2</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Medium</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="mf">1.45</span><span class="p">)</span>

<span class="c1"># Define geometrical parameters</span>
<span class="n">d_pml</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># thickness of the pml</span>
<span class="n">d_pad</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># thickness of padding around geometry</span>
<span class="n">wg_width</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1"># width of the coupling waveguide</span>
<span class="n">r</span> <span class="o">=</span> <span class="mi">10</span>          <span class="c1">## CHANGE RADIUS</span>
<span class="n">r_in</span> <span class="o">=</span> <span class="n">r</span> <span class="o">-</span> <span class="n">wg_width</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">r_out</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">wg_width</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">wg_length</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">r_out</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pad</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pml</span> <span class="c1"># length of the waveguide</span>
<span class="n">gap</span> <span class="o">=</span> <span class="mf">0.3</span> <span class="c1"># gap between waveguide and ring</span>
<span class="n">wvl</span> <span class="o">=</span> <span class="mf">1.55</span>      <span class="c1">## CHANGE WAVELENGTH</span>
<span class="n">gap</span> <span class="o">=</span> <span class="mf">0.3</span>       <span class="c1">## CHANGE GAP</span>

<span class="n">pml</span> <span class="o">=</span> <span class="p">[</span><span class="n">mp</span><span class="o">.</span><span class="n">PML</span><span class="p">(</span><span class="n">d_pml</span><span class="p">)]</span>
<span class="n">Sx</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">r_out</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pad</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pml</span> <span class="c1"># width of the cell</span>
<span class="n">Sy</span> <span class="o">=</span> <span class="n">r_out</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">d_pad</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">d_pml</span> <span class="c1"># length of the cell</span>
<span class="n">wg_center</span> <span class="o">=</span> <span class="o">-</span><span class="n">Sy</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">r_out</span> <span class="o">+</span> <span class="n">d_pml</span> <span class="o">+</span> <span class="n">gap</span>

<span class="n">geometry</span> <span class="o">=</span> <span class="p">[</span><span class="n">mp</span><span class="o">.</span><span class="n">Cylinder</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">r_out</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">Si</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">Sy</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">d_pml</span><span class="p">)),</span>
            <span class="n">mp</span><span class="o">.</span><span class="n">Cylinder</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="n">r_in</span><span class="p">,</span> <span class="n">material</span><span class="o">=</span><span class="n">SiO2</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">Sy</span><span class="o">/</span><span class="mi">2</span> <span class="o">+</span> <span class="n">d_pml</span><span class="p">)),</span>
            <span class="n">mp</span><span class="o">.</span><span class="n">Block</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">wg_length</span><span class="p">,</span><span class="n">wg_width</span><span class="p">),</span> <span class="n">material</span><span class="o">=</span><span class="n">Si</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">wg_center</span><span class="p">))]</span>

<span class="c1"># Create Eigenmode pulse source</span>
<span class="n">fcen</span> <span class="o">=</span> <span class="mf">0.15</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.1</span>
<span class="n">fwidth</span> <span class="o">=</span> <span class="n">width</span> <span class="o">*</span> <span class="n">fcen</span>
<span class="n">src</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">GaussianSource</span><span class="p">(</span><span class="n">frequency</span><span class="o">=</span><span class="n">fcen</span><span class="p">,</span> <span class="n">fwidth</span><span class="o">=</span><span class="n">fwidth</span><span class="p">)</span>
<span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="n">mp</span><span class="o">.</span><span class="n">EigenModeSource</span><span class="p">(</span><span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">eig_band</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">eig_kpoint</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
        <span class="n">size</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span>
        <span class="n">center</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="o">-</span><span class="n">Sx</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">d_pml</span><span class="o">+</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">wg_center</span><span class="p">))</span>
        <span class="p">]</span>

<span class="c1"># Set up simulation</span>
<span class="n">sim</span> <span class="o">=</span> <span class="n">mp</span><span class="o">.</span><span class="n">Simulation</span><span class="p">(</span>
    <span class="n">resolution</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
    <span class="n">default_material</span><span class="o">=</span><span class="n">SiO2</span><span class="p">,</span>
    <span class="n">cell_size</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">Vector3</span><span class="p">(</span><span class="n">Sx</span><span class="p">,</span><span class="n">Sy</span><span class="p">),</span>
    <span class="n">geometry</span><span class="o">=</span><span class="n">geometry</span><span class="p">,</span>
    <span class="n">boundary_layers</span><span class="o">=</span><span class="n">pml</span><span class="p">,</span>
    <span class="n">sources</span><span class="o">=</span><span class="n">source</span>
<span class="p">)</span>

<span class="n">sim</span><span class="o">.</span><span class="n">plot2D</span><span class="p">()</span>

<span class="c1">## INSERT YOUR CODE HERE</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./pages"
        },
        predefinedOutput: true
    }
    </script>
<script>kernelName = 'python3'</script>
</article>
<footer class="prev-next-footer d-print-none">
<div class="prev-next-area">
<a class="left-prev" href="y_branch.html" title="previous page">
<i class="fa-solid fa-angle-left"></i>
<div class="prev-next-info">
<p class="prev-next-subtitle">previous</p>
<p class="prev-next-title">Y-Branches</p>
</div>
</a>
<a class="right-next" href="mmis.html" title="next page">
<div class="prev-next-info">
<p class="prev-next-subtitle">next</p>
<p class="prev-next-title">Multimode Interferometers (MMIs)</p>
</div>
<i class="fa-solid fa-angle-right"></i>
</a>
</div>
</footer>
</div>
<div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">
<div class="sidebar-secondary-item">
<div class="page-toc tocsection onthispage">
<i class="fa-solid fa-list"></i> Contents
  </div>
<nav class="bd-toc-nav page-toc">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#intuitive-description">Intuitive Description</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-description">Mathematical Description</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resonance">Resonance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saturation">Saturation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#critical-coupling">Critical Coupling</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fsr-free-spectral-range">FSR- Free Spectral Range</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#bandwidth-and-quality-factor">Bandwidth and Quality Factor</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fields-in-a-ring-resonator">Fields in a Ring Resonator</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#simulation">Simulation</a></li>
</ul>
</nav></div>
</div></div>
</div>
<footer class="bd-footer-content">
<div class="bd-footer-content__inner container">
<div class="footer-item">
<p class="component-author">
By CamachoLab and Google
</p>
</div>
<div class="footer-item">
<p class="copyright">
    
      © Copyright 2023.
      <br/>
</p>
</div>
<div class="footer-item">
</div>
<div class="footer-item">
</div>
</div>
</footer>
</main>
</div>
</div>
<!-- Scripts loaded after <body> so the DOM is not blocked -->
<script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>
<footer class="bd-footer">
</footer>
<script src="../_static/scripts/chattutor.config.js"></script><script src="../_static/scripts/chattutor.min.js" type="module"></script></body>
</html>